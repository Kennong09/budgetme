const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdfmake-B9-gh6SH.js","assets/react-vendor-D4A9EtXC.js","assets/vfs_fonts-DtMofV48.js"])))=>i.map(i=>d[i]);
import{j as e}from"./ui-vendor-Cn1Vfl4w.js";import{r as _,L as T,u as K}from"./react-vendor-D4A9EtXC.js";import{f as C,c as R,u as I,g as B,e as X,d as H,b as Q,s as L,h as oe,_ as ce}from"./index-BbApZ7g3.js";import{G as Se}from"./GoalProgressSection-Cn9Xum9Y.js";import{C as ke}from"./ContributionModal-CQBvoOt8.js";import{G as Ee}from"./GoalsErrorBoundary-CvmDXTvD.js";import{p as de}from"./utils-vendor-DvLzUnYR.js";import{P as w,A as G,T as y,a as me,b as M,c as Te,W as Ge,F as De,d as $e}from"./index-CY0iYKBs.js";/* empty css                       */import"./chart-vendor-B0c7K_uV.js";import"./PermissionErrorModal-Dc2W8uaB.js";import"./ContributionMobileFooter-vJRvixwu.js";import"./AccountSelector-Bv9lXSIJ.js";import"./accountService-CFCTGWw4.js";import"./currencyUtils-BZq_rNNs.js";const Me=({goalSummary:t,filteredGoalsCount:r,onToggleTip:l})=>e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-4 col-md-6 mb-4",children:e.jsx("div",{className:"card border-left-primary shadow h-100 py-2 animate__animated animate__fadeIn",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsxs("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1 d-flex align-items-center",children:["Active Goals",e.jsx("div",{className:"ml-2 position-relative",children:e.jsx("i",{className:"fas fa-info-circle text-gray-400 cursor-pointer",onClick:s=>l("activeGoals",s),"aria-label":"Active Goals information",style:{cursor:"pointer"}})})]}),e.jsx("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:r})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-flag fa-2x text-gray-300"})})]})})})}),e.jsx("div",{className:"col-xl-4 col-md-6 mb-4",children:e.jsx("div",{className:"card border-left-success shadow h-100 py-2 animate__animated animate__fadeIn",style:{animationDelay:"0.1s"},children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsxs("div",{className:"text-xs font-weight-bold text-success text-uppercase mb-1 d-flex align-items-center",children:["Total Saved",e.jsx("div",{className:"ml-2 position-relative",children:e.jsx("i",{className:"fas fa-info-circle text-gray-400 cursor-pointer",onClick:s=>l("totalSaved",s),"aria-label":"Total Saved information",style:{cursor:"pointer"}})})]}),e.jsx("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:C(t.totalCurrentAmount)})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-piggy-bank fa-2x text-gray-300"})})]})})})}),e.jsx("div",{className:"col-xl-4 col-md-6 mb-4",children:e.jsx("div",{className:"card border-left-info shadow h-100 py-2 animate__animated animate__fadeIn",style:{animationDelay:"0.2s"},children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsxs("div",{className:"text-xs font-weight-bold text-info text-uppercase mb-1 d-flex align-items-center",children:["Total Target",e.jsx("div",{className:"ml-2 position-relative",children:e.jsx("i",{className:"fas fa-info-circle text-gray-400 cursor-pointer",onClick:s=>l("totalTarget",s),"aria-label":"Total Target information",style:{cursor:"pointer"}})})]}),e.jsx("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:C(t.totalTargetAmount)})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-bullseye fa-2x text-gray-300"})})]})})})})]}),Y=t=>t.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),Ae=(t,r)=>{switch(r){case"name":return[...t].sort((l,s)=>l.goal_name.localeCompare(s.goal_name));case"target_date":return[...t].sort((l,s)=>new Date(l.target_date).getTime()-new Date(s.target_date).getTime());case"progress":return[...t].sort((l,s)=>{const o=l.current_amount/l.target_amount;return s.current_amount/s.target_amount-o});case"amount":return[...t].sort((l,s)=>s.target_amount-l.target_amount);default:return t}},Le=(t,r)=>{let l=[...t];if(r.priority!=="all"&&(l=l.filter(s=>s.priority===r.priority)),r.category!=="all"&&(l=l.filter(s=>s.status===r.category)),r.scope!=="all"&&(r.scope==="personal"?l=l.filter(s=>!s.is_family_goal):r.scope==="family"&&(l=l.filter(s=>s.is_family_goal))),r.search){const s=r.search.toLowerCase();l=l.filter(o=>o.goal_name.toLowerCase().includes(s)||o.notes&&o.notes.toLowerCase().includes(s)||o.shared_by_name&&o.shared_by_name.toLowerCase().includes(s))}return l=Ae(l,r.sortBy),l},Re=t=>{const r=t>=90?"Healthy":t>=75?"On Track":t>=50?"Getting Started":"Just Beginning",l=t>=90?"check-circle":t>=75?"thumbs-up":t>=50?"exclamation-circle":"exclamation-triangle",s=t>=90?"#1cc88a":t>=75?"#36b9cc":t>=50?"#f6c23e":"#e74a3b";return{goalHealthStatus:r,goalHealthIcon:l,goalHealthColor:s}},xe=t=>{const r=t.reduce((o,i)=>o+i.current_amount,0),l=t.reduce((o,i)=>o+i.target_amount,0),s=l>0?Math.min(r/l*100,100):0;return{totalCurrentAmount:r,totalTargetAmount:l,overallProgress:s}},Be=({goals:t,goalSummary:r,onToggleTip:l})=>{const{overallProgress:s}=r,{goalHealthStatus:o,goalHealthIcon:i,goalHealthColor:x}=Re(s);return e.jsx("div",{className:"col-xl-4 col-lg-5 mb-4",children:e.jsxs("div",{className:"card shadow animate__animated animate__fadeIn",style:{animationDelay:"0.45s"},children:[e.jsx("div",{className:"card-header py-3",children:e.jsxs("h6",{className:"m-0 font-weight-bold text-primary d-flex align-items-center",children:["Goal Health",e.jsx("div",{className:"ml-2 position-relative",children:e.jsx("i",{className:"fas fa-info-circle text-gray-400 cursor-pointer",onClick:f=>l("goalHealth",f),"aria-label":"Goal health information",style:{cursor:"pointer"}})})]})}),e.jsx("div",{className:"card-body",children:t.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:`fas fa-${i} fa-3x mb-3`,style:{color:x}})}),e.jsx("h4",{className:"font-weight-bold",style:{color:x},children:o}),e.jsxs("p",{className:"mb-0",children:["You've achieved ",R(s)," of your goals.",s>=90?" You're doing excellently!":s>=75?" Keep up the good work!":s>=50?" You're making progress!":" Keep going, you're just getting started!"]})]}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[e.jsx("i",{className:"fas fa-lightbulb text-warning mr-1"}),e.jsx("strong",{children:"Tip:"})," Regular contributions to your goals will help you reach them faster."]})]}):e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"fas fa-heartbeat fa-3x text-gray-300"})}),e.jsx("h5",{className:"text-gray-500 font-weight-light",children:"No goal health data"}),e.jsx("p",{className:"text-gray-500 mb-0 small",children:"Create goals to see your financial health status."})]})})]})})},J=({filter:t,onFilterChange:r,onResetFilters:l,isFiltering:s,isFamilyMember:o,showAsCard:i=!0})=>{const[x,f]=_.useState(!1),d=(t.priority!=="all"?1:0)+(t.category!=="all"?1:0)+(t.scope!=="all"?1:0)+(t.search!==""?1:0)+(t.sortBy!=="name"?1:0),u=d>0,h=()=>e.jsx("div",{className:"block md:hidden",children:e.jsxs("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[e.jsxs("button",{onClick:()=>f(!x),className:`flex-shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[11px] font-medium transition-all ${u?"bg-indigo-500 text-white shadow-md":"bg-white text-gray-600 border border-gray-200"}`,children:[e.jsx("i",{className:"fas fa-sliders-h text-[10px]"}),"Filters",u&&e.jsx("span",{className:"w-4 h-4 rounded-full bg-white/30 flex items-center justify-center text-[9px]",children:d})]}),["all","high","medium","low"].map(c=>e.jsx("button",{onClick:()=>r({target:{name:"priority",value:c}}),className:`flex-shrink-0 px-3 py-1.5 rounded-full text-[11px] font-medium transition-all ${t.priority===c?c==="high"?"bg-rose-500 text-white shadow-sm":c==="medium"?"bg-amber-500 text-white shadow-sm":c==="low"?"bg-cyan-500 text-white shadow-sm":"bg-indigo-500 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200"}`,children:c==="all"?"All":c.charAt(0).toUpperCase()+c.slice(1)},c)),u&&e.jsx("button",{onClick:l,className:"flex-shrink-0 w-7 h-7 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center hover:bg-gray-300 transition-colors",children:e.jsx("i",{className:"fas fa-times text-[10px]"})})]}),x&&e.jsxs("div",{className:"mt-2 bg-white rounded-xl shadow-lg border border-gray-100 p-3 animate__animated animate__fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-1 block",children:"Priority"}),e.jsxs("select",{name:"priority",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-[11px] text-gray-700 focus:ring-2 focus:ring-indigo-200 focus:border-indigo-400",value:t.priority,onChange:r,disabled:s,children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-1 block",children:"Status"}),e.jsxs("select",{name:"category",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-[11px] text-gray-700 focus:ring-2 focus:ring-indigo-200 focus:border-indigo-400",value:t.category,onChange:r,disabled:s,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"not_started",children:"Not Started"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-1 block",children:"Sort By"}),e.jsxs("select",{name:"sortBy",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-[11px] text-gray-700",value:t.sortBy,onChange:r,disabled:s,children:[e.jsx("option",{value:"name",children:"Goal Name"}),e.jsx("option",{value:"target_date",children:"Target Date"}),e.jsx("option",{value:"progress",children:"Progress"}),e.jsx("option",{value:"amount",children:"Amount"})]})]}),o&&e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-1 block",children:"Scope"}),e.jsxs("select",{name:"scope",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-[11px] text-gray-700",value:t.scope,onChange:r,disabled:s,children:[e.jsx("option",{value:"all",children:"All Goals"}),e.jsx("option",{value:"personal",children:"Personal"}),e.jsx("option",{value:"family",children:"Family"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase mb-1 block",children:"Search"}),e.jsx("input",{type:"text",name:"search",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-[11px] text-gray-700",placeholder:"Search goal name or notes...",value:t.search,onChange:r,disabled:s})]})]}),e.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("button",{onClick:l,className:"text-[10px] text-gray-500 font-medium",disabled:s,children:[e.jsx("i",{className:"fas fa-undo mr-1 text-[8px]"}),"Reset"]}),e.jsx("button",{onClick:()=>f(!1),className:"text-[10px] text-indigo-600 font-medium",children:"Done"})]})]})]})}),p=()=>e.jsxs("div",{className:"row d-none d-md-flex",children:[e.jsxs("div",{className:"col-md-2 mb-3",children:[e.jsx("label",{htmlFor:"priority",className:`font-weight-bold text-gray-800 ${i?"":"small"}`,children:"Priority"}),e.jsxs("select",{id:"priority",name:"priority",value:t.priority,onChange:r,className:`form-control ${i?"":"form-control-sm"}`,disabled:s,children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("div",{className:"col-md-2 mb-3",children:[e.jsx("label",{htmlFor:"category",className:`font-weight-bold text-gray-800 ${i?"":"small"}`,children:"Status"}),e.jsxs("select",{id:"category",name:"category",value:t.category,onChange:r,className:`form-control ${i?"":"form-control-sm"}`,disabled:s,children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"not_started",children:"Not Started"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),o&&e.jsxs("div",{className:"col-md-2 mb-3",children:[e.jsx("label",{htmlFor:"scope",className:`font-weight-bold text-gray-800 ${i?"":"small"}`,children:"Scope"}),e.jsxs("select",{id:"scope",name:"scope",value:t.scope,onChange:r,className:`form-control ${i?"":"form-control-sm"}`,disabled:s,children:[e.jsx("option",{value:"all",children:"All Goals"}),e.jsx("option",{value:"personal",children:"My Personal Goals"}),e.jsx("option",{value:"family",children:"Family Shared Goals"})]})]}),e.jsxs("div",{className:"col-md-2 mb-3",children:[e.jsx("label",{htmlFor:"sortBy",className:`font-weight-bold text-gray-800 ${i?"":"small"}`,children:"Sort By"}),e.jsxs("select",{id:"sortBy",name:"sortBy",value:t.sortBy,onChange:r,className:`form-control ${i?"":"form-control-sm"}`,disabled:s,children:[e.jsx("option",{value:"name",children:"Goal Name"}),e.jsx("option",{value:"target_date",children:"Target Date"}),e.jsx("option",{value:"progress",children:"Progress"}),e.jsx("option",{value:"amount",children:"Amount"})]})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{htmlFor:"search",className:`font-weight-bold text-gray-800 ${i?"":"small"}`,children:"Search"}),e.jsx("input",{type:"text",id:"search",name:"search",value:t.search,onChange:r,placeholder:"Search goal name or notes...",className:`form-control ${i?"":"form-control-sm"}`,disabled:s})]})]});return i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden mb-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-3 py-2.5 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("h6",{className:"text-[11px] font-bold text-gray-800 flex items-center gap-1.5",children:[e.jsx("i",{className:"fas fa-filter text-indigo-500 text-[10px]"}),"Filter Goals"]}),e.jsxs("button",{className:"text-[10px] text-gray-500 flex items-center gap-1",onClick:l,children:[e.jsx("i",{className:"fas fa-undo text-[8px]"}),"Reset"]})]}),e.jsx(h,{})]})}),e.jsxs("div",{className:"card shadow mb-4 d-none d-md-block",children:[e.jsxs("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:[e.jsx("h6",{className:"m-0 font-weight-bold text-primary",children:"Filter Goals"}),e.jsxs("button",{onClick:l,className:"btn btn-sm btn-outline-primary",disabled:s,children:[e.jsx("i",{className:"fas fa-redo-alt fa-sm mr-1"})," Reset"]})]}),e.jsx("div",{className:"card-body",children:e.jsx(p,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsx("div",{className:"card-body border-bottom bg-light d-none d-md-block",children:e.jsx(p,{})})]})},ze=({filteredGoals:t,isFiltering:r,filter:l,onFilterChange:s,onResetFilters:o,onDeleteGoal:i,onToggleTip:x,isFamilyMember:f,currentPage:d,pageSize:u,totalPages:h,totalItems:p,startIndex:c,endIndex:m,onPageChange:n,onPageSizeChange:g})=>{const{user:k}=I(),F=a=>a>=90?{bg:"bg-emerald-500",light:"bg-emerald-100",text:"text-emerald-600"}:a>=50?{bg:"bg-cyan-500",light:"bg-cyan-100",text:"text-cyan-600"}:a>=25?{bg:"bg-amber-500",light:"bg-amber-100",text:"text-amber-600"}:{bg:"bg-rose-500",light:"bg-rose-100",text:"text-rose-600"},j=a=>a==="high"?{bg:"bg-rose-100",text:"text-rose-600"}:a==="medium"?{bg:"bg-amber-100",text:"text-amber-600"}:{bg:"bg-cyan-100",text:"text-cyan-600"},E=(a,N)=>!N||N<=0?0:Math.min(a/N*100,100);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden mb-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-3 py-2.5 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("h6",{className:"text-[11px] font-bold text-gray-800 flex items-center gap-1.5",children:[e.jsx("i",{className:"fas fa-flag text-indigo-500 text-[10px]"}),"Goal List",p>0&&e.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded-full text-[9px]",children:p})]}),e.jsxs("button",{className:"text-[10px] text-gray-500 flex items-center gap-1",onClick:o,children:[e.jsx("i",{className:"fas fa-undo text-[8px]"}),"Reset"]})]}),e.jsx(J,{filter:l,onFilterChange:s,onResetFilters:o,isFiltering:r,isFamilyMember:f,showAsCard:!1}),e.jsx("div",{className:"px-3 py-2",children:r?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Filtering goals..."})]}):t.length>0?e.jsx("div",{className:"space-y-2",children:t.map((a,N)=>{const b=a.percentage??E(a.current_amount,a.target_amount),S=F(b),D=j(a.priority),A=B(a.target_date),z=!a.is_family_goal||a.user_id===k?.id,V=X({target_amount:a.target_amount,current_amount:a.current_amount,target_date:a.target_date}),U=a.status==="completed"?"bg-emerald-100 text-emerald-600":a.status==="in_progress"?"bg-blue-100 text-blue-600":a.status==="not_started"?"bg-gray-100 text-gray-600":"bg-rose-100 text-rose-600";return e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 animate__animated animate__fadeIn relative",style:{animationDelay:`${N*.03}s`},children:[e.jsxs("div",{className:"flex items-start gap-2.5 mb-2",children:[e.jsx("div",{className:`w-11 h-11 rounded-xl ${S.light} flex items-center justify-center flex-shrink-0`,children:e.jsxs("span",{className:`text-[11px] font-bold ${S.text}`,children:[Math.round(b),"%"]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-800 truncate max-w-[140px]",children:a.goal_name}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded-full font-medium ${D.bg} ${D.text}`,children:a.priority.charAt(0).toUpperCase()}),a.is_family_goal&&e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded-full bg-blue-100 text-blue-600",children:e.jsx("i",{className:"fas fa-users text-[7px]"})})]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 mb-1.5",children:e.jsx("div",{className:`${S.bg} h-1.5 rounded-full transition-all duration-500`,style:{width:`${b}%`}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-medium text-gray-700",children:C(a.current_amount)}),e.jsxs("span",{className:"text-[9px] text-gray-400",children:["of ",C(a.target_amount)]})]})]}),e.jsxs("div",{className:"dropdown flex-shrink-0",children:[e.jsx("button",{className:"w-8 h-8 rounded-full bg-gray-50 hover:bg-gray-100 flex items-center justify-center text-gray-400 transition-colors",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e.jsx("i",{className:"fas fa-ellipsis-v text-[10px]"})}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-right shadow-lg border-0 rounded-xl",style:{minWidth:"140px",position:"absolute",zIndex:9999},children:[e.jsxs(T,{to:`/goals/${a.id}`,className:"dropdown-item py-2 text-xs flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-eye text-cyan-500 text-[10px] w-4"}),"View Details"]}),z&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{to:`/goals/${a.id}/edit`,className:"dropdown-item py-2 text-xs flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-edit text-indigo-500 text-[10px] w-4"}),"Edit Goal"]}),e.jsx("div",{className:"dropdown-divider my-1"}),e.jsxs("button",{className:"dropdown-item py-2 text-xs flex items-center gap-2 text-rose-600",onClick:()=>i(a.id),children:[e.jsx("i",{className:"fas fa-trash text-[10px] w-4"}),"Delete Goal"]})]})]})]})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-50 grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[8px] text-gray-400 uppercase tracking-wide mb-0.5",children:"Status"}),e.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full font-medium ${U}`,children:Y(a.status)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[8px] text-gray-400 uppercase tracking-wide mb-0.5",children:"Due Date"}),e.jsx("p",{className:`text-[9px] font-medium ${A>0?"text-gray-600":"text-rose-500"}`,children:A>0?`${A} days`:"Overdue"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[8px] text-gray-400 uppercase tracking-wide mb-0.5",children:"Monthly"}),e.jsx("p",{className:"text-[9px] font-medium text-indigo-600",children:C(V)})]})]})]},a.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-3",children:e.jsx("i",{className:"fas fa-flag text-gray-400 text-lg"})}),e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"No goals found"}),e.jsx("p",{className:"text-[10px] text-gray-400 mb-3",children:"Try adjusting your filters"}),e.jsxs(T,{to:"/goals/create",className:"inline-flex items-center gap-1 px-3 py-1.5 bg-indigo-500 text-white text-[11px] font-medium rounded-lg",children:[e.jsx("i",{className:"fas fa-plus text-[9px]"}),"Create Goal"]})]})}),h>1&&e.jsxs("div",{className:"px-3 py-3 border-t border-gray-100 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-[10px] text-gray-500",children:[c+1,"-",m," of ",p]}),e.jsxs("select",{className:"text-[10px] px-2 py-1 bg-white border border-gray-200 rounded-lg text-gray-600",value:u,onChange:a=>g(Number(a.target.value)),children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>n(d-1),disabled:d===1,className:"w-8 h-8 rounded-lg bg-white border border-gray-200 flex items-center justify-center text-gray-500 disabled:opacity-50",children:e.jsx("i",{className:"fas fa-chevron-left text-[10px]"})}),Array.from({length:Math.min(h,5)},(a,N)=>{let b;return h<=5||d<=3?b=N+1:d>=h-2?b=h-4+N:b=d-2+N,e.jsx("button",{onClick:()=>n(b),className:`w-8 h-8 rounded-lg flex items-center justify-center text-[11px] font-medium transition-colors ${d===b?"bg-indigo-500 text-white":"bg-white border border-gray-200 text-gray-600"}`,children:b},b)}),e.jsx("button",{onClick:()=>n(d+1),disabled:d===h,className:"w-8 h-8 rounded-lg bg-white border border-gray-200 flex items-center justify-center text-gray-500 disabled:opacity-50",children:e.jsx("i",{className:"fas fa-chevron-right text-[10px]"})})]})]})]})}),e.jsxs("div",{className:"card shadow mb-4 goal-table d-none d-md-block",children:[e.jsx("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:e.jsxs("h6",{className:"m-0 font-weight-bold text-primary d-flex align-items-center",children:["Goal List",e.jsx("div",{className:"ml-2 position-relative",children:e.jsx("i",{className:"fas fa-info-circle text-gray-400 cursor-pointer",onClick:a=>x("goalList",a),style:{cursor:"pointer"}})})]})}),e.jsx(J,{filter:l,onFilterChange:s,onResetFilters:o,isFiltering:r,isFamilyMember:f,showAsCard:!1}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered",width:"100%",cellSpacing:"0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Goal Name"}),e.jsx("th",{children:"Target Date"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Progress"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:r?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:e.jsx("span",{className:"sr-only",children:"Loading..."})}),e.jsx("p",{className:"text-gray-600 mt-3",children:"Filtering goals..."})]})}):t.length>0?t.map(a=>{const N=a.percentage??E(a.current_amount,a.target_amount),b=a.priority==="high"?"text-danger":a.priority==="medium"?"text-warning":"text-info",S=a.status==="completed"?"badge-success":a.status==="in_progress"?"badge-primary":a.status==="not_started"?"badge-secondary":"badge-danger",D=X({target_amount:a.target_amount,current_amount:a.current_amount,target_date:a.target_date});return e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{className:"font-weight-bold",children:a.goal_name}),a.is_family_goal?e.jsxs("div",{className:"small mt-1",children:[e.jsxs("span",{className:"badge badge-info",children:[e.jsx("i",{className:"fas fa-users mr-1"})," Family"]}),a.shared_by_name&&e.jsx("span",{className:"badge badge-light ml-1 small",children:a.shared_by_name})]}):e.jsx("div",{className:"small mt-1",children:e.jsxs("span",{className:"badge badge-secondary",children:[e.jsx("i",{className:"fas fa-user mr-1"})," Personal"]})})]}),e.jsxs("td",{children:[e.jsx("div",{children:H(a.target_date)}),e.jsx("div",{className:"small text-gray-600",children:B(a.target_date)>0?`${B(a.target_date)} days left`:e.jsx("span",{className:"text-danger",children:"Past due"})})]}),e.jsx("td",{children:e.jsxs("span",{className:`font-weight-bold ${b}`,children:[e.jsx("i",{className:`fas fa-flag mr-1 ${b}`}),a.priority.charAt(0).toUpperCase()+a.priority.slice(1)]})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S}`,children:Y(a.status)})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"progress mr-2",style:{height:"10px",width:"80px"},children:e.jsx("div",{className:`progress-bar ${N>=90?"bg-success":N>=50?"bg-info":N>=25?"bg-warning":"bg-danger"}`,role:"progressbar",style:{width:`${N}%`}})}),e.jsx("span",{children:R(N)})]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsxs("span",{className:"font-weight-bold",children:[C(a.current_amount)," / ",C(a.target_amount)]}),e.jsxs("small",{className:"text-gray-600",children:[C(D)," monthly"]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-1",children:[e.jsx(T,{to:`/goals/${a.id}`,className:"inline-flex items-center justify-center w-9 h-9 bg-[#36b9cc] hover:bg-[#2c9faf] text-white rounded-full shadow-sm transition-colors",title:"View Goal",children:e.jsx("i",{className:"fas fa-eye text-xs"})}),(!a.is_family_goal||a.user_id===k?.id)&&e.jsxs(e.Fragment,{children:[e.jsx(T,{to:`/goals/${a.id}/edit`,className:"inline-flex items-center justify-center w-9 h-9 bg-[#4e73df] hover:bg-[#2e59d9] text-white rounded-full shadow-sm transition-colors",title:"Edit Goal",children:e.jsx("i",{className:"fas fa-edit text-xs"})}),e.jsx("button",{className:"inline-flex items-center justify-center w-9 h-9 bg-[#e74a3b] hover:bg-[#d52a1a] text-white rounded-full shadow-sm transition-colors",onClick:()=>i(a.id),title:"Delete Goal",children:e.jsx("i",{className:"fas fa-trash text-xs"})})]})]})})]},a.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-filter fa-2x text-gray-300 mb-3 d-block"}),e.jsx("p",{className:"text-gray-500",children:"No goals found matching your filters."})]})})})]})}),h>1&&e.jsx("div",{className:"card-footer bg-white border-0",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-4 text-center text-md-start mb-2 mb-md-0",children:e.jsxs("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:["Showing ",Math.min(c+1,p)," to ",m," of ",p," entries"]})}),e.jsxs("div",{className:"col-md-4 text-center mb-2 mb-md-0",children:[e.jsx("label",{className:"me-2 mb-0",style:{fontSize:"0.875rem"},children:"Show"}),e.jsxs("select",{className:"form-select d-inline-block w-auto",style:{fontSize:"0.875rem"},value:u,onChange:a=>g(Number(a.target.value)),children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("label",{className:"ms-2 mb-0",style:{fontSize:"0.875rem"},children:"per page"})]}),e.jsx("div",{className:"col-md-4 text-center text-md-end",children:e.jsx("nav",{children:e.jsxs("ul",{className:"pagination mb-0 justify-content-center justify-content-md-end",children:[e.jsx("li",{className:`page-item ${d===1?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>n(d-1),disabled:d===1,children:e.jsx("i",{className:"fas fa-chevron-left"})})}),Array.from({length:Math.min(h,5)},(a,N)=>{let b;return h<=5||d<=3?b=N+1:d>=h-2?b=h-4+N:b=d-2+N,e.jsx("li",{className:`page-item ${d===b?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>n(b),style:d===b?{color:"white"}:{},children:b})},b)}),e.jsx("li",{className:`page-item ${d===h?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>n(d+1),disabled:d===h,children:e.jsx("i",{className:"fas fa-chevron-right"})})})]})})})]})})]})]})]})},Pe=({goal:t})=>null,Ie=({goal:t,onDeleteGoal:r})=>{const{user:l}=I(),[s,o]=_.useState(!1),i=(m,n)=>!n||n<=0?0:Math.min(m/n*100,100),x=t.percentage??i(t.current_amount,t.target_amount),f=B(t.target_date),d=t.priority==="high"?"text-danger":t.priority==="medium"?"text-warning":"text-info",u=t.status==="completed"?"badge-success":t.status==="in_progress"?"badge-primary":t.status==="not_started"?"badge-secondary":"badge-danger",h=`progress-bar ${x>=90?"bg-success":x>=50?"bg-info":x>=25?"bg-warning":"bg-danger"} ${s?"progress-bar-hover":""}`,p=X({target_amount:t.target_amount,current_amount:t.current_amount,target_date:t.target_date}),c=m=>{o(m)};return e.jsx("div",{className:"col-xl-4 col-md-6 mb-4 d-none d-md-block",children:e.jsxs("div",{className:`card shadow h-100 ${t.is_family_goal?"border-left-info":"border-left-secondary"}`,children:[e.jsxs("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:[e.jsxs("h6",{className:"m-0 font-weight-bold text-primary",children:[t.goal_name,t.is_family_goal?e.jsxs("span",{className:"badge badge-info ml-2",children:[e.jsx("i",{className:"fas fa-users mr-1"})," Family"]}):e.jsxs("span",{className:"badge badge-secondary ml-2",children:[e.jsx("i",{className:"fas fa-user mr-1"})," Personal"]})]}),e.jsxs("div",{className:"dropdown no-arrow",children:[e.jsx("button",{className:"btn btn-link btn-sm dropdown-toggle",type:"button",id:`dropdownMenuLink${t.id}`,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e.jsx("i",{className:"fas fa-ellipsis-v fa-fw"})}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-right shadow animated--fade-in","aria-labelledby":`dropdownMenuLink${t.id}`,children:[e.jsx("div",{className:"dropdown-header",children:"Goal Actions:"}),e.jsxs(T,{to:`/goals/${t.id}`,className:"dropdown-item",children:[e.jsx("i",{className:"fas fa-eye fa-fw mr-2 text-gray-400"}),"View Details"]}),!t.is_family_goal&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{to:`/goals/${t.id}/edit`,className:"dropdown-item",children:[e.jsx("i",{className:"fas fa-edit fa-fw mr-2 text-gray-400"}),"Edit Goal"]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("button",{className:"dropdown-item text-danger",onClick:()=>r(t.id),children:[e.jsx("i",{className:"fas fa-trash fa-fw mr-2 text-danger"}),"Delete Goal"]})]}),t.is_family_goal&&t.user_id===l?.id&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{to:`/goals/${t.id}/edit`,className:"dropdown-item",children:[e.jsx("i",{className:"fas fa-edit fa-fw mr-2 text-gray-400"}),"Edit Goal"]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("button",{className:"dropdown-item text-danger",onClick:()=>r(t.id),children:[e.jsx("i",{className:"fas fa-trash fa-fw mr-2 text-danger"}),"Delete Goal"]})]})]})]})]}),e.jsxs("div",{className:"card-body pt-2 d-flex flex-column",children:[t.is_family_goal&&e.jsx("div",{className:"mb-2",children:t.shared_by_name&&e.jsxs("span",{className:"badge badge-light ml-1",children:[e.jsx("i",{className:"fas fa-user mr-1"})," ",t.shared_by_name]})}),e.jsxs("div",{className:"mb-2 d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:`badge ${u}`,children:Y(t.status)}),e.jsxs("span",{className:`font-weight-bold ${d}`,children:[e.jsx("i",{className:`fas fa-flag mr-1 ${d}`}),t.priority.charAt(0).toUpperCase()+t.priority.slice(1)," Priority"]})]}),e.jsxs("div",{className:"mb-2 d-flex justify-content-between align-items-baseline",children:[e.jsxs("div",{className:"small text-gray-600",children:[e.jsx("i",{className:"fas fa-calendar-alt mr-1"}),f>0?`${f} days left`:"Past due"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("i",{className:"fas fa-hourglass-half mr-1"}),H(t.target_date)]})]}),e.jsxs("div",{className:"mb-2 d-flex justify-content-between",children:[e.jsx("span",{className:"font-weight-bold text-gray-800",children:C(t.current_amount)}),e.jsxs("span",{className:"text-gray-600",children:["of ",C(t.target_amount)]})]}),e.jsx("div",{className:"progress mb-2",style:{height:"10px"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:e.jsx("div",{className:h,role:"progressbar",style:{width:`${x}%`},"aria-valuenow":x,"aria-valuemin":0,"aria-valuemax":100})}),e.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[e.jsxs("small",{className:"text-gray-600",children:[R(x)," Complete"]}),e.jsxs("small",{className:"text-gray-600",children:[C(t.remaining??Math.max(0,t.target_amount-t.current_amount))," left"]})]}),t.status!=="completed"&&t.status!=="cancelled"&&f>0&&e.jsxs("div",{className:"alert alert-info mb-3 py-2 small",children:[e.jsx("i",{className:"fas fa-piggy-bank mr-1"}),"Save ",C(p)," monthly to reach your goal"]}),t.is_overdue&&t.status!=="completed"&&t.status!=="cancelled"&&e.jsxs("div",{className:"alert alert-danger mb-3 py-2 small",children:[e.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),"This goal is past its target date"]}),e.jsx("div",{className:"mt-auto pt-3 border-top",children:e.jsxs(T,{to:`/goals/${t.id}`,className:"btn btn-sm btn-primary btn-block",children:[e.jsx("i",{className:"fas fa-eye mr-1"})," View Details"]})}),e.jsx(Pe,{goal:t})]})]})})},He=({goal:t,onDeleteGoal:r,animationDelay:l=0})=>{const{user:s}=I(),o=(c,m)=>!m||m<=0?0:Math.min(c/m*100,100),i=t.percentage??o(t.current_amount,t.target_amount),x=B(t.target_date),f=c=>c>=90?{bg:"bg-emerald-500",light:"bg-emerald-100",text:"text-emerald-600",gradient:"from-emerald-500 to-teal-500"}:c>=50?{bg:"bg-cyan-500",light:"bg-cyan-100",text:"text-cyan-600",gradient:"from-cyan-500 to-blue-500"}:c>=25?{bg:"bg-amber-500",light:"bg-amber-100",text:"text-amber-600",gradient:"from-amber-500 to-orange-500"}:{bg:"bg-rose-500",light:"bg-rose-100",text:"text-rose-600",gradient:"from-rose-500 to-red-500"},d=c=>c==="high"?{bg:"bg-rose-100",text:"text-rose-600"}:c==="medium"?{bg:"bg-amber-100",text:"text-amber-600"}:{bg:"bg-cyan-100",text:"text-cyan-600"},u=f(i),h=d(t.priority),p=!t.is_family_goal||t.user_id===s?.id;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden animate__animated animate__fadeIn",style:{animationDelay:`${l}s`},children:[e.jsx("div",{className:`h-1 bg-gradient-to-r ${u.gradient}`,style:{width:`${i}%`}}),e.jsxs("div",{className:"p-2.5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-[11px] font-semibold text-gray-800 truncate leading-tight",children:t.goal_name}),e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[t.is_family_goal?e.jsxs("span",{className:"text-[8px] px-1 py-0.5 rounded bg-blue-100 text-blue-600",children:[e.jsx("i",{className:"fas fa-users text-[7px] mr-0.5"}),"Family"]}):e.jsxs("span",{className:"text-[8px] px-1 py-0.5 rounded bg-gray-100 text-gray-500",children:[e.jsx("i",{className:"fas fa-user text-[7px] mr-0.5"}),"Personal"]}),e.jsx("span",{className:`text-[8px] px-1 py-0.5 rounded ${h.bg} ${h.text}`,children:t.priority.charAt(0).toUpperCase()})]})]}),e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{className:"w-6 h-6 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-400",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e.jsx("i",{className:"fas fa-ellipsis-v text-[10px]"})}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-right shadow-lg",style:{minWidth:"120px"},children:[e.jsxs(T,{to:`/goals/${t.id}`,className:"dropdown-item text-xs py-2",children:[e.jsx("i",{className:"fas fa-eye fa-fw mr-2 text-gray-400"}),"View"]}),p&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{to:`/goals/${t.id}/edit`,className:"dropdown-item text-xs py-2",children:[e.jsx("i",{className:"fas fa-edit fa-fw mr-2 text-gray-400"}),"Edit"]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("button",{className:"dropdown-item text-xs py-2 text-danger",onClick:()=>r(t.id),children:[e.jsx("i",{className:"fas fa-trash fa-fw mr-2"}),"Delete"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-full ${u.light} flex items-center justify-center flex-shrink-0`,children:e.jsxs("span",{className:`text-[10px] font-bold ${u.text}`,children:[Math.round(i),"%"]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] text-gray-500 mb-0.5",children:"Saved"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:C(t.current_amount)})]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1 mb-2",children:e.jsx("div",{className:`${u.bg} h-1 rounded-full transition-all duration-500`,style:{width:`${i}%`}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-[9px] text-gray-400",children:["Target: ",C(t.target_amount)]}),e.jsx("span",{className:`text-[9px] ${x>0?"text-gray-400":"text-rose-500 font-medium"}`,children:x>0?`${x}d`:"Overdue"})]})]}),e.jsxs(T,{to:`/goals/${t.id}`,className:"block px-2.5 py-1.5 bg-gray-50 border-t border-gray-100 text-center text-[10px] text-indigo-600 font-medium hover:bg-gray-100 transition-colors",children:["View Details ",e.jsx("i",{className:"fas fa-chevron-right text-[8px] ml-1"})]})]})},Oe=({filteredGoals:t,isFiltering:r,onDeleteGoal:l,currentPage:s,pageSize:o,totalPages:i,totalItems:x,startIndex:f,endIndex:d,onPageChange:u,onPageSizeChange:h})=>{const p=_.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden mb-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-3 py-2.5 border-b border-gray-100 flex items-center justify-between",children:e.jsxs("h6",{className:"text-[11px] font-bold text-gray-800 flex items-center gap-1.5",children:[e.jsx("i",{className:"fas fa-th text-indigo-500 text-[10px]"}),"Goal Cards",x>0&&e.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded-full text-[9px]",children:x})]})}),e.jsx("div",{className:"p-3",children:r?e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Filtering goals..."})]}):t.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map((c,m)=>e.jsx(He,{goal:c,onDeleteGoal:l,animationDelay:m*.03},c.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-3",children:e.jsx("i",{className:"fas fa-flag text-gray-400 text-lg"})}),e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"No goals found"}),e.jsx("p",{className:"text-[10px] text-gray-400 mb-3",children:"Try adjusting your filters"}),e.jsxs(T,{to:"/goals/create",className:"inline-flex items-center gap-1 px-3 py-1.5 bg-indigo-500 text-white text-[11px] font-medium rounded-lg",children:[e.jsx("i",{className:"fas fa-plus text-[9px]"}),"Create Goal"]})]})}),i>1&&e.jsxs("div",{className:"px-3 py-3 border-t border-gray-100 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-[10px] text-gray-500",children:[f+1,"-",d," of ",x]}),e.jsxs("select",{className:"text-[10px] px-2 py-1 bg-white border border-gray-200 rounded-lg text-gray-600",value:o,onChange:c=>h(Number(c.target.value)),children:[e.jsx("option",{value:6,children:"6"}),e.jsx("option",{value:12,children:"12"}),e.jsx("option",{value:24,children:"24"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>u(s-1),disabled:s===1,className:"w-8 h-8 rounded-lg bg-white border border-gray-200 flex items-center justify-center text-gray-500 disabled:opacity-50",children:e.jsx("i",{className:"fas fa-chevron-left text-[10px]"})}),Array.from({length:Math.min(i,5)},(c,m)=>{let n;return i<=5||s<=3?n=m+1:s>=i-2?n=i-4+m:n=s-2+m,e.jsx("button",{onClick:()=>u(n),className:`w-8 h-8 rounded-lg flex items-center justify-center text-[11px] font-medium transition-colors ${s===n?"bg-indigo-500 text-white":"bg-white border border-gray-200 text-gray-600"}`,children:n},n)}),e.jsx("button",{onClick:()=>u(s+1),disabled:s===i,className:"w-8 h-8 rounded-lg bg-white border border-gray-200 flex items-center justify-center text-gray-500 disabled:opacity-50",children:e.jsx("i",{className:"fas fa-chevron-right text-[10px]"})})]})]})]})}),e.jsxs("div",{className:"d-none d-md-block",children:[e.jsx("div",{className:"row",ref:p,children:r?e.jsxs("div",{className:"col-12 text-center my-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"sr-only",children:"Filtering..."})}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Filtering goals..."})]}):t.length>0?t.map(c=>e.jsx(Ie,{goal:c,onDeleteGoal:l},c.id)):e.jsxs("div",{className:"col-12 text-center my-5",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"fas fa-search fa-3x text-gray-300"})}),e.jsx("h5",{className:"text-gray-500 font-weight-light",children:"No goals match your filters"}),e.jsx("p",{className:"text-gray-500 mb-0 small",children:"Try adjusting your filter criteria or create a new goal."}),e.jsxs(T,{to:"/goals/create",className:"btn btn-sm btn-primary mt-3",children:[e.jsx("i",{className:"fas fa-plus fa-sm mr-1"})," Create New Goal"]})]})}),i>1&&t.length>0&&e.jsx("div",{className:"card shadow mb-4 goal-table",children:e.jsx("div",{className:"card-footer bg-white border-0",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-4 text-center text-md-start mb-2 mb-md-0",children:e.jsxs("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:["Showing ",Math.min(f+1,x)," to ",d," of ",x," entries"]})}),e.jsxs("div",{className:"col-md-4 text-center mb-2 mb-md-0",children:[e.jsx("label",{className:"me-2 mb-0",style:{fontSize:"0.875rem"},children:"Show"}),e.jsxs("select",{className:"form-select d-inline-block w-auto",style:{fontSize:"0.875rem"},value:o,onChange:c=>h(Number(c.target.value)),children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("label",{className:"ms-2 mb-0",style:{fontSize:"0.875rem"},children:"per page"})]}),e.jsx("div",{className:"col-md-4 text-center text-md-end",children:e.jsx("nav",{children:e.jsxs("ul",{className:"pagination mb-0 justify-content-center justify-content-md-end",children:[e.jsx("li",{className:`page-item ${s===1?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>u(s-1),disabled:s===1,children:e.jsx("i",{className:"fas fa-chevron-left"})})}),Array.from({length:Math.min(i,5)},(c,m)=>{let n;return i<=5||s<=3?n=m+1:s>=i-2?n=i-4+m:n=s-2+m,e.jsx("li",{className:`page-item ${s===n?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>u(n),style:s===n?{color:"white"}:{},children:n})},n)}),e.jsx("li",{className:`page-item ${s===i?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>u(s+1),disabled:s===i,children:e.jsx("i",{className:"fas fa-chevron-right"})})})]})})})]})})})]})]})},Ve=({deleteModalState:t,onCloseModal:r,onDeleteGoal:l,onViewLinkedTransactions:s})=>{const{showDeleteModal:o,isDeleting:i,deleteError:x,hasLinkedTransactions:f}=t;return o?e.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),e.jsx("button",{type:"button",className:"close",onClick:r,disabled:i,children:e.jsx("span",{"aria-hidden":"true",children:"Ã—"})})]}),e.jsxs("div",{className:"modal-body text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"rounded-circle mx-auto d-flex align-items-center justify-content-center",style:{width:"80px",height:"80px",backgroundColor:"rgba(246, 194, 62, 0.2)"},children:e.jsx("i",{className:"fas fa-exclamation-triangle fa-3x text-warning"})})}),x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),x]}),f&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{children:"To resolve this issue, you need to:"}),e.jsxs("ol",{className:"text-left",children:[e.jsx("li",{children:"View the transactions linked to this goal"}),e.jsx("li",{children:"Either delete them or reassign them to another goal"}),e.jsx("li",{children:"Then try deleting this goal again"})]}),e.jsxs("button",{type:"button",className:"btn btn-info mt-2",onClick:s,children:[e.jsx("i",{className:"fas fa-search mr-1"})," View Linked Transactions"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Are you sure you want to delete this goal? This action cannot be undone."}),e.jsxs("div",{className:"alert alert-warning small mt-3",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),e.jsx("strong",{children:"Note:"})," If this goal has linked transactions, you'll need to reassign or delete those transactions first."]})]})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-center",children:[e.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:r,disabled:i,children:"Cancel"}),!x&&e.jsx("button",{type:"button",className:"btn btn-danger",onClick:l,disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Delete"]}):"Delete"})]})]})})}):null},Ue=({activeTip:t,tooltipPosition:r})=>{if(!t||!r)return null;const s=(()=>{switch(t){case"activeGoals":return{title:"Active Goals",description:"The number of financial goals you're currently working towards. Creating specific, measurable goals helps you stay focused on your financial journey."};case"totalSaved":return{title:"Total Saved",description:"The total amount you've saved across all your goals. This represents your progress and commitment to reaching your financial targets."};case"totalTarget":return{title:"Total Target",description:"The combined amount of all your goal targets. This is the total sum you're working towards across all your financial objectives."};case"overallProgress":return{title:"Overall Goal Progress",description:"Your combined progress across all goals. This percentage shows how far you've come toward reaching all your financial targets collectively. The color indicates your progress status from beginning (red) to excellent (green)."};case"goalHealth":return{title:"Goal Health Status",description:`A quick assessment of your overall financial goal health based on your progress. "Healthy" indicates excellent progress, "On Track" means good progress, "Getting Started" shows you're making headway, and "Just Beginning" signals you're in early stages.`};case"goalList":return{title:"Goal List",description:"A detailed list of all your financial goals with their current status, progress, and remaining amount. You can view details, make contributions, edit or delete each goal using the action buttons."};default:return null}})();return s?e.jsxs("div",{className:"tip-box light",style:{position:"absolute",top:`${r.top}px`,left:`${r.left}px`,transform:"translateX(-50%)",zIndex:1e3,background:"white",padding:"12px 15px",borderRadius:"8px",boxShadow:"0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15)",maxWidth:"300px",border:"1px solid rgba(0, 0, 0, 0.05)"},children:[e.jsx("div",{className:"tip-title",children:s.title}),e.jsx("p",{className:"tip-description",children:s.description})]}):null},qe=t=>{const{user:r}=I(),{showErrorToast:l}=Q(),s=K(),[o,i]=_.useState([]),[x,f]=_.useState(!0),[d,u]=_.useState(null),[h]=_.useState(`goals_updates_${r?.id||"anonymous"}`),p=async()=>{try{if(f(!0),!r){l("Please sign in to view your goals"),s("/login");return}const{data:c,error:m}=await oe.fetchGoals(r.id);if(m)throw m;if(!c){console.warn("No personal goals data received"),i([]),f(!1);return}const n=c.map(F=>{const j={...F,is_family_goal:!!F.family_id||!!F.is_family_goal,percentage:F.percentage||(F.target_amount>0?F.current_amount/F.target_amount*100:0),remaining:F.remaining||Math.max(0,F.target_amount-F.current_amount)};return(j.family_id||j.is_family_goal)&&console.log("Family goal found:",{id:j.id,name:j.goal_name,family_id:j.family_id,is_family_goal:j.is_family_goal}),j});let g=[...n];if(t.isFamilyMember&&t.userFamilyId){const{data:F,error:j}=await L.from("goals").select(`
            *,
            profiles!user_id (
              full_name,
              email
            )
          `).eq("family_id",t.userFamilyId).eq("is_family_goal",!0).neq("user_id",r.id);if(!j&&F){const E=F.map(a=>({...a,is_family_goal:!0,shared_by:a.user_id,shared_by_name:a.profiles?.full_name||a.profiles?.email?.split("@")[0]||"Family Member"}));g=[...n,...E]}}console.log(`Retrieved ${g.length} goals (${n.length} personal, ${g.length-n.length} shared)`),i(g),f(!1),oe.getServiceState().fallbackMode&&console.warn("Goals loaded in fallback mode - enhanced features may be limited")}catch(c){console.error("Error loading goals:",c);const m=c instanceof Error?c.message:"Unknown error occurred";m.includes("schema cache")||m.includes("does not exist")?l("Goals system is being updated. Please try again in a moment."):m.includes("unauthorized")||m.includes("authentication")?(l("Session expired. Please sign in again."),s("/login")):l(`Failed to load goals: ${m}`),f(!1)}};return _.useEffect(()=>{if(!r)return;d&&(console.log("Removing existing goal subscription"),L.removeChannel(d)),console.log(`Setting up new subscription for user ${r.id}`);const c=L.channel(h).on("postgres_changes",{event:"*",schema:"public",table:"goals",filter:`user_id=eq.${r.id}`},m=>{console.log("Goals data changed:",m.eventType),setTimeout(()=>p(),500)}).on("postgres_changes",{event:"*",schema:"public",table:"goal_contributions"},m=>{console.log("Goal contributions changed:",m.eventType),setTimeout(()=>p(),500)}).subscribe(m=>{m==="SUBSCRIBED"?console.log(`Goal subscription active for user ${r.id}`):m==="CHANNEL_ERROR"?console.error("Goal subscription error - continuing without real-time updates"):m==="TIMED_OUT"&&console.warn("Goal subscription timed out - will retry on next data fetch")});return u(c),()=>{if(console.log("Cleaning up subscription"),c)try{L.removeChannel(c)}catch(m){console.warn("Error cleaning up goal subscription:",m)}}},[r,h]),_.useEffect(()=>{r&&p()},[r,t.isFamilyMember,t.userFamilyId]),{goals:o,loading:x,refetchGoals:p,setGoals:i}},We=t=>{const r=K(),[l,s]=_.useState([]),[o,i]=_.useState(!1),[x,f]=_.useState(1),[d,u]=_.useState(10),h=window.location,p=new URLSearchParams(h.search),[c,m]=_.useState({priority:p.get("priority")||"all",category:p.get("category")||"all",sortBy:p.get("sortBy")||"name",search:p.get("search")||"",scope:p.get("scope")||"all"}),n=(S=t)=>{S.length!==0&&(i(!0),setTimeout(()=>{const D=Le(S,c);s(D),f(1),i(!1)},300))},g=()=>{i(!0),m({priority:"all",category:"all",sortBy:"name",search:"",scope:"all"}),r("",{replace:!0})};_.useEffect(()=>{if(t.length===0)return;const S=new URLSearchParams;c.priority!=="all"&&S.set("priority",c.priority),c.category!=="all"&&S.set("category",c.category),c.sortBy!=="name"&&S.set("sortBy",c.sortBy),c.search!==""&&S.set("search",c.search);const D=S.toString(),A=D?`?${D}`:"";r(A,{replace:!0}),n()},[c,t,r]),_.useEffect(()=>{s(t)},[t]);const k=l.length,F=Math.max(1,Math.ceil(k/d)),j=(x-1)*d,E=Math.min(j+d,k),a=l.slice(j,E);return{filter:c,setFilter:m,filteredGoals:a,isFiltering:o,applyFilters:n,resetFilters:g,currentPage:x,pageSize:d,totalPages:F,totalItems:k,startIndex:j,endIndex:E,updatePage:S=>{f(S)},updatePageSize:S=>{u(S),f(1)}}},Xe=()=>{const{user:t}=I(),[r,l]=_.useState({isFamilyMember:!1,userFamilyId:null,familyRole:null});return _.useEffect(()=>{(async()=>{if(t)try{const{data:o,error:i}=await L.from("family_members").select(`
            id,
            family_id,
            role,
            status,
            families:family_id (
              id,
              family_name
            )
          `).eq("user_id",t.id).eq("status","active").limit(1);if(!i&&o&&o.length>0)l({isFamilyMember:!0,userFamilyId:o[0].family_id,familyRole:o[0].role});else{const{data:x,error:f}=await L.rpc("check_user_family",{p_user_id:t.id});if(!f&&x&&(Array.isArray(x)&&x.length>0&&x[0].is_member||x.is_member)){const d=Array.isArray(x)?x[0].family_id:x.family_id;l(p=>({...p,isFamilyMember:!0,userFamilyId:d}));const{data:u,error:h}=await L.from("family_members").select("role").eq("user_id",t.id).eq("family_id",d).single();!h&&u&&l(p=>({...p,familyRole:u.role}))}else l({isFamilyMember:!1,userFamilyId:null,familyRole:null})}}catch(o){console.error("Error checking family status:",o),l({isFamilyMember:!1,userFamilyId:null,familyRole:null})}})()},[t]),r},Ye=t=>{const[r,l]=_.useState({totalCurrentAmount:0,totalTargetAmount:0,overallProgress:0});return _.useEffect(()=>{if(t.length>0){const s=xe(t);l(s)}else l({totalCurrentAmount:0,totalTargetAmount:0,overallProgress:0})},[t]),r},Je=()=>{const[t,r]=_.useState(null),[l,s]=_.useState(null);return{activeTip:t,tooltipPosition:l,toggleTip:(x,f)=>{if(t===x)r(null),s(null);else if(r(x),f){const d=f.currentTarget.getBoundingClientRect();s({top:d.bottom+window.scrollY,left:d.left+d.width/2+window.scrollX})}},closeTip:()=>{r(null),s(null)}}},Ke=(t,r,l,s,o)=>{const i=K(),{showSuccessToast:x,showErrorToast:f}=Q(),[d,u]=_.useState({showDeleteModal:!1,goalToDelete:null,isDeleting:!1,deleteError:null,hasLinkedTransactions:!1}),h=n=>{u(g=>({...g,goalToDelete:n,showDeleteModal:!0,deleteError:null,hasLinkedTransactions:!1}))},p=()=>{u({showDeleteModal:!1,goalToDelete:null,isDeleting:!1,deleteError:null,hasLinkedTransactions:!1})};return{deleteModalState:d,openDeleteModal:h,closeDeleteModal:p,handleDeleteGoal:async()=>{if(d.goalToDelete)try{u(j=>({...j,isDeleting:!0,deleteError:null,hasLinkedTransactions:!1}));const{error:n}=await L.from("goals").delete().eq("id",d.goalToDelete);if(n){if(n.message.includes("foreign key constraint")&&n.message.includes("transactions_goal_id_fkey")){u(j=>({...j,hasLinkedTransactions:!0,deleteError:"This goal has linked transactions. Please reassign or delete these transactions before deleting the goal.",isDeleting:!1}));return}throw new Error(`Error deleting goal: ${n.message}`)}const g=t.filter(j=>j.id!==d.goalToDelete);r(g);const k=l.filter(j=>j.id!==d.goalToDelete);s(k);const F=xe(g);o(F),x("Goal deleted successfully"),p()}catch(n){console.error("Error deleting goal:",n);const g=n instanceof Error?n.message:"Unknown error occurred";u(k=>({...k,deleteError:g,isDeleting:!1})),f(`Failed to delete goal: ${g}`)}},viewLinkedTransactions:()=>{d.goalToDelete&&(i(`/transactions?goal_id=${d.goalToDelete}`),p())}}},Qe=async()=>{const t=await ce(()=>import("./pdfmake-B9-gh6SH.js").then(o=>o.p),__vite__mapDeps([0,1])),r=await ce(()=>import("./vfs_fonts-DtMofV48.js").then(o=>o.v),__vite__mapDeps([2,1])),l=t.default||t,s=r.default||r;return s.pdfMake?l.vfs=s.pdfMake.vfs:s.vfs?l.vfs=s.vfs:l.vfs=s,l},ue=t=>{switch(t){case"high":return{color:"#EF4444",bg:"#FEF2F2"};case"medium":return{color:"#F59E0B",bg:"#FFFBEB"};case"low":return{color:"#3B82F6",bg:"#EFF6FF"};default:return{color:"#64748B",bg:"#F8FAFF"}}},he=t=>{switch(t){case"completed":return{color:"#10B981",bg:"#F0FDF4"};case"in_progress":return{color:"#3B82F6",bg:"#EFF6FF"};case"not_started":return{color:"#64748B",bg:"#F8FAFF"};case"cancelled":return{color:"#EF4444",bg:"#FEF2F2"};default:return{color:"#64748B",bg:"#F8FAFF"}}},Z=t=>t.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),Ze=async(t,r)=>{try{const l=new Date,s=`${l.toLocaleDateString()} ${l.toLocaleTimeString()}`,o=t.reduce((n,g)=>n+g.target_amount,0),i=t.reduce((n,g)=>n+g.current_amount,0),x=o-i,f=o>0?i/o*100:0,d=t.filter(n=>n.status==="completed").length,u=t.filter(n=>n.status==="in_progress").length,h=t.filter(n=>n.status==="not_started").length,p={pageSize:"A4",pageOrientation:"landscape",pageMargins:[40,80,40,60],content:[{canvas:[{type:"rect",x:-40,y:-80,w:882,h:120,linearGradient:["#4F46E5","#8B5CF6"],color:"#4F46E5"}]},{columns:[{width:"*",stack:[{text:"BudgetMe",style:"logo",margin:[0,-100,0,5]},{text:"Financial Intelligence Platform",style:"logoTagline",margin:[0,0,0,0]}]},{width:"auto",stack:[{text:"Financial Goals Report",style:"reportTitle",alignment:"right",margin:[0,-100,0,5]},{text:`Generated: ${s}`,style:"dateText",alignment:"right",margin:[0,0,0,0]}]}],margin:[0,0,0,30]},...r?[{text:r,fontSize:10,color:"#64748B",italics:!0,margin:[0,0,0,20]}]:[],{text:"Goals Summary",style:"sectionHeader"},{columns:[{width:"25%",stack:[{canvas:[{type:"rect",x:0,y:0,w:150,h:70,r:8,color:"#EEF2FF"}]},{text:"Total Goals",style:"summaryLabel",margin:[10,-60,0,5]},{text:t.length.toString(),fontSize:14,bold:!0,color:"#4F46E5",margin:[10,0,0,0]}]},{width:"25%",stack:[{canvas:[{type:"rect",x:0,y:0,w:150,h:70,r:8,color:"#F0FDF4"}]},{text:"Completed",style:"summaryLabel",margin:[10,-60,0,5]},{text:d.toString(),fontSize:14,bold:!0,color:"#10B981",margin:[10,0,0,0]}]},{width:"25%",stack:[{canvas:[{type:"rect",x:0,y:0,w:150,h:70,r:8,color:"#EFF6FF"}]},{text:"In Progress",style:"summaryLabel",margin:[10,-60,0,5]},{text:u.toString(),fontSize:14,bold:!0,color:"#3B82F6",margin:[10,0,0,0]}]},{width:"25%",stack:[{canvas:[{type:"rect",x:0,y:0,w:150,h:70,r:8,color:"#F8FAFF"}]},{text:"Not Started",style:"summaryLabel",margin:[10,-60,0,5]},{text:h.toString(),fontSize:14,bold:!0,color:"#64748B",margin:[10,0,0,0]}]}],columnGap:15,margin:[0,10,0,25]},{text:"Financial Overview",style:"sectionHeader"},{columns:[{width:"33%",stack:[{text:"Target Amount",style:"summaryLabel",margin:[0,0,0,5]},{text:C(o),fontSize:14,bold:!0,color:"#1F2937"}]},{width:"33%",stack:[{text:"Current Amount",style:"summaryLabel",margin:[0,0,0,5]},{text:C(i),fontSize:14,bold:!0,color:"#10B981"}]},{width:"34%",stack:[{text:"Overall Progress",style:"summaryLabel",margin:[0,0,0,5]},{text:R(f),fontSize:14,bold:!0,color:"#4F46E5"}]}],columnGap:15,margin:[0,10,0,25]},{text:"Goal Details",style:"sectionHeader"},{table:{headerRows:1,widths:["*","auto","auto","auto","auto","auto"],body:[[{text:"Goal Name",style:"tableHeader",alignment:"center"},{text:"Target Date",style:"tableHeader",alignment:"center"},{text:"Priority",style:"tableHeader",alignment:"center"},{text:"Status",style:"tableHeader",alignment:"center"},{text:"Progress",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...t.map((n,g)=>{const k=ue(n.priority),F=he(n.status),j=n.percentage??(n.target_amount>0?Math.min(n.current_amount/n.target_amount*100,100):0);return[{text:n.goal_name,style:"tableRow",fillColor:g%2===0?"#F8FAFF":"#FFFFFF"},{text:H(n.target_date),style:"tableRow",fillColor:g%2===0?"#F8FAFF":"#FFFFFF"},{text:n.priority.charAt(0).toUpperCase()+n.priority.slice(1),fontSize:9,color:k.color,bold:!0,fillColor:g%2===0?"#F8FAFF":"#FFFFFF",alignment:"center"},{text:Z(n.status),fontSize:9,color:F.color,bold:!0,fillColor:g%2===0?"#F8FAFF":"#FFFFFF",alignment:"center"},{text:R(j),style:"tableRow",alignment:"right",bold:!0,fillColor:g%2===0?"#F8FAFF":"#FFFFFF"},{text:`${C(n.current_amount)} / ${C(n.target_amount)}`,style:"tableRow",alignment:"right",fillColor:g%2===0?"#F8FAFF":"#FFFFFF"}]})]},layout:{fillColor:function(n){return n===0?"#4F46E5":null},hLineWidth:function(n,g){return n===0||n===g.table.body.length?2:.5},vLineWidth:function(){return .5},hLineColor:function(n,g){return n===0||n===g.table.body.length?"#4F46E5":"#E2E8F0"},vLineColor:function(){return"#E2E8F0"},paddingLeft:function(){return 8},paddingRight:function(){return 8},paddingTop:function(){return 6},paddingBottom:function(){return 6}},margin:[0,0,0,20]}],styles:{logo:{fontSize:28,bold:!0,color:"#FFFFFF"},logoTagline:{fontSize:10,color:"#E0E7FF",italics:!0},reportTitle:{fontSize:18,bold:!0,color:"#FFFFFF"},dateText:{fontSize:9,color:"#E0E7FF"},sectionHeader:{fontSize:16,bold:!0,color:"#4F46E5",margin:[0,20,0,12]},tableHeader:{bold:!0,fontSize:10,color:"#FFFFFF",fillColor:"#4F46E5"},tableRow:{fontSize:9,color:"#1F2937"},summaryLabel:{fontSize:10,bold:!0,color:"#64748B"},footerText:{fontSize:9,color:"#94A3B8",italics:!0}},defaultStyle:{font:"Roboto"}};p.footer=function(n,g){return{columns:[{width:"*",text:"Â© 2025 BudgetMe - Financial Intelligence Platform",style:"footerText",margin:[40,20,0,0]},{width:"auto",text:`Page ${n} of ${g}`,style:"footerText",alignment:"right",margin:[0,20,40,0]}]}},(await Qe()).createPdf(p).download(`budgetme-goals-${new Date().toISOString().split("T")[0]}.pdf`)}catch(l){throw console.error("Error generating PDF:",l),new Error("Failed to generate PDF report")}},et=(t,r)=>{try{const l=t.map(h=>{const p=h.percentage??(h.target_amount>0?Math.min(h.current_amount/h.target_amount*100,100):0);return{"Goal Name":h.goal_name,"Target Date":H(h.target_date),"Days Remaining":B(h.target_date),Priority:h.priority.charAt(0).toUpperCase()+h.priority.slice(1),Status:Z(h.status),"Progress (%)":p.toFixed(2),"Current Amount":h.current_amount.toFixed(2),"Target Amount":h.target_amount.toFixed(2),Remaining:h.remaining.toFixed(2),Type:h.is_family_goal?"Family":"Personal",Notes:h.notes||"-"}}),s=[{"":"BudgetMe Financial Goals Report"},{"":`Generated: ${new Date().toLocaleString()}`},...r?[{"":r}]:[],{"":""}],o=de.unparse(l,{quotes:!0,header:!0}),x=`${de.unparse(s,{header:!1})}

${o}`,f=new Blob([x],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(f),u=document.createElement("a");u.href=d,u.setAttribute("download",`budgetme-goals-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d)}catch(l){throw console.error("Error generating CSV:",l),new Error("Failed to generate CSV report")}},tt=async(t,r)=>{try{const l=new Date,s=`${l.toLocaleDateString()} ${l.toLocaleTimeString()}`,o=t.reduce((a,N)=>a+N.target_amount,0),i=t.reduce((a,N)=>a+N.current_amount,0),x=o>0?i/o*100:0,f=t.filter(a=>a.status==="completed").length,d=t.filter(a=>a.status==="in_progress").length,u=t.filter(a=>a.status==="not_started").length,h=[new w({children:[new y({text:"BudgetMe",bold:!0,size:48,color:"4F46E5"})],alignment:G.CENTER,spacing:{after:100}}),new w({children:[new y({text:"Financial Intelligence Platform",size:18,color:"8B5CF6",italics:!0})],alignment:G.CENTER,spacing:{after:300}}),new w({children:[new y({text:"Financial Goals Report",bold:!0,size:32,color:"1F2937"})],alignment:G.CENTER,spacing:{after:150}}),new w({children:[new y({text:`Generated: ${s}`,size:18,color:"64748B",italics:!0})],alignment:G.CENTER,spacing:{after:400},border:{bottom:{color:"4F46E5",space:1,style:"single",size:6}}})],p=r?[new w({children:[new y({text:r,size:20,color:"64748B",italics:!0})],spacing:{after:300}})]:[],c=[new w({children:[new y({text:"Goals Summary",bold:!0,size:28,color:"4F46E5"})],spacing:{before:300,after:200}}),new w({children:[new y({text:"ðŸ“Š Total Goals: ",bold:!0,size:22,color:"4F46E5"}),new y({text:t.length.toString(),size:22,color:"4F46E5"})],spacing:{after:150}}),new w({children:[new y({text:"âœ… Completed: ",bold:!0,size:22,color:"10B981"}),new y({text:f.toString(),size:22,color:"10B981"})],spacing:{after:150}}),new w({children:[new y({text:"ðŸ”„ In Progress: ",bold:!0,size:22,color:"3B82F6"}),new y({text:d.toString(),size:22,color:"3B82F6"})],spacing:{after:150}}),new w({children:[new y({text:"â¸ï¸ Not Started: ",bold:!0,size:22,color:"64748B"}),new y({text:u.toString(),size:22,color:"64748B"})],spacing:{after:300}}),new w({children:[new y({text:"Financial Overview",bold:!0,size:28,color:"4F46E5"})],spacing:{before:300,after:200}}),new w({children:[new y({text:"ðŸŽ¯ Target Amount: ",bold:!0,size:22}),new y({text:C(o),size:22,color:"1F2937"})],spacing:{after:150}}),new w({children:[new y({text:"ðŸ’° Current Amount: ",bold:!0,size:22}),new y({text:C(i),size:22,color:"10B981"})],spacing:{after:150}}),new w({children:[new y({text:"ðŸ“ˆ Overall Progress: ",bold:!0,size:22}),new y({text:R(x),size:22,color:"4F46E5"})],spacing:{after:300}})],m=[new w({children:[new y({text:"Goal Details",bold:!0,size:28,color:"4F46E5"})],spacing:{before:300,after:200}})],n=[new me({children:[new M({children:[new w({children:[new y({text:"Goal Name",bold:!0,color:"FFFFFF"})],alignment:G.CENTER})],shading:{fill:"4F46E5"}}),new M({children:[new w({children:[new y({text:"Target Date",bold:!0,color:"FFFFFF"})],alignment:G.CENTER})],shading:{fill:"4F46E5"}}),new M({children:[new w({children:[new y({text:"Priority",bold:!0,color:"FFFFFF"})],alignment:G.CENTER})],shading:{fill:"4F46E5"}}),new M({children:[new w({children:[new y({text:"Status",bold:!0,color:"FFFFFF"})],alignment:G.CENTER})],shading:{fill:"4F46E5"}}),new M({children:[new w({children:[new y({text:"Progress",bold:!0,color:"FFFFFF"})],alignment:G.CENTER})],shading:{fill:"4F46E5"}}),new M({children:[new w({children:[new y({text:"Amount",bold:!0,color:"FFFFFF"})],alignment:G.CENTER})],shading:{fill:"4F46E5"}})]})];t.forEach((a,N)=>{const b=N%2===0?"F8FAFF":"FFFFFF",S=ue(a.priority),D=he(a.status),A=a.percentage??(a.target_amount>0?Math.min(a.current_amount/a.target_amount*100,100):0);n.push(new me({children:[new M({children:[new w(a.goal_name)],shading:{fill:b}}),new M({children:[new w(H(a.target_date))],shading:{fill:b}}),new M({children:[new w({children:[new y({text:a.priority.charAt(0).toUpperCase()+a.priority.slice(1),color:S.color.replace("#",""),bold:!0})],alignment:G.CENTER})],shading:{fill:b}}),new M({children:[new w({children:[new y({text:Z(a.status),color:D.color.replace("#",""),bold:!0})],alignment:G.CENTER})],shading:{fill:b}}),new M({children:[new w({children:[new y({text:R(A),bold:!0})],alignment:G.RIGHT})],shading:{fill:b}}),new M({children:[new w({children:[new y({text:`${C(a.current_amount)} / ${C(a.target_amount)}`})],alignment:G.RIGHT})],shading:{fill:b}})]}))});const g=new Te({rows:n,width:{size:100,type:Ge.PERCENTAGE}}),k=new De({sections:[{properties:{},children:[...h,...p,...c,...m,g,new w({text:"",spacing:{before:600}}),new w({children:[new y({text:"Â© 2025 BudgetMe - Financial Intelligence Platform",size:18,color:"94A3B8",italics:!0})],alignment:G.CENTER,border:{top:{color:"E2E8F0",space:1,style:"single",size:6}},spacing:{before:200}})]}]}),F=await $e.toBlob(k),j=URL.createObjectURL(F),E=document.createElement("a");E.href=j,E.setAttribute("download",`budgetme-goals-${new Date().toISOString().split("T")[0]}.docx`),document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(j)}catch(l){throw console.error("Error generating DOCX:",l),new Error("Failed to generate DOCX report")}},pt=()=>{const[t,r]=_.useState("table"),[l,s]=_.useState(!1),[o,i]=_.useState(!1),{showSuccessToast:x,showErrorToast:f}=Q(),d=Xe(),{goals:u,loading:h,setGoals:p,refetchGoals:c}=qe(d),{filter:m,setFilter:n,filteredGoals:g,isFiltering:k,resetFilters:F,currentPage:j,pageSize:E,totalPages:a,totalItems:N,startIndex:b,endIndex:S,updatePage:D,updatePageSize:A}=We(u),z=Ye(u),{activeTip:V,tooltipPosition:U,toggleTip:O}=Je(),{deleteModalState:ge,openDeleteModal:ee,closeDeleteModal:fe,handleDeleteGoal:pe,viewLinkedTransactions:be}=Ke(u,p,g,()=>{},()=>{}),te=v=>{const{name:P,value:_e}=v.target;n(Ce=>({...Ce,[P]:_e}))},se=()=>{s(!0)},ye=()=>{s(!1)},je=()=>{c()},q=()=>{const v=[];return m.priority&&m.priority!=="all"&&v.push(`Priority: ${m.priority}`),m.category&&m.category!=="all"&&v.push(`Status: ${m.category}`),m.scope&&m.scope!=="all"&&v.push(`Scope: ${m.scope}`),m.search&&v.push(`Search: "${m.search}"`),v.length>0?`Filters: ${v.join(", ")}`:void 0},ae=async()=>{try{i(!0),x("Preparing PDF export..."),await Ze(g,q()),x("PDF downloaded successfully!")}catch(v){console.error("PDF Export Error:",v),f("Failed to generate PDF. Please try again.")}finally{i(!1)}},re=()=>{try{i(!0),x("Preparing CSV export..."),et(g,q()),x("CSV downloaded successfully!")}catch(v){console.error("CSV Export Error:",v),f("Failed to generate CSV. Please try again.")}finally{i(!1)}},le=async()=>{try{i(!0),x("Preparing Word document export..."),await tt(g,q()),x("Word document downloaded successfully!")}catch(v){console.error("DOCX Export Error:",v),f("Failed to generate Word document. Please try again.")}finally{i(!1)}};if(h)return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"block md:hidden py-12 animate__animated animate__fadeIn",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 font-medium",children:"Loading your goals..."})]})}),e.jsxs("div",{className:"text-center my-5 py-5 animate__animated animate__fadeIn hidden md:block",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:e.jsx("span",{className:"sr-only",children:"Loading..."})}),e.jsx("h5",{className:"mt-4 text-gray-600 font-weight-light",children:"Loading Financial Goals"}),e.jsx("p",{className:"text-gray-500",children:"Please wait while we prepare your goal dashboard..."})]})]});const W=u.reduce((v,P)=>v+P.target_amount,0),ne=u.reduce((v,P)=>v+P.current_amount,0),$=W>0?ne/W*100:0,Ne=u.length,we=u.filter(v=>v.status==="completed").length,ve=u.filter(v=>v.status==="in_progress").length,Fe=u.filter(v=>v.status==="not_started").length,ie=u.filter(v=>v.is_overdue&&v.status!=="completed"&&v.status!=="cancelled").length;return e.jsx(Ee,{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"block md:hidden mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-base font-bold text-gray-800",children:"Financial Goals"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex bg-gray-100 rounded-full p-0.5",children:[e.jsx("button",{onClick:()=>r("table"),className:`w-7 h-7 rounded-full flex items-center justify-center transition-all ${t==="table"?"bg-white shadow-sm text-indigo-600":"text-gray-400"}`,"aria-label":"Table view",children:e.jsx("i",{className:"fas fa-list text-[10px]"})}),e.jsx("button",{onClick:()=>r("grid"),className:`w-7 h-7 rounded-full flex items-center justify-center transition-all ${t==="grid"?"bg-white shadow-sm text-indigo-600":"text-gray-400"}`,"aria-label":"Grid view",children:e.jsx("i",{className:"fas fa-th text-[10px]"})})]}),e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{className:"w-9 h-9 rounded-full bg-emerald-500 hover:bg-emerald-600 text-white flex items-center justify-center shadow-md transition-all active:scale-95 disabled:opacity-50",type:"button",id:"mobileExportDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:o||g.length===0,"aria-label":"Export",children:e.jsx("i",{className:"fas fa-download text-xs"})}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-right shadow","aria-labelledby":"mobileExportDropdown",children:[e.jsxs("button",{className:"dropdown-item text-sm",onClick:ae,disabled:o,children:[e.jsx("i",{className:"fas fa-file-pdf fa-sm fa-fw mr-2 text-danger"}),"PDF"]}),e.jsxs("button",{className:"dropdown-item text-sm",onClick:re,disabled:o,children:[e.jsx("i",{className:"fas fa-file-csv fa-sm fa-fw mr-2 text-success"}),"CSV"]}),e.jsxs("button",{className:"dropdown-item text-sm",onClick:le,disabled:o,children:[e.jsx("i",{className:"fas fa-file-word fa-sm fa-fw mr-2 text-primary"}),"Word"]})]})]}),e.jsx("button",{onClick:se,className:"w-9 h-9 rounded-full bg-teal-500 hover:bg-teal-600 text-white flex items-center justify-center shadow-md transition-all active:scale-95","aria-label":"Contribute to goal",children:e.jsx("i",{className:"fas fa-plus-circle text-xs"})}),e.jsx(T,{to:"/goals/create",className:"w-9 h-9 rounded-full bg-indigo-500 hover:bg-indigo-600 text-white flex items-center justify-center shadow-md transition-all active:scale-95","aria-label":"Create goal",children:e.jsx("i",{className:"fas fa-plus text-xs"})})]})]})}),e.jsxs("div",{className:"block md:hidden mb-4",children:[e.jsxs("div",{className:`bg-gradient-to-br ${$>=75?"from-emerald-500 via-teal-500 to-cyan-500":$>=50?"from-cyan-500 via-blue-500 to-indigo-500":$>=25?"from-amber-500 via-orange-500 to-yellow-500":"from-rose-500 via-red-500 to-orange-500"} rounded-2xl p-4 mb-3 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-white/80 text-xs font-medium",children:"Goal Progress"}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx("i",{className:`fas fa-${$>=75?"trophy":$>=50?"chart-line":"flag"} text-white text-sm`})})]}),e.jsxs("div",{className:"text-white text-2xl font-bold mb-1",children:[R($)," Complete"]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{className:`text-xs font-medium ${$>=75?"text-green-200":$>=50?"text-blue-200":$>=25?"text-amber-200":"text-red-200"}`,children:[e.jsx("i",{className:`fas fa-${$>=50?"arrow-up":"arrow-right"} text-[10px] mr-1`}),$>=75?"Excellent":$>=50?"Good Progress":$>=25?"Getting There":"Just Started"]})}),e.jsx("div",{className:"mt-3 w-full bg-white/20 rounded-full h-1.5",children:e.jsx("div",{className:"bg-white h-1.5 rounded-full transition-all duration-500",style:{width:`${Math.min($,100)}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-indigo-100 flex items-center justify-center mb-2",children:e.jsx("i",{className:"fas fa-flag text-indigo-500 text-xs"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Goals"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:Ne})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-blue-100 flex items-center justify-center mb-2",children:e.jsx("i",{className:"fas fa-bullseye text-blue-500 text-xs"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Target"}),e.jsx("p",{className:"text-sm font-bold text-gray-800 truncate",children:C(W)})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-emerald-100 flex items-center justify-center mb-2",children:e.jsx("i",{className:"fas fa-piggy-bank text-emerald-500 text-xs"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Saved"}),e.jsx("p",{className:"text-sm font-bold text-emerald-600 truncate",children:C(ne)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 overflow-x-auto pb-1 scrollbar-hide",children:[e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 bg-emerald-50 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsxs("span",{className:"text-[10px] font-medium text-emerald-700",children:[we," Done"]})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 bg-blue-50 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsxs("span",{className:"text-[10px] font-medium text-blue-700",children:[ve," Active"]})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-50 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),e.jsxs("span",{className:"text-[10px] font-medium text-gray-600",children:[Fe," Pending"]})]}),ie>0&&e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 bg-rose-50 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-500"}),e.jsxs("span",{className:"text-[10px] font-medium text-rose-700",children:[ie," Overdue"]})]})]})]}),e.jsxs("div",{className:"d-none d-md-flex align-items-center justify-content-between mb-4",children:[e.jsx("h1",{className:"h3 mb-0 text-gray-800 animate__animated animate__fadeIn",children:"Financial Goals"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{className:"btn-group mr-2",children:[e.jsx("button",{type:"button",className:`btn btn-sm ${t==="table"?"btn-primary":"btn-outline-primary"}`,onClick:()=>r("table"),title:"Table View",children:e.jsx("i",{className:"fas fa-table fa-sm"})}),e.jsx("button",{type:"button",className:`btn btn-sm ${t==="grid"?"btn-primary":"btn-outline-primary"}`,onClick:()=>r("grid"),title:"Grid View",children:e.jsx("i",{className:"fas fa-th fa-sm"})})]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-success shadow-sm dropdown-toggle d-flex align-items-center",type:"button",id:"exportDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:o||g.length===0,children:[e.jsx("i",{className:"fas fa-download fa-sm text-white-50 mr-2"}),"Export"]}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-right shadow","aria-labelledby":"exportDropdown",children:[e.jsxs("button",{className:"dropdown-item",onClick:ae,disabled:o,children:[e.jsx("i",{className:"fas fa-file-pdf fa-sm fa-fw mr-2 text-danger"}),"Export as PDF"]}),e.jsxs("button",{className:"dropdown-item",onClick:re,disabled:o,children:[e.jsx("i",{className:"fas fa-file-csv fa-sm fa-fw mr-2 text-success"}),"Export as CSV"]}),e.jsxs("button",{className:"dropdown-item",onClick:le,disabled:o,children:[e.jsx("i",{className:"fas fa-file-word fa-sm fa-fw mr-2 text-primary"}),"Export as Word"]})]})]}),e.jsxs("button",{onClick:se,className:"btn btn-success shadow-sm mr-2 d-inline-flex align-items-center animate__animated animate__fadeIn",title:"Contribute to Goal",children:[e.jsx("i",{className:"fas fa-plus-circle mr-2"}),"Contribute to Goal"]}),e.jsxs(T,{to:"/goals/create",className:"d-none d-sm-inline-block btn btn-primary shadow-sm animate__animated animate__fadeIn",children:[e.jsx("i",{className:"fas fa-plus fa-sm text-white-50 mr-2"}),"Create Goal"]})]})]}),e.jsx("div",{className:"d-none d-md-block",children:e.jsx(Me,{goalSummary:z,filteredGoalsCount:g.length,onToggleTip:O})}),e.jsxs("div",{className:"d-none d-md-flex row",children:[e.jsx(Se,{goals:u,goalSummary:z,onToggleTip:O}),e.jsx(Be,{goals:u,goalSummary:z,onToggleTip:O})]}),t==="table"?e.jsx(ze,{filteredGoals:g,isFiltering:k,filter:m,onFilterChange:te,onResetFilters:F,onDeleteGoal:ee,onToggleTip:O,isFamilyMember:d.isFamilyMember,currentPage:j,pageSize:E,totalPages:a,totalItems:N,startIndex:b,endIndex:S,onPageChange:D,onPageSizeChange:A}):e.jsxs(e.Fragment,{children:[e.jsx(J,{filter:m,onFilterChange:te,onResetFilters:F,isFiltering:k,isFamilyMember:d.isFamilyMember,showAsCard:!0}),e.jsx(Oe,{filteredGoals:g,isFiltering:k,onDeleteGoal:ee,currentPage:j,pageSize:E,totalPages:a,totalItems:N,startIndex:b,endIndex:S,onPageChange:D,onPageSizeChange:A})]}),e.jsx(Ue,{activeTip:V,tooltipPosition:U}),e.jsx(Ve,{deleteModalState:ge,onCloseModal:fe,onDeleteGoal:pe,onViewLinkedTransactions:be}),e.jsx(ke,{isOpen:l,onClose:ye,goals:u,onContributionSuccess:je})]})})};export{pt as default};
