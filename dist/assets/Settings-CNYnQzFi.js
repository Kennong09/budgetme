import{j as e}from"./ui-vendor-Cn1Vfl4w.js";import{r as _,b as K,u as _e}from"./react-vendor-D4A9EtXC.js";import{u as z,s as T,b as ce}from"./index-BbApZ7g3.js";import{U as te}from"./userOnboardingService-C949bn3s.js";/* empty css                       */import{L as ae,a as he,A as q}from"./types-DTh0EQB9.js";import{g as Y}from"./currencyHelpers-DQ_bH0yJ.js";import{A as R}from"./accountService-CFCTGWw4.js";import{T as ye}from"./transactionService-B7dXImam.js";import"./chart-vendor-B0c7K_uV.js";const be=[{id:1,username:"mockdata",email:"mockdata@gmail.com",password_hash:"hashedpassword",created_at:"2024-01-15",last_login:"2025-06-01",user_role:"admin",is_active:!0},{id:2,username:"mockdata2",email:"mockdata2@gmail.com",password_hash:"hashedpassword",created_at:"2024-02-10",last_login:"2025-05-28",user_role:"viewer",is_active:!0},{id:3,username:"mockdata3",email:"mockdata3@gmail.com",password_hash:"hashedpassword",created_at:"2024-03-05",last_login:"2025-05-30",user_role:"viewer",is_active:!0}],je=[{id:1,user_id:1,account_name:"Primary Checking",account_type:"checking",balance:5234.65,created_at:"2024-01-15",status:"active"},{id:2,user_id:1,account_name:"Savings Account",account_type:"savings",balance:12750.42,created_at:"2024-01-15",status:"active"},{id:3,user_id:1,account_name:"Credit Card",account_type:"credit",balance:-1250.3,created_at:"2024-01-15",status:"active"},{id:4,user_id:2,account_name:"Jane Checking",account_type:"checking",balance:3245.18,created_at:"2024-02-10",status:"active"}],Ne=[{id:1,user_id:1,category_name:"Salary",icon:"cash",is_default:!0},{id:2,user_id:1,category_name:"Freelance",icon:"briefcase",is_default:!0},{id:3,user_id:1,category_name:"Investments",icon:"trending-up",is_default:!0},{id:4,user_id:1,category_name:"Gifts",icon:"gift",is_default:!0},{id:5,user_id:1,category_name:"Other Income",icon:"plus-circle",is_default:!0}],ve=[{id:1,user_id:1,category_name:"Housing",icon:"home",is_default:!0},{id:2,user_id:1,category_name:"Utilities",icon:"zap",is_default:!0},{id:3,user_id:1,category_name:"Groceries",icon:"shopping-cart",is_default:!0},{id:4,user_id:1,category_name:"Transportation",icon:"truck",is_default:!0},{id:5,user_id:1,category_name:"Dining Out",icon:"coffee",is_default:!0},{id:6,user_id:1,category_name:"Entertainment",icon:"film",is_default:!0},{id:7,user_id:1,category_name:"Healthcare",icon:"activity",is_default:!0},{id:8,user_id:1,category_name:"Education",icon:"book",is_default:!0},{id:9,user_id:1,category_name:"Shopping",icon:"shopping-bag",is_default:!0},{id:10,user_id:1,category_name:"Personal Care",icon:"user",is_default:!0},{id:11,user_id:1,category_name:"Travel",icon:"map",is_default:!0},{id:12,user_id:1,category_name:"Subscriptions",icon:"repeat",is_default:!0},{id:13,user_id:1,category_name:"Contribution",icon:"piggy-bank",is_default:!0},{id:14,user_id:1,category_name:"Other Expenses",icon:"more-horizontal",is_default:!0}],we=[{id:1,user_id:1,account_id:1,category_id:1,goal_id:null,type:"income",amount:4500,date:"2023-04-01",notes:"Monthly salary",created_at:"2023-04-01"},{id:2,user_id:1,account_id:1,category_id:1,goal_id:null,type:"expense",amount:1200,date:"2023-04-02",notes:"Rent payment",created_at:"2023-04-02"},{id:3,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:185.75,date:"2023-04-05",notes:"Weekly groceries",created_at:"2023-04-05"},{id:4,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:95.62,date:"2023-04-05",notes:"Electricity bill",created_at:"2023-04-05"},{id:5,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:65.32,date:"2023-04-07",notes:"Dinner with friends",created_at:"2023-04-07"},{id:6,user_id:1,account_id:1,category_id:2,goal_id:null,type:"income",amount:850,date:"2023-04-12",notes:"Website design project",created_at:"2023-04-12"},{id:7,user_id:1,account_id:2,category_id:null,goal_id:1,type:"expense",amount:500,date:"2023-04-15",notes:"Transfer to savings for Japan trip",created_at:"2023-04-15"},{id:8,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:45,date:"2023-04-09",notes:"Fuel",created_at:"2023-04-09"},{id:9,user_id:1,account_id:1,category_id:7,goal_id:null,type:"expense",amount:120,date:"2023-04-20",notes:"Doctor appointment",created_at:"2023-04-20"},{id:10,user_id:1,account_id:1,category_id:12,goal_id:null,type:"expense",amount:29.99,date:"2023-04-22",notes:"Streaming services",created_at:"2023-04-22"},{id:11,user_id:1,account_id:3,category_id:9,goal_id:null,type:"expense",amount:215.48,date:"2023-04-24",notes:"New clothes",created_at:"2023-04-24"},{id:12,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:134.27,date:"2023-04-26",notes:"Weekly groceries",created_at:"2023-04-26"},{id:13,user_id:1,account_id:2,category_id:null,goal_id:2,type:"expense",amount:200,date:"2023-04-28",notes:"Transfer to emergency fund",created_at:"2023-04-28"},{id:14,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:89.5,date:"2023-04-29",notes:"Concert tickets",created_at:"2023-04-29"},{id:15,user_id:1,account_id:1,category_id:1,goal_id:null,type:"income",amount:4500,date:"2023-05-01",notes:"Monthly salary",created_at:"2023-05-01"},{id:16,user_id:1,account_id:1,category_id:1,goal_id:null,type:"expense",amount:1200,date:"2023-05-02",notes:"Rent payment",created_at:"2023-05-02"},{id:17,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:192.45,date:"2023-05-04",notes:"Weekly groceries",created_at:"2023-05-04"},{id:18,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:78.5,date:"2023-05-06",notes:"Birthday dinner",created_at:"2023-05-06"},{id:19,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:145.32,date:"2023-05-08",notes:"Combined utilities",created_at:"2023-05-08"},{id:20,user_id:1,account_id:1,category_id:2,goal_id:null,type:"income",amount:950,date:"2023-05-10",notes:"UI/UX design project",created_at:"2023-05-10"},{id:21,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:45.99,date:"2023-05-12",notes:"Movie night",created_at:"2023-05-12"},{id:22,user_id:1,account_id:3,category_id:11,goal_id:null,type:"expense",amount:345.67,date:"2023-05-15",notes:"Flight tickets",created_at:"2023-05-15"},{id:23,user_id:1,account_id:2,category_id:null,goal_id:1,type:"expense",amount:500,date:"2023-05-15",notes:"Transfer to savings for Japan trip",created_at:"2023-05-15"},{id:24,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:167.82,date:"2023-05-18",notes:"Weekly groceries",created_at:"2023-05-18"},{id:25,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:75,date:"2023-05-20",notes:"Fuel",created_at:"2023-05-20"},{id:26,user_id:1,account_id:1,category_id:3,goal_id:null,type:"income",amount:120.5,date:"2023-05-22",notes:"Stock dividends",created_at:"2023-05-22"},{id:27,user_id:1,account_id:1,category_id:9,goal_id:null,type:"expense",amount:189.99,date:"2023-05-24",notes:"New shoes",created_at:"2023-05-24"},{id:28,user_id:1,account_id:1,category_id:12,goal_id:null,type:"expense",amount:14.99,date:"2023-05-25",notes:"Music subscription",created_at:"2023-05-25"},{id:29,user_id:1,account_id:2,category_id:null,goal_id:2,type:"expense",amount:300,date:"2023-05-28",notes:"Transfer to emergency fund",created_at:"2023-05-28"},{id:30,user_id:1,account_id:1,category_id:1,goal_id:null,type:"income",amount:4600,date:"2023-06-01",notes:"Monthly salary with small raise",created_at:"2023-06-01"},{id:31,user_id:1,account_id:1,category_id:1,goal_id:null,type:"expense",amount:1200,date:"2023-06-02",notes:"Rent payment",created_at:"2023-06-02"},{id:32,user_id:1,account_id:1,category_id:8,goal_id:null,type:"expense",amount:299.99,date:"2023-06-03",notes:"Online course subscription",created_at:"2023-06-03"},{id:33,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:210.34,date:"2023-06-05",notes:"Weekly groceries",created_at:"2023-06-05"},{id:34,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:120,date:"2023-06-06",notes:"Car maintenance",created_at:"2023-06-06"},{id:35,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:85.45,date:"2023-06-08",notes:"Dinner with colleagues",created_at:"2023-06-08"},{id:36,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:110.55,date:"2023-06-10",notes:"Water and electricity",created_at:"2023-06-10"},{id:37,user_id:1,account_id:2,category_id:null,goal_id:3,type:"expense",amount:250,date:"2023-06-12",notes:"Saving for new laptop",created_at:"2023-06-12"},{id:38,user_id:1,account_id:1,category_id:2,goal_id:null,type:"income",amount:1200,date:"2023-06-15",notes:"Website development project",created_at:"2023-06-15"},{id:39,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:178.92,date:"2023-06-18",notes:"Weekly groceries",created_at:"2023-06-18"},{id:40,user_id:1,account_id:3,category_id:10,goal_id:null,type:"expense",amount:89.5,date:"2023-06-20",notes:"Haircut and products",created_at:"2023-06-20"},{id:41,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:65,date:"2023-06-22",notes:"Concert tickets",created_at:"2023-06-22"},{id:42,user_id:1,account_id:1,category_id:4,goal_id:null,type:"income",amount:100,date:"2023-06-23",notes:"Birthday gift from parents",created_at:"2023-06-23"},{id:43,user_id:1,account_id:1,category_id:9,goal_id:null,type:"expense",amount:145.67,date:"2023-06-25",notes:"Clothing purchase",created_at:"2023-06-25"},{id:44,user_id:1,account_id:2,category_id:null,goal_id:1,type:"expense",amount:500,date:"2023-06-28",notes:"Transfer to savings for Japan trip",created_at:"2023-06-28"},{id:45,user_id:1,account_id:1,category_id:7,goal_id:null,type:"expense",amount:55,date:"2023-06-30",notes:"Pharmacy prescription",created_at:"2023-06-30"},{id:46,user_id:1,account_id:1,category_id:1,goal_id:null,type:"income",amount:4600,date:"2023-07-01",notes:"Monthly salary",created_at:"2023-07-01"},{id:47,user_id:1,account_id:1,category_id:1,goal_id:null,type:"expense",amount:1200,date:"2023-07-02",notes:"Rent payment",created_at:"2023-07-02"},{id:48,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:224.87,date:"2023-07-03",notes:"Weekly groceries and BBQ supplies",created_at:"2023-07-03"},{id:49,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:120.5,date:"2023-07-04",notes:"Holiday celebration",created_at:"2023-07-04"},{id:50,user_id:1,account_id:3,category_id:9,goal_id:null,type:"expense",amount:175.25,date:"2023-07-05",notes:"Summer clothes shopping",created_at:"2023-07-05"},{id:51,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:68.35,date:"2023-07-07",notes:"Dinner with friends",created_at:"2023-07-07"},{id:52,user_id:1,account_id:1,category_id:3,goal_id:null,type:"income",amount:135.8,date:"2023-07-08",notes:"Stock dividends",created_at:"2023-07-08"},{id:53,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:135.45,date:"2023-07-10",notes:"Electricity and internet",created_at:"2023-07-10"},{id:54,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:183.65,date:"2023-07-12",notes:"Weekly groceries",created_at:"2023-07-12"},{id:55,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:80,date:"2023-07-14",notes:"Fuel",created_at:"2023-07-14"},{id:56,user_id:1,account_id:1,category_id:2,goal_id:null,type:"income",amount:1350,date:"2023-07-15",notes:"Mobile app design project",created_at:"2023-07-15"},{id:57,user_id:1,account_id:2,category_id:null,goal_id:1,type:"expense",amount:600,date:"2023-07-15",notes:"Transfer to savings for Japan trip",created_at:"2023-07-15"},{id:58,user_id:1,account_id:1,category_id:12,goal_id:null,type:"expense",amount:49.99,date:"2023-07-16",notes:"Software subscription renewal",created_at:"2023-07-16"},{id:59,user_id:1,account_id:3,category_id:7,goal_id:null,type:"expense",amount:150,date:"2023-07-18",notes:"Dentist appointment",created_at:"2023-07-18"},{id:60,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:195.32,date:"2023-07-19",notes:"Weekly groceries",created_at:"2023-07-19"},{id:61,user_id:1,account_id:2,category_id:null,goal_id:3,type:"expense",amount:300,date:"2023-07-20",notes:"Saving for new laptop",created_at:"2023-07-20"},{id:62,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:85.75,date:"2023-07-22",notes:"Music festival tickets",created_at:"2023-07-22"},{id:63,user_id:1,account_id:1,category_id:10,goal_id:null,type:"expense",amount:45.99,date:"2023-07-24",notes:"Personal care products",created_at:"2023-07-24"},{id:64,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:95.42,date:"2023-07-25",notes:"Anniversary dinner",created_at:"2023-07-25"},{id:65,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:178.45,date:"2023-07-26",notes:"Weekly groceries",created_at:"2023-07-26"},{id:66,user_id:1,account_id:2,category_id:null,goal_id:2,type:"expense",amount:300,date:"2023-07-28",notes:"Transfer to emergency fund",created_at:"2023-07-28"},{id:67,user_id:1,account_id:1,category_id:4,goal_id:null,type:"income",amount:50,date:"2023-07-30",notes:"Gift card from friend",created_at:"2023-07-30"},{id:68,user_id:1,account_id:1,category_id:11,goal_id:null,type:"expense",amount:250.35,date:"2023-07-31",notes:"Weekend getaway booking",created_at:"2023-07-31"},{id:101,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:110.45,date:"2023-05-05",notes:"Electricity bill - May",created_at:"2023-05-05"},{id:102,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:65.25,date:"2023-05-10",notes:"Water bill - May",created_at:"2023-05-10"},{id:103,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:55.75,date:"2023-05-15",notes:"Internet bill - May",created_at:"2023-05-15"},{id:101,user_id:1,account_id:1,category_id:1,goal_id:null,type:"income",amount:4100,date:"2025-02-01",notes:"Monthly salary - February",created_at:"2025-02-01"},{id:102,user_id:1,account_id:1,category_id:1,goal_id:null,type:"expense",amount:1250,date:"2025-02-02",notes:"Rent payment - February",created_at:"2025-02-02"},{id:103,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:480,date:"2025-02-05",notes:"Groceries - Week 1",created_at:"2025-02-05"},{id:104,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:205,date:"2025-02-08",notes:"Utilities - February",created_at:"2025-02-08"},{id:105,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:195,date:"2025-02-12",notes:"Groceries - Week 2",created_at:"2025-02-12"},{id:106,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:120,date:"2025-02-14",notes:"Valentine's Day dinner",created_at:"2025-02-14"},{id:107,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:210,date:"2025-02-19",notes:"Groceries - Week 3",created_at:"2025-02-19"},{id:108,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:150,date:"2025-02-22",notes:"Fuel and transport - February",created_at:"2025-02-22"},{id:109,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:85,date:"2025-02-25",notes:"Movie night",created_at:"2025-02-25"},{id:110,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:175,date:"2025-02-26",notes:"Groceries - Week 4",created_at:"2025-02-26"},{id:111,user_id:1,account_id:1,category_id:12,goal_id:null,type:"expense",amount:75,date:"2025-02-28",notes:"Monthly subscriptions",created_at:"2025-02-28"},{id:201,user_id:1,account_id:1,category_id:1,goal_id:null,type:"income",amount:4200,date:"2025-03-01",notes:"Monthly salary - March",created_at:"2025-03-01"},{id:202,user_id:1,account_id:1,category_id:1,goal_id:null,type:"expense",amount:1250,date:"2025-03-02",notes:"Rent payment - March",created_at:"2025-03-02"},{id:203,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:520,date:"2025-03-05",notes:"Groceries - Week 1",created_at:"2025-03-05"},{id:204,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:215,date:"2025-03-08",notes:"Utilities - March",created_at:"2025-03-08"},{id:205,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:205,date:"2025-03-12",notes:"Groceries - Week 2",created_at:"2025-03-12"},{id:206,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:180,date:"2025-03-15",notes:"Concert tickets",created_at:"2025-03-15"},{id:207,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:225,date:"2025-03-19",notes:"Groceries - Week 3",created_at:"2025-03-19"},{id:208,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:160,date:"2025-03-22",notes:"Fuel and transport - March",created_at:"2025-03-22"},{id:209,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:110,date:"2025-03-25",notes:"Dinner with friends",created_at:"2025-03-25"},{id:210,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:185,date:"2025-03-26",notes:"Groceries - Week 4",created_at:"2025-03-26"},{id:211,user_id:1,account_id:1,category_id:12,goal_id:null,type:"expense",amount:75,date:"2025-03-28",notes:"Monthly subscriptions",created_at:"2025-03-28"},{id:301,user_id:1,account_id:1,category_id:1,goal_id:null,type:"income",amount:4300,date:"2025-04-01",notes:"Monthly salary - April",created_at:"2025-04-01"},{id:302,user_id:1,account_id:1,category_id:1,goal_id:null,type:"expense",amount:1250,date:"2025-04-02",notes:"Rent payment - April",created_at:"2025-04-02"},{id:303,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:490,date:"2025-04-04",notes:"Groceries - Week 1",created_at:"2025-04-04"},{id:304,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:195,date:"2025-04-08",notes:"Utilities - April",created_at:"2025-04-08"},{id:305,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:180,date:"2025-04-11",notes:"Groceries - Week 2",created_at:"2025-04-11"},{id:306,user_id:1,account_id:1,category_id:7,goal_id:null,type:"expense",amount:95,date:"2025-04-15",notes:"Doctor visit",created_at:"2025-04-15"},{id:307,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:210,date:"2025-04-18",notes:"Groceries - Week 3",created_at:"2025-04-18"},{id:308,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:140,date:"2025-04-20",notes:"Fuel and transport - April",created_at:"2025-04-20"},{id:309,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:70,date:"2025-04-22",notes:"Movie tickets",created_at:"2025-04-22"},{id:310,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:195,date:"2025-04-25",notes:"Groceries - Week 4",created_at:"2025-04-25"},{id:311,user_id:1,account_id:1,category_id:12,goal_id:null,type:"expense",amount:75,date:"2025-04-28",notes:"Monthly subscriptions",created_at:"2025-04-28"},{id:401,user_id:1,account_id:1,category_id:1,goal_id:null,type:"income",amount:4450,date:"2025-05-01",notes:"Monthly salary - May",created_at:"2025-05-01"},{id:402,user_id:1,account_id:1,category_id:1,goal_id:null,type:"expense",amount:1250,date:"2025-05-02",notes:"Rent payment - May",created_at:"2025-05-02"},{id:403,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:505,date:"2025-05-05",notes:"Groceries - Week 1",created_at:"2025-05-05"},{id:404,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:220,date:"2025-05-08",notes:"Utilities - May",created_at:"2025-05-08"},{id:405,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:210,date:"2025-05-12",notes:"Groceries - Week 2",created_at:"2025-05-12"},{id:406,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:145,date:"2025-05-15",notes:"Birthday dinner",created_at:"2025-05-15"},{id:407,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:230,date:"2025-05-19",notes:"Groceries - Week 3",created_at:"2025-05-19"},{id:408,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:170,date:"2025-05-22",notes:"Fuel and transport - May",created_at:"2025-05-22"},{id:409,user_id:1,account_id:1,category_id:9,goal_id:null,type:"expense",amount:225,date:"2025-05-24",notes:"New clothes",created_at:"2025-05-24"},{id:410,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:215,date:"2025-05-26",notes:"Groceries - Week 4",created_at:"2025-05-26"},{id:411,user_id:1,account_id:1,category_id:12,goal_id:null,type:"expense",amount:80,date:"2025-05-28",notes:"Monthly subscriptions",created_at:"2025-05-28"},{id:501,user_id:1,account_id:1,category_id:1,goal_id:null,type:"income",amount:4500,date:"2025-06-01",notes:"Monthly salary - June",created_at:"2025-06-01"},{id:502,user_id:1,account_id:1,category_id:1,goal_id:null,type:"expense",amount:1250,date:"2025-06-02",notes:"Rent payment - June",created_at:"2025-06-02"},{id:503,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:195.75,date:"2025-06-05",notes:"Weekly groceries",created_at:"2025-06-05"},{id:504,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:115.62,date:"2025-06-05",notes:"Electricity bill",created_at:"2025-06-05"},{id:505,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:85.32,date:"2025-06-07",notes:"Dinner with friends",created_at:"2025-06-07"},{id:506,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:55,date:"2025-06-09",notes:"Fuel",created_at:"2025-06-09"},{id:507,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:75,date:"2025-06-10",notes:"Movie tickets and dinner",created_at:"2025-06-10"},{id:508,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:210.25,date:"2025-06-12",notes:"Weekly groceries",created_at:"2025-06-12"},{id:509,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:85,date:"2025-06-14",notes:"Water bill",created_at:"2025-06-14"},{id:510,user_id:1,account_id:1,category_id:7,goal_id:null,type:"expense",amount:45,date:"2025-06-15",notes:"Pharmacy",created_at:"2025-06-15"},{id:511,user_id:1,account_id:1,category_id:2,goal_id:null,type:"income",amount:850,date:"2025-06-15",notes:"Website project",created_at:"2025-06-15"},{id:512,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:185.6,date:"2025-06-19",notes:"Weekly groceries",created_at:"2025-06-19"},{id:513,user_id:1,account_id:1,category_id:5,goal_id:null,type:"expense",amount:65.45,date:"2025-06-20",notes:"Lunch with colleagues",created_at:"2025-06-20"},{id:514,user_id:1,account_id:1,category_id:9,goal_id:null,type:"expense",amount:135.75,date:"2025-06-21",notes:"Clothing",created_at:"2025-06-21"},{id:515,user_id:1,account_id:1,category_id:2,goal_id:null,type:"expense",amount:95,date:"2025-06-22",notes:"Internet bill",created_at:"2025-06-22"},{id:516,user_id:1,account_id:1,category_id:3,goal_id:null,type:"expense",amount:205.4,date:"2025-06-26",notes:"Weekly groceries",created_at:"2025-06-26"},{id:517,user_id:1,account_id:1,category_id:4,goal_id:null,type:"expense",amount:60,date:"2025-06-28",notes:"Fuel",created_at:"2025-06-28"},{id:518,user_id:1,account_id:1,category_id:6,goal_id:null,type:"expense",amount:120,date:"2025-06-29",notes:"Concert tickets",created_at:"2025-06-29"},{id:519,user_id:1,account_id:1,category_id:12,goal_id:null,type:"expense",amount:50,date:"2025-06-30",notes:"Streaming services",created_at:"2025-06-30"},{id:601,user_id:1,account_id:1,category_id:null,goal_id:4,type:"expense",amount:750,date:"2023-05-01",notes:"Initial contribution to Home Down Payment",created_at:"2023-05-01"},{id:602,user_id:1,account_id:2,category_id:null,goal_id:4,type:"expense",amount:1e3,date:"2023-06-15",notes:"Monthly contribution to Home Down Payment",created_at:"2023-06-15"},{id:603,user_id:1,account_id:1,category_id:null,goal_id:4,type:"expense",amount:1e3,date:"2023-07-15",notes:"Monthly contribution to Home Down Payment",created_at:"2023-07-15"},{id:604,user_id:1,account_id:1,category_id:null,goal_id:4,type:"expense",amount:1e3,date:"2025-06-01",notes:"Recent contribution to Home Down Payment",created_at:"2025-06-01"},{id:605,user_id:1,account_id:2,category_id:null,goal_id:5,type:"expense",amount:500,date:"2023-04-01",notes:"Initial contribution to New Car fund",created_at:"2023-04-01"},{id:606,user_id:1,account_id:1,category_id:null,goal_id:5,type:"expense",amount:350,date:"2023-05-15",notes:"Monthly contribution to New Car fund",created_at:"2023-05-15"},{id:607,user_id:1,account_id:1,category_id:null,goal_id:5,type:"expense",amount:350,date:"2023-06-15",notes:"Monthly contribution to New Car fund",created_at:"2023-06-15"},{id:608,user_id:1,account_id:2,category_id:null,goal_id:5,type:"expense",amount:500,date:"2025-05-20",notes:"Recent contribution to New Car fund",created_at:"2025-05-20"},{id:609,user_id:1,account_id:1,category_id:null,goal_id:5,type:"expense",amount:500,date:"2025-06-01",notes:"Recent contribution to New Car fund",created_at:"2025-06-01"},{id:610,user_id:1,account_id:1,category_id:null,goal_id:6,type:"expense",amount:300,date:"2023-05-10",notes:"Initial contribution to Vacation Fund",created_at:"2023-05-10"},{id:611,user_id:1,account_id:2,category_id:null,goal_id:6,type:"expense",amount:250,date:"2023-06-10",notes:"Monthly contribution to Vacation Fund",created_at:"2023-06-10"},{id:612,user_id:1,account_id:1,category_id:null,goal_id:6,type:"expense",amount:250,date:"2023-07-10",notes:"Monthly contribution to Vacation Fund",created_at:"2023-07-10"},{id:613,user_id:1,account_id:1,category_id:null,goal_id:6,type:"expense",amount:250,date:"2025-05-15",notes:"Recent contribution to Vacation Fund",created_at:"2025-05-15"},{id:614,user_id:1,account_id:2,category_id:null,goal_id:7,type:"expense",amount:1e3,date:"2023-01-20",notes:"Initial contribution to Wedding Fund",created_at:"2023-01-20"},{id:615,user_id:1,account_id:1,category_id:null,goal_id:7,type:"expense",amount:750,date:"2023-03-15",notes:"Quarterly contribution to Wedding Fund",created_at:"2023-03-15"},{id:616,user_id:1,account_id:2,category_id:null,goal_id:7,type:"expense",amount:750,date:"2023-06-15",notes:"Quarterly contribution to Wedding Fund",created_at:"2023-06-15"},{id:617,user_id:1,account_id:1,category_id:null,goal_id:7,type:"expense",amount:1e3,date:"2025-05-01",notes:"Recent contribution to Wedding Fund",created_at:"2025-05-01"},{id:618,user_id:1,account_id:2,category_id:null,goal_id:7,type:"expense",amount:1e3,date:"2025-06-01",notes:"Recent contribution to Wedding Fund",created_at:"2025-06-01"}],ke=[{id:1,user_id:1,category_id:1,period_start:"2025-06-01",period_end:"2025-06-30",amount:1350},{id:2,user_id:1,category_id:2,period_start:"2025-06-01",period_end:"2025-06-30",amount:300},{id:3,user_id:1,category_id:3,period_start:"2025-06-01",period_end:"2025-06-30",amount:800},{id:4,user_id:1,category_id:4,period_start:"2025-06-01",period_end:"2025-06-30",amount:150},{id:5,user_id:1,category_id:5,period_start:"2025-06-01",period_end:"2025-06-30",amount:200},{id:6,user_id:1,category_id:6,period_start:"2025-06-01",period_end:"2025-06-30",amount:200},{id:7,user_id:1,category_id:7,period_start:"2025-06-01",period_end:"2025-06-30",amount:150},{id:8,user_id:1,category_id:9,period_start:"2025-06-01",period_end:"2025-06-30",amount:300},{id:9,user_id:1,category_id:12,period_start:"2025-06-01",period_end:"2025-06-30",amount:50},{id:10,user_id:1,category_id:1,period_start:"2025-05-01",period_end:"2025-05-31",amount:1350},{id:11,user_id:1,category_id:2,period_start:"2025-05-01",period_end:"2025-05-31",amount:275},{id:12,user_id:1,category_id:3,period_start:"2025-05-01",period_end:"2025-05-31",amount:750}],Ce=[{id:1,user_id:1,goal_name:"Japan Trip",target_amount:5e3,target_date:"2023-12-31",priority:"high",status:"in_progress",created_at:"2023-01-15",current_amount:1500},{id:2,user_id:1,goal_name:"Emergency Fund",target_amount:1e4,target_date:"2023-12-31",priority:"high",status:"in_progress",created_at:"2023-01-15",current_amount:2e3},{id:3,user_id:1,goal_name:"New Laptop",target_amount:1500,target_date:"2023-08-31",priority:"medium",status:"in_progress",created_at:"2023-02-10",current_amount:500},{id:4,user_id:1,goal_name:"Home Down Payment",target_amount:25e3,target_date:"2025-12-31",priority:"high",status:"in_progress",created_at:"2023-04-01",current_amount:3750},{id:5,user_id:1,goal_name:"New Car",target_amount:8e3,target_date:"2024-06-30",priority:"medium",status:"in_progress",created_at:"2023-03-15",current_amount:2200},{id:6,user_id:1,goal_name:"Vacation Fund",target_amount:3e3,target_date:"2023-09-30",priority:"low",status:"in_progress",created_at:"2023-05-10",current_amount:1050},{id:7,user_id:1,goal_name:"Wedding Fund",target_amount:15e3,target_date:"2024-10-15",priority:"high",status:"in_progress",created_at:"2023-01-20",current_amount:4500}],Ae=[{id:1,owner_user_id:1,family_name:"Mock Data Family",created_at:"2023-01-15"}],Se=[{family_id:1,member_user_id:1,role:"admin",join_date:"2023-01-15"},{family_id:1,member_user_id:2,role:"viewer",join_date:"2023-02-15"},{family_id:1,member_user_id:3,role:"viewer",join_date:"2023-03-05"},{family_id:1,member_user_id:3,role:"viewer",join_date:"2025-05-20"}],Fe=(c=1)=>{const n=be.find(o=>o.id===c),t=je.filter(o=>o.user_id===c),r=we.filter(o=>o.user_id===c),s=ke.filter(o=>o.user_id===c),a=Ce.filter(o=>o.user_id===c),m=Ne.filter(o=>o.user_id===c),d=ve.filter(o=>o.user_id===c),u=Se.find(o=>o.member_user_id===c);return{user:n,accounts:t,transactions:r,budgets:s,goals:a,incomeCategories:m,expenseCategories:d,family:u?Ae.find(o=>o.id===u.family_id):null}},De=()=>e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"block md:hidden py-12 animate__animated animate__fadeIn",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 font-medium",children:"Loading your settings..."})]})}),e.jsxs("div",{className:"text-center my-5 py-5 animate__animated animate__fadeIn hidden md:block",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:e.jsx("span",{className:"sr-only",children:"Loading..."})}),e.jsx("h5",{className:"mt-4 text-gray-600 font-weight-light",children:"Loading Settings"}),e.jsx("p",{className:"text-gray-500",children:"Please wait while we load your preferences..."})]})]}),J=({label:c,htmlFor:n,labelWidth:t=3,children:r,helpText:s,icon:a})=>{const m=12-t;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"block md:hidden bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-3",children:[e.jsx("label",{htmlFor:n,className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide mb-2 block",children:c}),e.jsxs("div",{className:"flex items-center space-x-3",children:[a&&e.jsx("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:`${a} text-indigo-500 text-sm`})}),e.jsx("div",{className:"flex-1",children:r})]}),s&&e.jsxs("p",{className:"text-[10px] text-gray-500 mt-2",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),s]})]}),e.jsxs("div",{className:"hidden md:block form-group row",children:[e.jsx("label",{htmlFor:n,className:`col-sm-${t} col-form-label`,children:c}),e.jsxs("div",{className:`col-sm-${m}`,children:[r,s&&e.jsx("small",{className:"form-text text-muted",children:s})]})]})]})},se=({profile:c,onInputChange:n,setSuccessMessage:t,setErrorMessage:r})=>{const{user:s}=z(),[a,m]=_.useState(!1),[d,u]=_.useState(!1),[o,g]=_.useState(null),[i,N]=_.useState(""),h=_.useRef(null),I=y=>{const w=y.target.files?.[0];if(!w)return;if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp"].includes(w.type)){r("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}const L=5*1024*1024;if(w.size>L){r("Image size must be less than 5MB");return}g(w);const U=URL.createObjectURL(w);N(U)},v=async y=>{try{if(!s)throw new Error("User must be logged in to upload images");try{const w=y.name.split(".").pop(),L=`profiles/${`profile-${s.id}-${Date.now()}.${w}`}`,{data:U,error:$}=await T.storage.from("profile-pictures").upload(L,y,{cacheControl:"3600",upsert:!1});if($)throw $;const{data:B}=T.storage.from("profile-pictures").getPublicUrl(L);return B.publicUrl}catch{return new Promise((W,L)=>{const U=new FileReader;U.onload=$=>W($.target?.result),U.onerror=$=>L($),U.readAsDataURL(y)})}}catch(w){throw console.error("Error processing image:",w),w}},b=async()=>{if(!(!o||!s))try{m(!0),r("");const y=await v(o);if(y){n({target:{name:"profilePicture",value:y}});const{error:w}=await T.auth.updateUser({data:{full_name:c.name,avatar_url:y}});if(w)throw w;t("Profile picture uploaded and saved successfully!"),g(null),N(""),h.current&&(h.current.value=""),setTimeout(()=>t(""),5e3)}}catch(y){console.error("Error uploading profile picture:",y),r(`Failed to upload image: ${y instanceof Error?y.message:"Unknown error"}`)}finally{m(!1)}},x=async()=>{if(!s){r("You must be logged in to save profile changes");return}try{u(!0),r("");const{error:y}=await T.auth.updateUser({data:{full_name:c.name,avatar_url:c.profilePicture}});if(y)throw y;t("Profile saved successfully!"),setTimeout(()=>t(""),5e3)}catch(y){console.error("Error saving profile:",y),r(`Failed to save profile: ${y instanceof Error?y.message:"Unknown error"}`)}finally{u(!1)}},S=()=>{g(null),N(""),h.current&&(h.current.value="")},F=()=>{const y=c.name.trim(),w=s?.user_metadata?.full_name||s?.email?.split("@")[0]||"";return y!==w&&y.length>0};return e.jsxs("div",{className:"settings-section animate__animated animate__fadeIn animate__faster",children:[e.jsxs("div",{className:"block md:hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-indigo-100 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-user text-indigo-500 text-xs"})}),"Profile Settings"]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 ml-9",children:"Manage your profile information"})]}),e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:i||c.profilePicture||"https://via.placeholder.com/150",alt:"Profile",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200 shadow-sm"}),(i||o)&&e.jsx("span",{className:"absolute -bottom-1 -right-1 bg-blue-500 text-white text-[8px] px-1.5 py-0.5 rounded-full",children:"Preview"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",ref:h,accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:I,className:"hidden",id:"profilePictureMobile"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{type:"button",className:"px-3 py-1.5 bg-indigo-50 text-indigo-600 text-xs font-medium rounded-lg hover:bg-indigo-100 transition-colors",onClick:()=>h.current?.click(),disabled:a,children:[e.jsx("i",{className:"fas fa-camera mr-1 text-[10px]"}),"Choose"]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"px-3 py-1.5 bg-emerald-500 text-white text-xs font-medium rounded-lg hover:bg-emerald-600 transition-colors disabled:opacity-50",onClick:b,disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin mr-1 text-[10px]"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-cloud-upload-alt mr-1 text-[10px]"}),"Upload"]})}),e.jsx("button",{type:"button",className:"w-7 h-7 bg-gray-100 text-gray-500 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",onClick:S,disabled:a,children:e.jsx("i",{className:"fas fa-times text-[10px]"})})]})]}),o&&e.jsx("p",{className:"text-[9px] text-gray-500 mt-1 truncate max-w-[180px]",children:o.name})]})]}),e.jsxs("p",{className:"text-[9px] text-gray-400 mt-2",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),"JPEG, PNG, GIF, or WebP (max 5MB)"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx("i",{className:"fas fa-user text-gray-400 text-xs"})}),e.jsx("input",{type:"text",className:"w-full pl-9 pr-3 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",id:"nameMobile",name:"name",value:c.name,onChange:n,placeholder:"Enter your full name",maxLength:100})]}),e.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Your display name visible to other users"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx("i",{className:"fas fa-envelope text-gray-400 text-xs"})}),e.jsx("input",{type:"email",className:"w-full pl-9 pr-10 py-2.5 bg-gray-100 border border-gray-200 rounded-xl text-sm text-gray-500 cursor-not-allowed",id:"emailMobile",name:"email",value:c.email,disabled:!0,readOnly:!0}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx("i",{className:"fas fa-lock text-gray-300 text-xs"})})]}),e.jsxs("p",{className:"text-[9px] text-gray-400 mt-1",children:[e.jsx("i",{className:"fas fa-shield-alt mr-1 text-amber-400"}),"Contact support to change email"]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:F()?"Unsaved changes":"No changes"}),e.jsx("p",{className:"text-[9px] text-gray-400",children:"Pictures save automatically"})]}),e.jsx("button",{type:"button",className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all ${F()?"bg-emerald-500 text-white hover:bg-emerald-600 shadow-md":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,onClick:x,disabled:d||!F(),children:d?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin mr-1 text-xs"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save mr-1 text-xs"}),"Save"]})})]})})]})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"h5 mb-0 text-gray-700 d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-user text-primary mr-2"}),"Profile Settings"]}),e.jsx("small",{className:"text-gray-500",children:"Manage your profile information and picture"})]}),e.jsx("div",{className:"card border-left-primary shadow-sm mb-4",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"font-weight-bold text-primary mb-3",children:[e.jsx("i",{className:"fas fa-camera mr-2"}),"Profile Picture"]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4 text-center",children:e.jsxs("div",{className:"profile-picture-container mx-auto mb-3",children:[e.jsx("img",{src:i||c.profilePicture||"https://via.placeholder.com/150",alt:"Profile",className:"rounded-circle img-thumbnail",style:{width:"150px",height:"150px",objectFit:"cover"}}),(i||o)&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"badge badge-info",children:[e.jsx("i",{className:"fas fa-clock mr-1"}),"Preview"]})})]})}),e.jsxs("div",{className:"col-md-8",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("input",{type:"file",ref:h,accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",onChange:I,className:"form-control-file",id:"profilePicture",style:{display:"none"}}),e.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[e.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-sm mr-2 mb-2",onClick:()=>h.current?.click(),disabled:a,children:[e.jsx("i",{className:"fas fa-upload mr-1"}),"Choose Image"]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn-success btn-sm mr-2 mb-2",onClick:b,disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm mr-1",role:"status"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-cloud-upload-alt mr-1"}),"Upload & Save"]})}),e.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm mb-2",onClick:S,disabled:a,children:[e.jsx("i",{className:"fas fa-times mr-1"}),"Cancel"]})]})]})]}),o&&e.jsxs("div",{className:"alert alert-info",role:"alert",children:[e.jsx("i",{className:"fas fa-info-circle mr-2"}),e.jsx("strong",{children:"Selected:"})," ",o.name," (",(o.size/1024/1024).toFixed(2)," MB)"]}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),"Upload a profile picture (JPEG, PNG, GIF, or WebP, max 5MB). Images are automatically saved after upload."]})]})]})]})}),e.jsx("div",{className:"card shadow-sm mb-4",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"font-weight-bold text-gray-800 mb-3",children:[e.jsx("i",{className:"fas fa-info-circle mr-2"}),"Profile Information"]}),e.jsxs(J,{label:"Full Name",htmlFor:"name",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-user text-gray-600"})})}),e.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:c.name,onChange:n,placeholder:"Enter your full name",maxLength:100})]}),e.jsxs("small",{className:"form-text text-muted",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),"Your display name visible to other users"]})]}),e.jsxs(J,{label:"Email Address",htmlFor:"email",helpText:"Contact support to change your email address",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-envelope text-gray-600"})})}),e.jsx("input",{type:"email",className:"form-control bg-light",id:"email",name:"email",value:c.email,disabled:!0,readOnly:!0}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text bg-light border-left-0",children:e.jsx("i",{className:"fas fa-lock text-gray-400"})})})]}),e.jsxs("small",{className:"form-text text-muted",children:[e.jsx("i",{className:"fas fa-shield-alt mr-1 text-warning"}),"Email changes require account verification. Contact support for assistance."]})]})]})}),e.jsx("div",{className:"card border-left-success shadow-sm",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"font-weight-bold text-success mb-1",children:[e.jsx("i",{className:"fas fa-check-circle mr-2"}),"Save Name Changes"]}),e.jsxs("small",{className:"text-muted",children:[F()?"You have unsaved name changes":"No name changes to save",e.jsx("br",{}),e.jsx("i",{className:"fas fa-info-circle mr-1 text-info"}),"Profile pictures are saved automatically when uploaded"]})]}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:x,disabled:d||!F(),children:d?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm mr-2",role:"status"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save mr-2"}),"Save Name Changes"]})})]})})})]})]})},ne=({profile:c,onInputChange:n})=>e.jsxs("div",{className:"settings-section animate__animated animate__fadeIn animate__faster",children:[e.jsxs("div",{className:"block md:hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-purple-100 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-sliders-h text-purple-500 text-xs"})}),"Preferences"]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 ml-9",children:"Customize your app experience"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:"Currency"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-peso-sign text-emerald-500 text-sm"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Philippine Peso"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"₱ PHP"})]})]}),e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-600 text-[9px] font-semibold rounded-full",children:"Fixed"})]})}),e.jsxs("p",{className:"text-[9px] text-gray-400 mt-1.5",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),"Currency is standardized to PHP for all users"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:"Language"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx("i",{className:"fas fa-globe text-gray-400 text-xs"})}),e.jsx("select",{className:"w-full pl-9 pr-10 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-800 appearance-none focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",id:"languageMobile",name:"language",value:c.language,onChange:n,children:ae.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("i",{className:"fas fa-chevron-down text-gray-400 text-xs"})})]}),e.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Select your preferred language"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-3 mt-6",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("i",{className:"fas fa-lightbulb text-blue-500 text-[10px]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-blue-800",children:"Tip"}),e.jsx("p",{className:"text-[10px] text-blue-600 mt-0.5",children:"Your preferences are automatically saved when you make changes."})]})]})})]})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsx("h2",{className:"h5 mb-4 text-gray-700",children:"Preferences"}),e.jsxs(J,{label:"Currency",htmlFor:"currency",children:[e.jsx("div",{className:"form-control-static",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-peso-sign text-success mr-2"}),e.jsx("span",{className:"font-weight-bold",children:"PHP - Philippine Peso (₱)"}),e.jsx("span",{className:"badge badge-primary ml-2",children:"Fixed"})]})}),e.jsxs("small",{className:"form-text text-muted",children:[e.jsx("i",{className:"fas fa-info-circle mr-1 text-gray-400"}),"Currency selection has been standardized to Philippine Pesos for all users."]})]}),e.jsx(J,{label:"Language",htmlFor:"language",children:e.jsx("select",{className:"form-control",id:"language",name:"language",value:c.language,onChange:n,children:ae.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})})]})]}),ie=({editingAccount:c,onSubmit:n,onChange:t,onCancel:r,error:s,isSaving:a=!1})=>{const m=o=>{switch(o){case"checking":return"fas fa-university";case"savings":return"fas fa-piggy-bank";case"credit":return"fas fa-credit-card";case"investment":return"fas fa-chart-line";case"cash":return"fas fa-money-bill-wave";case"other":return"fas fa-wallet";default:return"fas fa-bank"}},d=()=>{const o=c.account_name?.trim()!=="",g=!isNaN(c.balance)&&c.balance!==null,i=c.account_type!=="credit"||c.balance<=0;return o&&g&&i},u=()=>e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-2xl p-4 md:p-5 mb-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:`${m(c.account_type)} text-white`})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold text-base",children:c.id?"Edit Account":"New Account"}),e.jsx("p",{className:"text-indigo-100 text-[10px]",children:"Fill in the details below"})]})]}),e.jsx("button",{type:"button",onClick:r,className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"fas fa-times text-white text-xs"})})]})}),s&&e.jsx("div",{className:"bg-rose-50 border border-rose-200 rounded-xl p-3 md:p-4 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"fas fa-exclamation-circle text-rose-500 text-sm"}),e.jsx("span",{className:"text-rose-700 text-xs md:text-sm",children:s})]})}),e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-3",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide mb-2 block",children:"Account Name"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"fas fa-tag text-indigo-500 text-sm"})}),e.jsx("input",{type:"text",name:"account_name",value:c.account_name,onChange:t,placeholder:"e.g. Main Checking",className:"flex-1 text-sm text-gray-800 bg-transparent border-0 focus:ring-0 focus:outline-none placeholder-gray-400",required:!0,maxLength:50})]}),!c.account_name?.trim()&&e.jsx("p",{className:"text-rose-500 text-[10px] mt-2",children:"Please provide a valid account name"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-3",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide mb-2 block",children:"Account Type"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:`${m(c.account_type)} text-purple-500 text-sm`})}),e.jsx("select",{name:"account_type",value:c.account_type,onChange:t,className:"flex-1 text-sm text-gray-800 bg-transparent border-0 focus:ring-0 focus:outline-none",children:he.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-3",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide mb-2 block",children:"Current Balance"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-emerald-500 font-semibold text-sm",children:Y()})}),e.jsx("input",{type:"number",name:"balance",value:c.balance===0?"":c.balance,onChange:t,step:"0.01",placeholder:"0.00",className:"flex-1 text-sm text-gray-800 bg-transparent border-0 focus:ring-0 focus:outline-none placeholder-gray-400",required:!0}),e.jsx("button",{type:"button",onClick:()=>{const i={target:{name:"balance",value:((c.balance||0)*-1).toString(),type:"number"}};t(i)},className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 text-xs font-medium",children:"±"})})]}),c.account_type==="credit"&&e.jsxs("p",{className:"text-amber-600 text-[10px] mt-2",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),"Credit balance should be zero or negative"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-3",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide mb-2 block",children:"Currency"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"fas fa-peso-sign text-green-500 text-sm"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Philippine Peso (PHP)"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"₱ - Standard Currency"})]})]}),e.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-[10px] font-medium",children:[e.jsx("i",{className:"fas fa-lock mr-1"}),"Fixed"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-3",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide mb-2 block",children:"Account Color"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:c.color||"#4e73df"},children:e.jsx("i",{className:"fas fa-palette text-white text-sm"})}),e.jsx("input",{type:"color",name:"color",value:c.color||"#4e73df",onChange:t,className:"w-12 h-10 rounded-lg border-0 cursor-pointer"}),e.jsx("input",{type:"text",value:c.color||"#4e73df",onChange:o=>{const g={target:{name:"color",value:o.target.value,type:"text"}};t(g)},className:"flex-1 text-sm text-gray-800 bg-gray-50 rounded-lg px-3 py-2 border-0",placeholder:"#4e73df"})]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-50 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"fas fa-star text-amber-500 text-sm"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Default Account"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Auto-selected for transactions"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"is_default",checked:c.is_default,onChange:t,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-500"})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:r,disabled:a,className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium text-sm md:text-base hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:a||!d(),className:"flex-1 py-3 bg-indigo-500 text-white rounded-xl font-medium text-sm md:text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 hover:bg-indigo-600 transition-colors",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:c.id?"Updating...":"Creating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"}),e.jsx("span",{children:c.id?"Update":"Create"})]})})]})]})]});return e.jsx(u,{})},Pe=({accounts:c,onEdit:n,onDelete:t,onSetAsDefault:r,onDefaultAccountClick:s,onViewHistory:a,isFormVisible:m,isInlineFormVisible:d=!1})=>{const u=i=>{switch(i){case"checking":return"fas fa-university";case"savings":return"fas fa-piggy-bank";case"credit":return"fas fa-credit-card";case"investment":return"fas fa-chart-line";case"cash":return"fas fa-money-bill-wave";case"other":return"fas fa-wallet";default:return"fas fa-bank"}},o=c.filter(i=>i.account_type!=="credit").reduce((i,N)=>i+(N.balance>0?N.balance:0),0),g=Math.abs(c.filter(i=>i.account_type==="credit").reduce((i,N)=>i+(N.balance<0?N.balance:0),0));return c.length===0?e.jsxs("div",{className:"text-center py-8 md:py-12",children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"fas fa-bank text-gray-400 text-2xl md:text-3xl"})}),e.jsx("h3",{className:"text-sm md:text-lg font-semibold text-gray-800 mb-2",children:"No Accounts Found"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500 mb-0 max-w-md mx-auto",children:!m&&!d?"Add your first account to get started.":"Complete the form above to create your first account."})]}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-indigo-100 flex items-center justify-center mb-1.5",children:e.jsx("i",{className:"fas fa-wallet text-indigo-500 text-[10px]"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase",children:"Accounts"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:c.length})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-emerald-100 flex items-center justify-center mb-1.5",children:e.jsx("i",{className:"fas fa-plus-circle text-emerald-500 text-[10px]"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase",children:"Assets"}),e.jsxs("p",{className:"text-sm font-bold text-emerald-600 truncate",children:[Y(),o.toLocaleString("en-PH",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-rose-100 flex items-center justify-center mb-1.5",children:e.jsx("i",{className:"fas fa-credit-card text-rose-500 text-[10px]"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase",children:"Debt"}),e.jsxs("p",{className:"text-sm font-bold text-rose-600 truncate",children:[Y(),g.toLocaleString("en-PH",{minimumFractionDigits:0,maximumFractionDigits:0})]})]})]}),e.jsx("div",{className:"space-y-2",children:c.map((i,N)=>e.jsxs("div",{className:"bg-white rounded-xl p-3 border border-gray-100 shadow-sm animate__animated animate__fadeIn",style:{animationDelay:`${N*.05}s`},children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center relative",style:{backgroundColor:i.color||"#4e73df"},children:[e.jsx("i",{className:`${u(i.account_type)} text-white text-sm`}),i.is_default&&e.jsx("button",{type:"button",className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-amber-400 flex items-center justify-center border-0",onClick:()=>s&&i.id&&s(i.id),disabled:m,children:e.jsx("i",{className:"fas fa-star text-white text-[7px]"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:i.account_name}),e.jsxs("p",{className:"text-[10px] text-gray-500 capitalize",children:[i.account_type==="credit"?"Credit Card":i.account_type,i.institution_name&&` • ${i.institution_name}`]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm font-bold ${i.account_type==="credit"?i.balance<0?"text-rose-600":i.balance===0?"text-emerald-600":"text-amber-600":i.balance>=0?"text-emerald-600":"text-rose-600"}`,children:[i.balance<0?"-":"",Y(),Math.abs(i.balance).toLocaleString("en-PH",{minimumFractionDigits:2})]}),i.account_type==="credit"&&i.balance<0&&e.jsx("p",{className:"text-[9px] text-gray-400",children:"Debt"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-1.5 pt-2 border-t border-gray-100",children:[!i.is_default&&r&&e.jsx("button",{type:"button",onClick:()=>i.id&&r(i.id),disabled:m,className:"w-7 h-7 rounded-full bg-amber-50 text-amber-500 flex items-center justify-center hover:bg-amber-100 transition-colors disabled:opacity-50",title:"Set as Default",children:e.jsx("i",{className:"fas fa-star text-[10px]"})}),a&&e.jsx("button",{type:"button",onClick:()=>i.id&&a(i.id,i.account_name),disabled:m,className:"w-7 h-7 rounded-full bg-cyan-50 text-cyan-500 flex items-center justify-center hover:bg-cyan-100 transition-colors disabled:opacity-50",title:"View History",children:e.jsx("i",{className:"fas fa-history text-[10px]"})}),e.jsx("button",{type:"button",onClick:()=>n(i),disabled:m,className:"w-7 h-7 rounded-full bg-indigo-50 text-indigo-500 flex items-center justify-center hover:bg-indigo-100 transition-colors disabled:opacity-50",title:"Edit",children:e.jsx("i",{className:"fas fa-edit text-[10px]"})}),e.jsx("button",{type:"button",onClick:()=>i.id&&t(i.id),disabled:m,className:"w-7 h-7 rounded-full bg-rose-50 text-rose-500 flex items-center justify-center hover:bg-rose-100 transition-colors disabled:opacity-50",title:"Delete",children:e.jsx("i",{className:"fas fa-trash text-[10px]"})})]})]},i.id))})]})},Ee=({accounts:c,currentDefaultId:n,onSetDefault:t,onClose:r,isUpdating:s})=>{const[a,m]=_.useState(n);c.filter(g=>g.status==="active"),c.find(g=>g.id===n);const d=g=>{switch(g){case"checking":return"fas fa-university";case"savings":return"fas fa-piggy-bank";case"credit":return"fas fa-credit-card";case"investment":return"fas fa-chart-line";case"cash":return"fas fa-money-bill-wave";case"other":return"fas fa-wallet";default:return"fas fa-bank"}},u=async()=>{await t(a!==n?a:n),r()},o=e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center",style:{zIndex:1060},children:e.jsx("div",{className:"bg-white rounded-t-3xl md:rounded-2xl w-full max-w-md md:mx-4 animate__animated animate__slideInUp md:animate__fadeIn animate__faster",style:{zIndex:1065},children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full mx-auto mb-4 md:hidden"}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"fas fa-star text-amber-500 text-2xl"})}),e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 text-center mb-2",children:"Set as Default Account?"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500 text-center mb-4",children:"This account will be automatically selected for new transactions."}),(()=>{const g=c.find(i=>i.id===(a!==n?a:n));return g?e.jsxs("div",{className:"flex items-center justify-center gap-3 p-4 bg-gray-50 rounded-xl mb-4",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl flex items-center justify-center",style:{backgroundColor:g.color||"#4e73df"},children:e.jsx("i",{className:`${d(g.account_type)} text-white text-lg md:text-xl`})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm md:text-base font-semibold text-gray-800",children:g.account_name}),e.jsx("p",{className:"text-[10px] md:text-xs text-gray-500 capitalize",children:g.account_type==="credit"?"Credit Card":g.account_type})]})]}):null})(),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold text-sm hover:bg-gray-200 transition-colors",onClick:r,disabled:s,children:"No, Cancel"}),e.jsx("button",{type:"button",className:"flex-1 py-3 bg-amber-500 text-white rounded-xl font-semibold text-sm disabled:opacity-50 flex items-center justify-center gap-2 hover:bg-amber-600 transition-colors",onClick:u,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Setting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-star text-xs"}),"Yes, Set Default"]})})]})]})})});return K.createPortal(o,document.body)};class Z{static async logAccountCreated(n,t,r,s){try{const{error:a}=await T.from("system_activity_log").insert({user_id:n,activity_type:"account_created",activity_description:`Account "${t.account_name}" created successfully`,ip_address:s||null,user_agent:r||navigator.userAgent,metadata:{created_via:"account_setup_modal",...t},severity:"info",created_at:new Date().toISOString()});return a?(console.error("Error logging account creation:",a),{success:!1,error:a.message}):{success:!0}}catch(a){return console.error("Exception logging account creation:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}static async logAccountUpdated(n,t,r,s,a,m,d){try{const u=this.getChanges(s,a),o=this.formatChangeDescription(u),{error:g}=await T.from("system_activity_log").insert({user_id:n,activity_type:"account_updated",activity_description:`Account "${r}" updated: ${o}`,ip_address:d||null,user_agent:m||navigator.userAgent,metadata:{account_id:t,account_name:r,old_values:s,new_values:a,changes:u,updated_via:"account_settings"},severity:"info",created_at:new Date().toISOString()});return g?(console.error("Error logging account update:",g),{success:!1,error:g.message}):{success:!0}}catch(u){return console.error("Exception logging account update:",u),{success:!1,error:u instanceof Error?u.message:"Unknown error"}}}static async logCashIn(n,t,r,s){try{const{error:a}=await T.from("system_activity_log").insert({user_id:n,activity_type:"account_cash_in",activity_description:`Cash-in of ₱${t.amount.toFixed(2)} to account "${t.account_name}"`,ip_address:s||null,user_agent:r||navigator.userAgent,metadata:{cash_in_via:"account_setup_modal",...t},severity:"info",created_at:new Date().toISOString()});return a?(console.error("Error logging cash-in:",a),{success:!1,error:a.message}):{success:!0}}catch(a){return console.error("Exception logging cash-in:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}static async logAccountDeleted(n,t,r,s){try{const{error:a}=await T.from("system_activity_log").insert({user_id:n,activity_type:"account_deleted",activity_description:`Account "${t.account_name}" deleted with final balance of ₱${t.final_balance.toFixed(2)}`,ip_address:s||null,user_agent:r||navigator.userAgent,metadata:{deleted_via:"account_settings",...t},severity:"warning",created_at:new Date().toISOString()});return a?(console.error("Error logging account deletion:",a),{success:!1,error:a.message}):{success:!0}}catch(a){return console.error("Exception logging account deletion:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}static async logBalanceChange(n,t,r,s,a,m,d,u){try{const o=a-s,g=o>0?"increase":"decrease",{error:i}=await T.from("system_activity_log").insert({user_id:n,activity_type:"account_balance_change",activity_description:`Balance ${g} of ₱${Math.abs(o).toFixed(2)} for account "${r}": ${m}`,ip_address:u||null,user_agent:d||navigator.userAgent,metadata:{account_id:t,account_name:r,old_balance:s,new_balance:a,change_amount:o,change_type:g,reason:m,changed_via:"system_operation"},severity:"info",created_at:new Date().toISOString()});return i?(console.error("Error logging balance change:",i),{success:!1,error:i.message}):{success:!0}}catch(o){return console.error("Exception logging balance change:",o),{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}static async getAccountHistory(n,t,r={}){try{const s=["account_created","account_updated","account_cash_in","account_deleted","account_balance_change","transaction_created","transaction_updated","transaction_deleted","goal_contribution_created","goal_contribution_updated","goal_contribution_deleted"];let a=T.from("system_activity_log").select("*",{count:"exact"}).eq("user_id",n).contains("metadata",{account_id:t});const m=r.activityTypes&&r.activityTypes.length>0?r.activityTypes:s;a=a.in("activity_type",m),r.startDate&&(a=a.gte("created_at",r.startDate)),r.endDate&&(a=a.lte("created_at",r.endDate)),r.limit&&(a=a.limit(r.limit)),r.offset&&(a=a.range(r.offset,r.offset+(r.limit||50)-1)),a=a.order("created_at",{ascending:!1});const{data:d,error:u,count:o}=await a;return u?(console.error("Error fetching account history:",u),{success:!1,error:u.message}):{success:!0,data:d||[],totalCount:o||0}}catch(s){return console.error("Exception fetching account history:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}static async getUserAccountActivities(n,t={}){try{const r=["account_created","account_updated","account_cash_in","account_deleted","account_balance_change"];let s=T.from("system_activity_log").select("*",{count:"exact"}).eq("user_id",n).in("activity_type",r);t.startDate&&(s=s.gte("created_at",t.startDate)),t.endDate&&(s=s.lte("created_at",t.endDate)),t.limit&&(s=s.limit(t.limit)),t.offset&&(s=s.range(t.offset,t.offset+(t.limit||50)-1)),s=s.order("created_at",{ascending:!1});const{data:a,error:m,count:d}=await s;return m?(console.error("Error fetching user account activities:",m),{success:!1,error:m.message}):{success:!0,data:a||[],totalCount:d||0}}catch(r){return console.error("Exception fetching user account activities:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}static async exportAccountHistory(n,t,r={}){try{const s=await this.getAccountHistory(n,t,{...r,limit:1e4});if(!s.success||!s.data)return{success:!1,error:s.error||"Failed to fetch history data"};const a=["Date","Activity Type","Description","Account Name","Amount","Source/Reason","IP Address","User Agent"],m=s.data.map(u=>[new Date(u.created_at).toLocaleString("en-PH"),u.activity_type,u.activity_description,u.metadata?.account_name||"",u.metadata?.amount?`₱${u.metadata.amount.toFixed(2)}`:"",u.metadata?.source||u.metadata?.reason||"",u.ip_address||"",u.user_agent||""]);return{success:!0,data:[a.join(","),...m.map(u=>u.map(o=>typeof o=="string"&&o.includes(",")?`"${o.replace(/"/g,'""')}"`:o).join(","))].join(`
`)}}catch(s){return console.error("Exception exporting account history:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}static getChanges(n,t){const r={},s=Object.keys(n||{}),a=Object.keys(t||{}),m=[...s,...a].filter((d,u,o)=>o.indexOf(d)===u);for(let d=0;d<m.length;d++){const u=m[d];n[u]!==t[u]&&(r[u]={old:n[u],new:t[u]})}return r}static formatChangeDescription(n){return Object.entries(n).map(([r,s])=>`${r.replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase())}: "${s.old}" → "${s.new}"`).join(", ")}static async createAccountWithAudit(n){try{const{data:t,error:r}=await T.rpc("create_account_with_audit",{p_account_name:n.account_name,p_account_type:n.account_type,p_initial_balance:n.balance,p_currency:n.currency||"PHP",p_is_default:n.is_default||!1,p_color:n.color||"#4e73df",p_description:n.description||null,p_institution_name:n.institution_name||null,p_account_number_masked:n.account_number_masked||null});if(r)return console.error("Error creating account with audit:",r),{success:!1,error:r.message};if(t&&t.length>0){const s=t[0];return s.success?{success:!0,account_id:s.account_id}:{success:!1,error:s.message}}return{success:!1,error:"Unexpected response format"}}catch(t){return console.error("Exception creating account with audit:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}static async createCashInWithAudit(n,t,r,s){try{const{data:a,error:m}=await T.rpc("create_cash_in_transaction",{p_account_id:n,p_amount:t,p_description:r,p_date:s||new Date().toISOString().split("T")[0]});if(m)return console.error("Error creating cash-in transaction:",m),{success:!1,error:m.message};if(a&&a.length>0){const d=a[0];return d.success?{success:!0,transaction_id:d.transaction_id}:{success:!1,error:d.message}}return{success:!1,error:"Unexpected response format"}}catch(a){return console.error("Exception creating cash-in transaction:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}static async getAccountAuditHistory(n,t=50,r=0){try{const{data:s,error:a}=await T.rpc("get_account_audit_history",{p_account_id:n,p_limit:t,p_offset:r});return a?(console.error("Error fetching account audit history:",a),{success:!1,error:a.message}):{success:!0,data:s||[]}}catch(s){return console.error("Exception fetching account audit history:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}static async getAccountTransactionHistory(n,t=50,r=0){try{const{data:s,error:a}=await T.rpc("get_account_transaction_history",{p_account_id:n,p_limit:t,p_offset:r});return a?(console.error("Error fetching account transaction history:",a),{success:!1,error:a.message}):{success:!0,data:s||[]}}catch(s){return console.error("Exception fetching account transaction history:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}static async validateAccountData(n,t,r=0){try{const{data:s,error:a}=await T.rpc("validate_account_setup_data",{p_account_name:n,p_account_type:t,p_initial_balance:r});if(a)return console.error("Error validating account data:",a),{success:!1,error:a.message};if(s&&s.length>0){const m=s[0];return{success:!0,isValid:m.is_valid,errors:m.errors}}return{success:!1,error:"Unexpected response format"}}catch(s){return console.error("Exception validating account data:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}static async getUserAccountsForSetup(){try{const{data:n,error:t}=await T.rpc("get_user_accounts_for_setup");return t?(console.error("Error fetching user accounts:",t),{success:!1,error:t.message}):{success:!0,data:n||[]}}catch(n){return console.error("Exception fetching user accounts:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}}const Ie=({accountId:c,accountName:n,isOpen:t,onClose:r})=>{const{user:s}=z(),{showErrorToast:a,showSuccessToast:m}=ce(),[d,u]=_.useState([]),[o,g]=_.useState(!1),[i,N]=_.useState(0),[h,I]=_.useState(!1),[v,b]=_.useState(!1),[x,S]=_.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],activityTypes:[],pageSize:20,currentPage:1}),F=[{value:"account_created",label:"Account Created",shortLabel:"Created",icon:"fas fa-plus-circle",color:"text-success",mobileColor:"text-emerald-500",mobileBg:"bg-emerald-50"},{value:"account_updated",label:"Account Updated",shortLabel:"Updated",icon:"fas fa-edit",color:"text-info",mobileColor:"text-blue-500",mobileBg:"bg-blue-50"},{value:"account_cash_in",label:"Cash In",shortLabel:"Cash In",icon:"fas fa-money-bill-wave",color:"text-primary",mobileColor:"text-indigo-500",mobileBg:"bg-indigo-50"},{value:"account_balance_change",label:"Balance Change",shortLabel:"Balance",icon:"fas fa-exchange-alt",color:"text-warning",mobileColor:"text-amber-500",mobileBg:"bg-amber-50"},{value:"account_deleted",label:"Account Deleted",shortLabel:"Deleted",icon:"fas fa-trash",color:"text-danger",mobileColor:"text-rose-500",mobileBg:"bg-rose-50"},{value:"transaction_created",label:"Transaction Created",shortLabel:"Trans+",icon:"fas fa-receipt",color:"text-success",mobileColor:"text-emerald-500",mobileBg:"bg-emerald-50"},{value:"transaction_updated",label:"Transaction Updated",shortLabel:"Trans~",icon:"fas fa-edit",color:"text-info",mobileColor:"text-blue-500",mobileBg:"bg-blue-50"},{value:"transaction_deleted",label:"Transaction Deleted",shortLabel:"Trans-",icon:"fas fa-times-circle",color:"text-danger",mobileColor:"text-rose-500",mobileBg:"bg-rose-50"},{value:"goal_contribution_created",label:"Goal Contribution",shortLabel:"Goal+",icon:"fas fa-bullseye",color:"text-primary",mobileColor:"text-indigo-500",mobileBg:"bg-indigo-50"},{value:"goal_contribution_updated",label:"Contribution Updated",shortLabel:"Goal~",icon:"fas fa-edit",color:"text-info",mobileColor:"text-blue-500",mobileBg:"bg-blue-50"},{value:"goal_contribution_deleted",label:"Contribution Deleted",shortLabel:"Goal-",icon:"fas fa-times-circle",color:"text-danger",mobileColor:"text-rose-500",mobileBg:"bg-rose-50"}],y=async()=>{if(!(!s||!c)){g(!0);try{const l=await Z.getAccountHistory(s.id,c,{startDate:x.startDate+"T00:00:00Z",endDate:x.endDate+"T23:59:59Z",activityTypes:x.activityTypes.length>0?x.activityTypes:void 0,limit:x.pageSize,offset:(x.currentPage-1)*x.pageSize});l.success&&l.data?(u(l.data),N(l.totalCount||0)):(a(l.error||"Failed to fetch account history"),u([]),N(0))}catch(l){console.error("Error fetching account history:",l),a("An error occurred while fetching history"),u([]),N(0)}finally{g(!1)}}};_.useEffect(()=>{t&&s&&c&&y()},[t,s,c,x]);const w=(l,D)=>{S(P=>({...P,[l]:D,currentPage:l!=="currentPage"?1:D}))},W=l=>{S(D=>({...D,activityTypes:D.activityTypes.includes(l)?D.activityTypes.filter(P=>P!==l):[...D.activityTypes,l],currentPage:1}))},L=async()=>{if(!(!s||!c)){I(!0);try{const l=await Z.exportAccountHistory(s.id,c,{startDate:x.startDate+"T00:00:00Z",endDate:x.endDate+"T23:59:59Z",activityTypes:x.activityTypes.length>0?x.activityTypes:void 0});if(l.success&&l.data){const D=new Blob([l.data],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a"),V=URL.createObjectURL(D);P.setAttribute("href",V),P.setAttribute("download",`${n}_history_${new Date().toISOString().split("T")[0]}.csv`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P),m("Account history exported successfully")}else a(l.error||"Failed to export account history")}catch(l){console.error("Error exporting account history:",l),a("An error occurred while exporting history")}finally{I(!1)}}},U=l=>F.find(D=>D.value===l)||{value:l,label:l,shortLabel:l,icon:"fas fa-circle",color:"text-secondary",mobileColor:"text-gray-500",mobileBg:"bg-gray-50"},$=l=>new Date(l).toLocaleString("en-PH",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=l=>l==null?"":`₱${l.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,O=Math.ceil(i/x.pageSize),p=(x.currentPage-1)*x.pageSize+1,j=Math.min(x.currentPage*x.pageSize,i);if(!t)return null;const H=e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex flex-col md:items-center md:justify-center",style:{zIndex:1060},children:e.jsxs("div",{className:"bg-white flex-1 md:flex-initial md:rounded-2xl md:max-w-4xl md:w-full md:mx-4 md:max-h-[90vh] flex flex-col animate__animated animate__slideInUp md:animate__fadeIn animate__faster",style:{zIndex:1065},children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 px-4 py-3 md:px-6 md:py-4 md:rounded-t-2xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"fas fa-history text-white text-sm"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold text-sm",children:"Account History"}),e.jsx("p",{className:"text-indigo-100 text-[10px] truncate max-w-[180px]",children:n})]})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"fas fa-times text-white text-xs"})})]}),e.jsx("div",{className:"px-4 py-2 border-b border-gray-100 bg-gray-50",children:e.jsxs("button",{onClick:()=>b(!v),className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-filter text-indigo-500 text-xs"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Filters"}),x.activityTypes.length>0&&e.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded-full text-[9px] font-semibold",children:x.activityTypes.length})]}),e.jsx("i",{className:`fas fa-chevron-${v?"up":"down"} text-gray-400 text-[10px]`})]})}),v&&e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-white animate__animated animate__fadeIn animate__faster",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-wide mb-1 block",children:"From"}),e.jsx("input",{type:"date",value:x.startDate,onChange:l=>w("startDate",l.target.value),className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-xs text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-wide mb-1 block",children:"To"}),e.jsx("input",{type:"date",value:x.endDate,onChange:l=>w("endDate",l.target.value),className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-xs text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:"Activity Types"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:F.slice(0,6).map(l=>e.jsxs("button",{onClick:()=>W(l.value),className:`px-2 py-1 rounded-full text-[9px] font-medium transition-colors flex items-center gap-1 ${x.activityTypes.includes(l.value)?"bg-indigo-500 text-white":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[e.jsx("i",{className:`${l.icon} text-[8px]`}),l.shortLabel]},l.value))})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsx("button",{onClick:L,disabled:h||o,className:"w-full py-2 bg-emerald-500 text-white rounded-xl text-xs font-semibold disabled:opacity-50 flex items-center justify-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Exporting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-download text-[10px]"}),"Export CSV"]})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:o?e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 font-medium",children:"Loading history..."})]})}):d.length===0?e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"fas fa-history text-gray-400 text-2xl"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"No Activity Found"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Try adjusting your filters or date range"})]}):e.jsx("div",{className:"p-4 space-y-2",children:d.map((l,D)=>{const P=U(l.activity_type);return e.jsx("div",{className:"bg-white rounded-xl p-3 border border-gray-100 shadow-sm animate__animated animate__fadeIn",style:{animationDelay:`${D*.03}s`},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-9 h-9 rounded-xl ${P.mobileBg} flex items-center justify-center flex-shrink-0`,children:e.jsx("i",{className:`${P.icon} ${P.mobileColor} text-sm`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-800",children:P.shortLabel||P.label}),e.jsx("span",{className:"text-[9px] text-gray-400",children:$(l.created_at)})]}),e.jsx("p",{className:"text-[10px] text-gray-600 line-clamp-2 mb-1",children:l.activity_description}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.metadata.amount&&e.jsx("span",{className:"text-[9px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded",children:B(l.metadata.amount)}),l.metadata.category_name&&e.jsx("span",{className:"text-[9px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded truncate max-w-[100px]",children:l.metadata.category_name}),l.metadata.goal_name&&e.jsx("span",{className:"text-[9px] bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded truncate max-w-[100px]",children:l.metadata.goal_name})]})]})]})},l.id)})})}),O>1&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-100 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-[10px] text-gray-500",children:[p,"-",j," of ",i]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>w("currentPage",x.currentPage-1),disabled:x.currentPage===1,className:"w-8 h-8 rounded-full bg-gray-100 text-gray-600 flex items-center justify-center disabled:opacity-50",children:e.jsx("i",{className:"fas fa-chevron-left text-[10px]"})}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[x.currentPage,"/",O]}),e.jsx("button",{onClick:()=>w("currentPage",x.currentPage+1),disabled:x.currentPage===O,className:"w-8 h-8 rounded-full bg-gray-100 text-gray-600 flex items-center justify-center disabled:opacity-50",children:e.jsx("i",{className:"fas fa-chevron-right text-[10px]"})})]})]})})]})});return K.createPortal(H,document.body)};class M{static validateAccountData(n){const t={};return n.account_name?.trim()?n.account_name.trim().length<2?t.account_name="Account name must be at least 2 characters long":n.account_name.trim().length>50?t.account_name="Account name cannot exceed 50 characters":/^[a-zA-Z0-9\s\-_'.()]+$/.test(n.account_name.trim())||(t.account_name="Account name contains invalid characters"):t.account_name="Account name is required",n.account_type||(t.account_type="Please select an account type"),n.initial_balance===null||n.initial_balance===void 0?t.initial_balance="Initial balance is required":isNaN(n.initial_balance)?t.initial_balance="Please enter a valid amount":(n.account_type==="credit"&&n.initial_balance>0&&(t.initial_balance="Credit card balance should be zero or negative (representing debt)"),n.initial_balance<-99999999999e-2?t.initial_balance="Balance cannot be less than -₱999,999,999.99":n.initial_balance>99999999999e-2&&(t.initial_balance="Balance cannot exceed ₱999,999,999.99")),n.institution_name&&n.institution_name.length>100&&(t.institution_name="Institution name cannot exceed 100 characters"),n.description&&n.description.length>500&&(t.description="Description cannot exceed 500 characters"),t}static validateCashInData(n){const t={};if(n.amount===null||n.amount===void 0?t.cash_in_amount="Cash-in amount is required":isNaN(n.amount)?t.cash_in_amount="Please enter a valid amount":n.amount<=0?t.cash_in_amount="Cash-in amount must be greater than zero":n.amount<.01?t.cash_in_amount="Minimum cash-in amount is ₱0.01":n.amount>99999999999e-2&&(t.cash_in_amount="Cash-in amount cannot exceed ₱999,999,999.99"),n.description?.trim()?n.description.trim().length<3?t.cash_in_description="Description must be at least 3 characters long":n.description.trim().length>200&&(t.cash_in_description="Description cannot exceed 200 characters"):t.cash_in_description="Description is required for cash-in transactions",!n.date)t.cash_in_date="Date is required";else{const r=new Date(n.date),s=new Date,a=new Date;a.setDate(s.getDate()+7),r>a&&(t.cash_in_date="Date cannot be more than 7 days in the future");const m=new Date;m.setFullYear(s.getFullYear()-10),r<m&&(t.cash_in_date="Date cannot be more than 10 years in the past")}return n.source&&n.source.length>100&&(t.cash_in_source="Source cannot exceed 100 characters"),t}static hasValidationErrors(n){return Object.keys(n).some(t=>n[t]!==void 0&&n[t]!=="")}static sanitizeAccountName(n){return n.trim().replace(/[<>\"'&]/g,"").replace(/\s+/g," ").substring(0,50)}static roundToCentavo(n){return Math.round(n*100)/100}}const Te=({isVisible:c,onClose:n,onAccountCreated:t,existingAccounts:r})=>{const{user:s}=z(),{showSuccessToast:a,showErrorToast:m}=ce(),[d,u]=_.useState("account_details"),[o,g]=_.useState(!1),[i,N]=_.useState({account_name:"",account_type:"checking",initial_balance:0,description:"",institution_name:"",color:"#4e73df",is_default:r.length===0}),[h,I]=_.useState({amount:0,description:"",date:new Date().toISOString().split("T")[0],source:""}),[v,b]=_.useState({}),[x,S]=_.useState(!1),F=_.useMemo(()=>{const p=M.validateAccountData(i);return!M.hasValidationErrors(p)},[i]),y=_.useMemo(()=>{if(!x||h.amount<=0)return!0;const p=M.validateCashInData(h);return!M.hasValidationErrors(p)},[h,x]),w=[{value:"checking",label:"Checking Account",icon:"fas fa-university",description:"For daily transactions and bill payments"},{value:"savings",label:"Savings Account",icon:"fas fa-piggy-bank",description:"For saving money and earning interest"},{value:"credit",label:"Credit Card",icon:"fas fa-credit-card",description:"For credit purchases and building credit history"},{value:"investment",label:"Investment Account",icon:"fas fa-chart-line",description:"For stocks, bonds, and other investments"},{value:"cash",label:"Cash",icon:"fas fa-money-bill-wave",description:"For cash on hand and petty expenses"},{value:"other",label:"Other",icon:"fas fa-wallet",description:"For specialized accounts not covered by other types"}],W=["#4e73df","#1cc88a","#36b9cc","#f6c23e","#e74a3b","#858796","#5a5c69","#6f42c1","#e83e8c","#fd7e14","#20c997","#6610f2"],L=async()=>{if(!s){m("You must be logged in to create accounts");return}g(!0);try{const p=M.validateAccountData(i);if(M.hasValidationErrors(p)){b(p),m("Please fix validation errors before submitting");return}if(x&&h.amount>0){const D=M.validateCashInData(h);if(M.hasValidationErrors(D)){b(D),m("Please fix cash-in validation errors before submitting");return}}const j={user_id:s.id,account_name:M.sanitizeAccountName(i.account_name),account_type:i.account_type,balance:M.roundToCentavo(i.initial_balance),initial_balance:M.roundToCentavo(i.initial_balance),description:i.description?.trim()||void 0,institution_name:i.institution_name?.trim()||void 0,color:i.color||"#4e73df",is_default:i.is_default,currency:"PHP",status:"active",created_at:new Date().toISOString()},H=await R.createAccount(j);if(!H.success)throw new Error(`Failed to create account: ${H.error}`);const l=H.data;if(!l?.id)throw new Error("Account created but ID not returned");if(await Z.logAccountCreated(s.id,{account_id:l.id,account_name:j.account_name,account_type:j.account_type,initial_balance:j.balance,source:"inline_account_form"},navigator.userAgent),x&&h.amount>0){const D={user_id:s.id,account_id:l.id,type:"cash_in",amount:M.roundToCentavo(h.amount),date:h.date,description:M.sanitizeAccountName(h.description.trim()),source:h.source?.trim()||null,created_at:new Date().toISOString()},P=await ye.createTransaction(D);P.success?await Z.logCashIn(s.id,{account_id:l.id,account_name:j.account_name,amount:h.amount,description:h.description.trim(),source:"inline_account_form",transaction_id:P.data?.id},navigator.userAgent):console.error("Failed to create cash-in transaction:",P.error)}a("Account created successfully!"),t(l),n()}catch(p){console.error("Error creating account:",p),m(p instanceof Error?p.message:"An unexpected error occurred")}finally{g(!1)}},U=()=>{d==="account_details"&&F?u("cash_in"):d==="cash_in"&&y&&u("review")},$=()=>{d==="cash_in"?u("account_details"):d==="review"&&u("cash_in")},B=()=>{u("account_details"),N({account_name:"",account_type:"checking",initial_balance:0,description:"",institution_name:"",color:"#4e73df",is_default:r.length===0}),I({amount:0,description:"",date:new Date().toISOString().split("T")[0],source:""}),b({}),S(!1),n()};if(!c)return null;const O=()=>e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsxs("div",{className:`flex items-center gap-1 ${d==="account_details"?"text-indigo-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold ${d==="account_details"?"bg-indigo-500 text-white":"bg-emerald-500 text-white"}`,children:d==="account_details"?"1":e.jsx("i",{className:"fas fa-check text-[8px]"})}),e.jsx("span",{className:"text-[10px] font-medium hidden xs:inline",children:"Details"})]}),e.jsx("div",{className:`w-6 h-0.5 ${d!=="account_details"?"bg-emerald-500":"bg-gray-200"}`}),e.jsxs("div",{className:`flex items-center gap-1 ${d==="cash_in"?"text-indigo-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold ${d==="cash_in"?"bg-indigo-500 text-white":d==="review"?"bg-emerald-500 text-white":"bg-gray-200 text-gray-500"}`,children:d==="review"?e.jsx("i",{className:"fas fa-check text-[8px]"}):"2"}),e.jsx("span",{className:"text-[10px] font-medium hidden xs:inline",children:"Cash In"})]}),e.jsx("div",{className:`w-6 h-0.5 ${d==="review"?"bg-emerald-500":"bg-gray-200"}`}),e.jsxs("div",{className:`flex items-center gap-1 ${d==="review"?"text-indigo-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold ${d==="review"?"bg-indigo-500 text-white":"bg-gray-200 text-gray-500"}`,children:"3"}),e.jsx("span",{className:"text-[10px] font-medium hidden xs:inline",children:"Review"})]})]});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"mb-4 animate__animated animate__fadeIn",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fas fa-plus-circle text-white text-sm"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold text-sm",children:"New Account"}),e.jsxs("p",{className:"text-indigo-100 text-[10px]",children:["Step ",d==="account_details"?"1":d==="cash_in"?"2":"3"," of 3"]})]})]}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",onClick:B,children:e.jsx("i",{className:"fas fa-times text-white text-xs"})})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx(O,{}),d==="account_details"&&e.jsxs("div",{className:"animate__animated animate__fadeIn",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:["Account Name ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx("i",{className:"fas fa-tag text-gray-400 text-xs"})}),e.jsx("input",{type:"text",className:`w-full pl-9 pr-3 py-2.5 bg-gray-50 border rounded-xl text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all ${v.account_name?"border-rose-300":"border-gray-200"}`,value:i.account_name,onChange:p=>N(j=>({...j,account_name:p.target.value})),placeholder:"e.g., Main Checking"})]}),v.account_name&&e.jsx("p",{className:"text-rose-500 text-[10px] mt-1",children:v.account_name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:["Account Type ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:w.map(p=>e.jsxs("button",{type:"button",onClick:()=>N(j=>({...j,account_type:p.value,initial_balance:p.value==="credit"?0:j.initial_balance})),className:`p-2 rounded-xl border text-center transition-all ${i.account_type===p.value?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-gray-200 bg-white text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("i",{className:`${p.icon} text-sm mb-1 block`}),e.jsx("span",{className:"text-[9px] font-medium",children:p.label.split(" ")[0]})]},p.value))})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:["Initial Balance ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"₱"})}),e.jsx("input",{type:"number",step:"0.01",className:`w-full pl-8 pr-3 py-2.5 bg-gray-50 border rounded-xl text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all ${v.initial_balance?"border-rose-300":"border-gray-200"}`,value:i.initial_balance||"",onChange:p=>N(j=>({...j,initial_balance:parseFloat(p.target.value)||0})),placeholder:"0.00"})]}),v.initial_balance&&e.jsx("p",{className:"text-rose-500 text-[10px] mt-1",children:v.initial_balance}),i.account_type==="credit"&&e.jsxs("p",{className:"text-amber-600 text-[10px] mt-1",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),"Enter 0 or negative for credit debt"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:"Bank/Institution"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx("i",{className:"fas fa-building text-gray-400 text-xs"})}),e.jsx("input",{type:"text",className:"w-full pl-9 pr-3 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:i.institution_name,onChange:p=>N(j=>({...j,institution_name:p.target.value})),placeholder:"e.g., BPI, BDO"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:"Account Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:W.map(p=>e.jsx("button",{type:"button",onClick:()=>N(j=>({...j,color:p})),className:`w-8 h-8 rounded-full transition-all ${i.color===p?"ring-2 ring-offset-2 ring-indigo-500 scale-110":""}`,style:{backgroundColor:p}},p))})]}),r.length>0&&e.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-star text-amber-500 text-sm"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Set as default"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.is_default,onChange:p=>N(j=>({...j,is_default:p.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-500"})]})]})}),e.jsxs("button",{type:"button",className:"w-full py-3 bg-indigo-500 text-white rounded-xl font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",onClick:U,disabled:!F,children:["Next: Cash In",e.jsx("i",{className:"fas fa-arrow-right text-xs"})]})]}),d==="cash_in"&&e.jsxs("div",{className:"animate__animated animate__fadeIn",children:[e.jsx("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-money-bill-wave text-emerald-500 text-sm"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-emerald-700",children:"Add initial money"}),e.jsx("p",{className:"text-[9px] text-emerald-600",children:"Optional - can add later"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:p=>S(p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-emerald-500"})]})]})}),x&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:["Amount ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx("span",{className:"text-emerald-500 text-sm font-medium",children:"₱"})}),e.jsx("input",{type:"number",step:"0.01",className:`w-full pl-8 pr-3 py-2.5 bg-gray-50 border rounded-xl text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all ${v.cash_in_amount?"border-rose-300":"border-gray-200"}`,value:h.amount||"",onChange:p=>I(j=>({...j,amount:parseFloat(p.target.value)||0})),placeholder:"0.00"})]}),v.cash_in_amount&&e.jsx("p",{className:"text-rose-500 text-[10px] mt-1",children:v.cash_in_amount})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:["Date ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"date",className:`w-full px-3 py-2.5 bg-gray-50 border rounded-xl text-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all ${v.cash_in_date?"border-rose-300":"border-gray-200"}`,value:h.date,onChange:p=>I(j=>({...j,date:p.target.value}))}),v.cash_in_date&&e.jsx("p",{className:"text-rose-500 text-[10px] mt-1",children:v.cash_in_date})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:["Description ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2.5 bg-gray-50 border rounded-xl text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all ${v.cash_in_description?"border-rose-300":"border-gray-200"}`,value:h.description,onChange:p=>I(j=>({...j,description:p.target.value})),placeholder:"e.g., Initial deposit"}),v.cash_in_description&&e.jsx("p",{className:"text-rose-500 text-[10px] mt-1",children:v.cash_in_description})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mb-1.5 block",children:"Source"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",value:h.source,onChange:p=>I(j=>({...j,source:p.target.value})),placeholder:"e.g., Salary, Transfer"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold text-sm",onClick:$,children:[e.jsx("i",{className:"fas fa-arrow-left text-xs mr-1"}),"Back"]}),e.jsxs("button",{type:"button",className:"flex-1 py-3 bg-indigo-500 text-white rounded-xl font-semibold text-sm disabled:opacity-50 flex items-center justify-center gap-2",onClick:U,disabled:!y,children:["Review",e.jsx("i",{className:"fas fa-arrow-right text-xs"})]})]})]}),d==="review"&&e.jsxs("div",{className:"animate__animated animate__fadeIn",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl p-4 mb-4 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:i.color||"#4e73df"},children:e.jsx("i",{className:`${w.find(p=>p.value===i.account_type)?.icon} text-white text-lg`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-base",children:i.account_name||"New Account"}),e.jsx("p",{className:"text-indigo-200 text-xs",children:w.find(p=>p.value===i.account_type)?.label})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2",children:[e.jsx("p",{className:"text-indigo-200 text-[9px] uppercase",children:"Initial Balance"}),e.jsxs("p",{className:"font-bold text-sm",children:["₱",i.initial_balance.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),i.institution_name&&e.jsxs("div",{className:"bg-white/10 rounded-lg p-2",children:[e.jsx("p",{className:"text-indigo-200 text-[9px] uppercase",children:"Institution"}),e.jsx("p",{className:"font-bold text-sm truncate",children:i.institution_name})]})]}),i.is_default&&e.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-star text-amber-400 text-xs"}),e.jsx("span",{className:"text-xs text-indigo-200",children:"Default Account"})]})]}),x&&h.amount>0&&e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("i",{className:"fas fa-money-bill-wave text-emerald-500 text-sm"}),e.jsx("span",{className:"text-xs font-bold text-emerald-700",children:"Initial Cash In"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-[9px] uppercase",children:"Amount"}),e.jsxs("p",{className:"font-bold text-sm text-emerald-600",children:["₱",h.amount.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-[9px] uppercase",children:"Date"}),e.jsx("p",{className:"font-bold text-sm text-gray-800",children:new Date(h.date).toLocaleDateString("en-PH")})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-3 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"fas fa-info-circle text-blue-500 text-xs mt-0.5"}),e.jsx("p",{className:"text-[10px] text-blue-700",children:x&&h.amount>0?"Account will be created with initial cash-in transaction.":"You can add money to this account later."})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold text-sm",onClick:$,disabled:o,children:[e.jsx("i",{className:"fas fa-arrow-left text-xs mr-1"}),"Back"]}),e.jsx("button",{type:"button",className:"flex-1 py-3 bg-emerald-500 text-white rounded-xl font-semibold text-sm disabled:opacity-50 flex items-center justify-center gap-2",onClick:L,disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check text-xs"}),"Create Account"]})})]})]})]})]})})})},re=({profile:c,setProfile:n,setSuccessMessage:t,setErrorMessage:r})=>{const{user:s}=z(),[a,m]=_.useState(null),[d,u]=_.useState(!1),[o,g]=_.useState(""),[i,N]=_.useState(!1),[h,I]=_.useState(!0),[v,b]=_.useState(null),[x,S]=_.useState(!1),[F,y]=_.useState(!1),[w,W]=_.useState(""),[L,U]=_.useState(!1),[$,B]=_.useState(""),[O,p]=_.useState(""),[j,H]=_.useState(!1),[l,D]=_.useState(c.accounts||[]);_.useEffect(()=>{s?.id&&P()},[s?.id]),_.useEffect(()=>{D(c.accounts||[])},[c.accounts]);const P=async()=>{try{if(I(!0),!s?.id){r("User authentication required"),I(!1);return}const A=await R.fetchUserAccounts(s.id);if(A.success){const f=A.data||[];D(f),n(k=>({...k,accounts:f})),f.length>0&&await R.ensureDefaultAccount(s.id)}else r(A.error||"Failed to fetch accounts")}catch(A){console.error("Error fetching accounts:",A),r("Failed to load accounts. Please try again.")}finally{I(!1)}},V=()=>{H(!0)},oe=A=>{m({...A}),u(!0),g("")},le=async A=>{try{if(N(!0),!s?.id){r("You must be logged in to delete accounts");return}const f=await R.deleteAccount(A,s.id);if(f.success){const k=l.filter(C=>C.id!==A);if(f.newDefaultAccountId){const C=k.findIndex(E=>E.id===f.newDefaultAccountId);C!==-1&&(k[C]={...k[C],is_default:!0})}D(k),n(C=>({...C,accounts:k})),u(!1),b(null),t("Account deleted successfully!"),setTimeout(()=>t(""),5e3)}else r(f.error||"Failed to delete account")}catch(f){console.error("Error deleting account:",f),r(`Failed to delete account: ${f instanceof Error?f.message:"Unknown error"}`)}finally{N(!1)}},de=async A=>{try{if(S(!0),!s?.id){r("You must be logged in to change default account");return}const f=await R.setDefaultAccount(A,s.id);if(f.success&&f.data){const k=l.map(C=>({...C,is_default:C.id===A}));D(k),n(C=>({...C,accounts:k})),t("Default account updated successfully!"),setTimeout(()=>t(""),5e3)}else r(f.error||"Failed to update default account")}catch(f){console.error("Error updating default account:",f),r(`Failed to update default account: ${f instanceof Error?f.message:"Unknown error"}`)}finally{S(!1)}},ue=A=>{W(A),y(!0)},me=A=>{W(A),y(!0)},Q=A=>{const{name:f,value:k,type:C}=A.target;if(console.log("📝 AccountsSettings: Form field changed",{fieldName:f,fieldValue:k,fieldType:C,accountId:a?.id}),!a)return;let E=k;if(f==="balance"){if(k===""||k===null||k===void 0)E=0;else{const G=parseFloat(k);E=isNaN(G)?0:G}console.log("💰 AccountsSettings: Balance field processing",{originalValue:k,parsedValue:E,isValid:!isNaN(E),isNewAccount:!a?.id,isExistingAccount:!!a?.id})}else if(C==="number")if(k===""||k===null||k===void 0)E=0;else{const G=parseFloat(k);E=isNaN(G)?0:G}else C==="checkbox"&&(E=A.target.checked);m(G=>({...G,[f]:E})),console.log("🔄 AccountsSettings: Updated editing account",{fieldName:f,newValue:E,fullAccount:{...a,[f]:E}})},X=async A=>{if(A.preventDefault(),!(!a||!s?.id)){console.log("💾 AccountsSettings: Form submission started",{isUpdate:!!a.id,accountId:a.id,accountData:a,userId:s.id}),N(!0);try{let f;if(a.id&&a.id.trim()!=="")console.log("🔄 AccountsSettings: Updating existing account",{accountId:a.id,updateData:a}),f=await R.updateAccount(a.id,a,s.id);else{const{id:k,...C}=a;console.log("➕ AccountsSettings: Creating new account",{accountData:C}),f=await R.createAccount({...C,user_id:s.id})}if(console.log("📊 AccountsSettings: Service result",{success:f.success,hasData:!!f.data,error:f.error,resultData:f.data}),f.success&&f.data){const k=f.data;let C;a.id?(C=l.map(E=>E.id===a.id?k:E),k.is_default&&(C=C.map(E=>E.id===k.id?E:{...E,is_default:!1}))):(C=[...l],k.is_default&&(C=C.map(E=>({...E,is_default:!1}))),C.push(k)),D(C),n(E=>({...E,accounts:C})),u(!1),m(null),g(""),t(`Account ${a.id?"updated":"added"} successfully!`),setTimeout(()=>t(""),5e3)}else g(f.error||"Failed to save account")}catch(f){console.error("Error saving account:",f),g(`Failed to save account: ${f instanceof Error?f.message:"Unknown error"}`)}finally{N(!1)}}},ee=()=>{u(!1),m(null),g(""),b(null)},xe=(A,f)=>{B(A),p(f),U(!0)},ge=()=>{U(!1),B(""),p("")},pe=A=>{console.log("Account created via inline form:",A),H(!1),P()},fe=()=>{H(!1)};return h?e.jsxs("div",{className:"animate__animated animate__fadeIn animate__faster",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:e.jsxs("h2",{className:"text-sm md:text-lg font-bold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-wallet text-blue-500 text-xs md:text-sm"})}),"Financial Accounts"]})}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("p",{className:"mt-3 text-xs md:text-sm text-gray-500 font-medium",children:"Loading accounts..."})]})})]}):l.length===0?e.jsxs("div",{className:"settings-section animate__animated animate__fadeIn animate__faster",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-sm md:text-lg font-bold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-wallet text-blue-500 text-xs md:text-sm"})}),"Financial Accounts"]})})}),d&&a&&e.jsx("div",{className:"p-4",children:e.jsx(ie,{editingAccount:a,onSubmit:X,onChange:Q,onCancel:ee,error:o,isSaving:i})}),!d&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"text-center py-8 md:py-12",children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"fas fa-bank text-gray-400 text-2xl md:text-3xl"})}),e.jsx("h3",{className:"text-sm md:text-lg font-semibold text-gray-800 mb-2",children:"No Accounts Found"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500 mb-4 max-w-md mx-auto",children:"Add your first account to start tracking your finances."}),e.jsxs("button",{type:"button",className:"px-4 py-2 md:px-6 md:py-3 bg-indigo-500 text-white text-sm md:text-base font-medium rounded-xl hover:bg-indigo-600 transition-colors shadow-md",onClick:V,children:[e.jsx("i",{className:"fas fa-plus mr-2 text-xs"}),"Add Your First Account"]}),e.jsxs("p",{className:"text-[9px] md:text-xs text-gray-400 mt-4",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),"You can add checking, savings, credit cards, and more"]})]})})]}):e.jsxs("div",{className:"settings-section animate__animated animate__fadeIn animate__faster",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-sm md:text-lg font-bold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-wallet text-blue-500 text-xs md:text-sm"})}),"Financial Accounts",e.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded-full text-[9px] md:text-xs font-semibold",children:l.length})]}),e.jsxs("button",{type:"button",className:"w-8 h-8 md:w-auto md:h-auto md:px-4 md:py-2 rounded-full md:rounded-lg bg-indigo-500 text-white flex items-center justify-center gap-2 shadow-md hover:bg-indigo-600 transition-all active:scale-95 disabled:opacity-50",onClick:V,disabled:d||j,children:[e.jsx("i",{className:"fas fa-plus text-xs"}),e.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Add Account"})]})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-gray-500 mt-1 ml-9 md:ml-10",children:"Manage your bank accounts and cards"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx(Te,{isVisible:j,onClose:fe,onAccountCreated:pe,existingAccounts:l}),d&&a&&e.jsx(ie,{editingAccount:a,onSubmit:X,onChange:Q,onCancel:ee,error:o,isSaving:i}),F&&e.jsx(Ee,{accounts:l,currentDefaultId:w,onSetDefault:de,onClose:()=>y(!1),isUpdating:x}),e.jsx(Pe,{accounts:l,onEdit:oe,onDelete:A=>b(A),onSetAsDefault:ue,onDefaultAccountClick:me,onViewHistory:xe,isFormVisible:d,isInlineFormVisible:j})]}),v&&K.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:1060},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-200 max-w-md w-full mx-4",style:{zIndex:1065},children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 mr-2"}),"Confirm Account Deletion"]}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>b(null),disabled:i,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"Are you sure you want to delete this account?"}),e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800 mb-1",children:"Warning:"}),e.jsx("div",{className:"text-red-700 text-sm",children:"This action will deactivate the account and may affect transaction history."})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",onClick:()=>b(null),disabled:i,children:"Cancel"}),e.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",onClick:()=>le(v),disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-trash mr-1"}),"Delete Account"]})})]})]})}),document.body),L&&$&&e.jsx(Ie,{accountId:$,accountName:O,isOpen:L,onClose:ge})]})},Ue=({tab:c,isActive:n,onClick:t})=>e.jsxs("button",{onClick:t,className:`flex-shrink-0 flex items-center gap-1.5 px-4 py-2 rounded-full text-xs font-semibold transition-all ${n?"bg-indigo-500 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("i",{className:`fas ${c.icon} text-[10px]`}),c.label]}),Ve=()=>{_e();const{user:c,logout:n}=z(),[t,r]=_.useState("profile"),[s,a]=_.useState(!0),[m,d]=_.useState(""),[u,o]=_.useState(""),[g,i]=_.useState({name:"",email:"",profilePicture:"",language:"en",notifications:{email:!0,push:!0},accounts:[]}),N=[{id:"profile",label:"Profile",icon:"fa-user"},{id:"accounts",label:"Accounts",icon:"fa-wallet"},{id:"preferences",label:"Preferences",icon:"fa-sliders-h"}],h=async()=>{try{if(!c)return[];const{data:b,error:x}=await T.from("accounts").select("*").eq("user_id",c.id).eq("status","active").order("created_at",{ascending:!0});return x?(console.error("Error fetching accounts:",x),[]):b.map((S,F)=>({...S,color:S.color||q[F%q.length]}))}catch(b){return console.error("Error in fetchAccounts:",b),[]}};_.useEffect(()=>{(async()=>{try{a(!0);let x=[];if(c){await te.ensureUserSetup(c.id);const S=await h();S&&S.length>0?x=S:x=(await te.getUserDefaultAccounts(c.id)).map((y,w)=>({...y,color:y.color||q[w%q.length]})),i({name:c.user_metadata?.full_name||c.email?.split("@")[0]||"User",email:c.email||"user@example.com",profilePicture:c.user_metadata?.avatar_url||"../images/placeholder.png",language:"en",notifications:{email:!0,push:!0},accounts:x})}else{const S=Fe();if(S&&S.user){const F=S.user;i({name:F.name||F.full_name||"User",email:F.email||"user@example.com",profilePicture:F.profilePicture||F.avatar||"../images/placeholder.png",language:"en",notifications:{email:!0,push:!0},accounts:[]})}}}catch(x){console.error("Error loading user profile:",x),o("Failed to load user profile data")}finally{a(!1)}})()},[c]);const I=b=>{r(b),d(""),o("")},v=b=>{const{name:x,value:S}=b.target;i(F=>({...F,[x]:S}))};return s?e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"block md:hidden py-12 animate__animated animate__fadeIn",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 font-medium",children:"Loading your settings..."})]})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(De,{})})]}):e.jsxs("div",{className:"container-fluid animate__animated animate__fadeIn animate__faster",children:[e.jsx("div",{className:"block md:hidden mb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h1",{className:"text-base font-bold text-gray-800",children:[e.jsx("i",{className:"fas fa-cog text-indigo-500 mr-2"}),"Settings"]})})}),e.jsxs("h1",{className:"h3 mb-4 text-gray-800 hidden md:block",children:[e.jsx("i",{className:"fas fa-cog mr-2"}),"Settings"]}),m&&e.jsx("div",{className:"block md:hidden mb-3",children:e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl px-3 py-2 flex items-center gap-2 animate__animated animate__fadeIn",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"fas fa-check text-emerald-500 text-[10px]"})}),e.jsx("span",{className:"text-xs text-emerald-700",children:m})]})}),u&&e.jsx("div",{className:"block md:hidden mb-3",children:e.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-xl px-3 py-2 flex items-center gap-2 animate__animated animate__fadeIn",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-rose-100 flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"fas fa-exclamation text-rose-500 text-[10px]"})}),e.jsx("span",{className:"text-xs text-rose-700",children:u})]})}),m&&e.jsxs("div",{className:"alert alert-success animate__animated animate__fadeIn hidden md:block",role:"alert",children:[e.jsx("i",{className:"fas fa-check-circle mr-2"}),m]}),u&&e.jsxs("div",{className:"alert alert-danger animate__animated animate__fadeIn hidden md:block",role:"alert",children:[e.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),u]}),e.jsx("div",{className:"block md:hidden mb-4",children:e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 scrollbar-hide",children:N.map(b=>e.jsx(Ue,{tab:b,isActive:t===b.id,onClick:()=>I(b.id)},b.id))})}),e.jsx("div",{className:"block md:hidden",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("div",{children:[t==="profile"&&e.jsx(se,{profile:g,onInputChange:v,setSuccessMessage:d,setErrorMessage:o}),t==="accounts"&&e.jsx(re,{profile:g,setProfile:i,setSuccessMessage:d,setErrorMessage:o}),t==="preferences"&&e.jsx(ne,{profile:g,onInputChange:v})]})})}),e.jsxs("div",{className:"row",style:{display:"none"},id:"desktop-settings-layout",children:[e.jsx("div",{className:"col-lg-3 mb-4",children:e.jsx("div",{className:"card shadow border-0",children:e.jsx("div",{className:"card-body p-0",children:e.jsx("div",{className:"list-group list-group-flush settings-nav",children:N.map(b=>e.jsxs("button",{className:`list-group-item list-group-item-action ${t===b.id?"active":""}`,onClick:()=>I(b.id),children:[e.jsx("i",{className:`fas ${b.icon} mr-2`}),b.label]},b.id))})})})}),e.jsx("div",{className:"col-lg-9",children:e.jsx("div",{className:"card shadow border-0 mb-4",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{children:[t==="profile"&&e.jsx(se,{profile:g,onInputChange:v,setSuccessMessage:d,setErrorMessage:o}),t==="accounts"&&e.jsx(re,{profile:g,setProfile:i,setSuccessMessage:d,setErrorMessage:o}),t==="preferences"&&e.jsx(ne,{profile:g,onInputChange:v})]})})})})]})]})};export{Ve as default};
