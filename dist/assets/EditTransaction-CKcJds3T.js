import{j as e}from"./ui-vendor-Cn1Vfl4w.js";import{i as le,u as de,r as u,L as C}from"./react-vendor-D4A9EtXC.js";import{u as me,b as xe,s as F}from"./index-BbApZ7g3.js";import{u as ue,P as ge}from"./PermissionErrorModal-Dc2W8uaB.js";import{E as W}from"./enhancedTransactionService-DaGM5j0a.js";import{A as he}from"./accountService-CFCTGWw4.js";import{E as pe}from"./ErrorBoundary-BBG4Eo_2.js";import{B as be}from"./BudgetSelector-D5tTEr2o.js";import{C as fe}from"./CentavoInput-HJGBXETA.js";import{f as Y,r as ye,s as je}from"./currencyUtils-BZq_rNNs.js";import{A as Ne}from"./AccountSelector-Bv9lXSIJ.js";import{C as ve}from"./CategorySelector-DIi64-QW.js";import{G as we}from"./GoalSelector-BkgJuR_a.js";import{T as $}from"./transactions-CJCWbHAc.js";/* empty css                       */import"./chart-vendor-B0c7K_uV.js";import"./transactionService-B7dXImam.js";const _e=({children:g})=>{const f=S=>{console.error("Transaction component error:",S)},h=e.jsx("div",{className:"card shadow mb-4",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("i",{className:"fas fa-exchange-alt fa-3x text-muted mb-3"}),e.jsx("h5",{className:"text-gray-900",children:"Transaction Loading Error"}),e.jsx("p",{className:"text-muted",children:"Unable to load transaction information. Please try refreshing the page."})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>window.location.reload(),className:"btn btn-primary btn-sm mr-2",children:[e.jsx("i",{className:"fas fa-sync mr-1"}),"Refresh"]}),e.jsxs("a",{href:"/transactions",className:"btn btn-secondary btn-sm",children:[e.jsx("i",{className:"fas fa-list mr-1"}),"View All Transactions"]})]})]})});return e.jsx(pe,{fallback:h,onError:f,children:g})},Ce=()=>{const{id:g}=le(),f=de(),{user:h}=me(),{showSuccessToast:S,showErrorToast:p}=xe(),G=ue(),[l,V]=u.useState({accounts:[],incomeCategories:[],expenseCategories:[],goals:[]}),[H,B]=u.useState(!0),[X,T]=u.useState("form"),[j,P]=u.useState(!1),[v,I]=u.useState(null),[A,M]=u.useState(null),[d,J]=u.useState(null),[K,Q]=u.useState(null),[R,b]=u.useState(null),[s,N]=u.useState(null),[r,w]=u.useState(null),[Z,ee]=u.useState(null),[_,k]=u.useState({isOpen:!1,title:"",message:""}),[t,m]=u.useState({type:"expense",account_id:"",category_id:"",goal_id:"",budget_id:"",amount:0,date:new Date().toISOString().slice(0,10),description:""});u.useEffect(()=>{(async()=>{try{if(!h){p("You must be logged in to edit transactions"),f("/auth/login");return}if(!g){p("Transaction ID is missing"),f("/transactions");return}B(!0);const i=await W.fetchTransactionForEdit(g,h.id);if(!i.success)throw new Error(i.error||"Failed to fetch transaction");const a=i.data;J(a);const c=await he.fetchUserAccounts(h.id);if(!c.success)throw new Error(c.error||"Failed to fetch accounts");const o=c.data||[],{data:x,error:y}=await F.from("income_categories").select("id, category_name, icon").eq("user_id",h.id).order("category_name");if(y)throw y;const{data:E,error:D}=await F.from("expense_categories").select("id, category_name, icon").eq("user_id",h.id).order("category_name");if(D)throw D;const{data:ce,error:U}=await F.from("goals").select("id, goal_name, target_amount, current_amount, target_date, priority, status, is_family_goal").eq("user_id",h.id).eq("status","in_progress").order("goal_name");if(U)throw U;V({accounts:o||[],incomeCategories:x||[],expenseCategories:E||[],goals:ce||[]}),m({type:a.type,account_id:a.account_id,category_id:a.category_id||"",budget_id:a.budget_id||"",goal_id:a.goal_id||"",amount:a.amount,date:new Date(a.date).toISOString().slice(0,10),description:a.description||""})}catch(i){console.error("Error fetching data:",i),p(i.message||"Failed to load transaction data"),f("/transactions")}finally{B(!1)}})()},[g,h,f,p]);const te=n=>{if(n>9999999999999e-2){p("Amount too large: maximum supported amount is â‚±99,999,999,999.99");return}m(i=>({...i,amount:n}))},ae=n=>{Q(n),m(i=>({...i,account_id:n?.id||""}))},se=n=>{console.log("ðŸ·ï¸ EditTransaction: Category selected",{category:n,transactionType:t.type,previousCategoryId:t.category_id,newCategoryId:n?.id||""}),b(n),m(i=>({...i,category_id:n?.id||""})),N(null),m(i=>({...i,budget_id:""})),console.log("ðŸ”„ EditTransaction: After category selection, transaction state will be:",{type:t.type,category_id:n?.id||"",budget_id:"",previousBudgetCleared:!0})},ne=n=>{console.log("ðŸ’° EditTransaction: Budget selected",{budgetId:n?.id,budgetName:n?.budget_name,categoryId:n?.category_id,categoryName:n?.category_name}),N(n),m(i=>({...i,budget_id:n?.id||""}))},ie=u.useCallback((n,i)=>{console.log("ðŸŽ EditTransaction: Auto-selecting category from budget",{categoryId:n,categoryName:i,currentCategoryId:t.category_id,forceSelection:!0,usingNameFallback:!n&&!!i});const a=t.type==="income"?l.incomeCategories:l.expenseCategories;let c;if(n?c=a.find(o=>o.id===n):i&&(c=a.find(o=>o.category_name===i)),c){console.log("âœ¨ EditTransaction: Force auto-selecting category from budget",{categoryId:c.id,categoryName:c.category_name,previousCategoryId:t.category_id,replacingExisting:!!t.category_id,matchedBy:n?"ID":"Name"});const o=c;setTimeout(()=>{b(o||null),o&&m(x=>({...x,category_id:o.id}))},0)}else console.warn("âš ï¸ EditTransaction: Category not found for auto-selection",{categoryId:n,categoryName:i,searchMethod:n?"ID":"Name",availableCategories:a.map(o=>({id:o.id,name:o.category_name}))})},[t.type,t.category_id,l.incomeCategories,l.expenseCategories]),re=async n=>{if(n?.is_family_goal){if(t.type==="contribution"){const a=await G.validateFamilyGoalCreation();if(!a.canCreate){k({isOpen:!0,title:a.errorTitle||"Contribution Access Denied",message:a.errorMessage||"You cannot contribute to family goals.",suggestedActions:a.suggestedActions||["Contact your family admin for assistance"],userRole:a.userRole});return}}const i=await G.checkCanAccessGoal(n.id);if(!i.hasPermission){k({isOpen:!0,title:"Access Denied",message:i.errorMessage||"You do not have permission to access this family goal.",suggestedActions:i.restrictions||["Contact your family admin for assistance"],userRole:i.userRole});return}}if(w(n),n&&(t.type==="contribution"||t.type==="expense")){let i=l.expenseCategories.find(a=>a.category_name.toLowerCase()==="contribution");i||(i=l.expenseCategories.find(a=>a.category_name.toLowerCase().includes("goal")||a.category_name.toLowerCase().includes("saving")||a.category_name.toLowerCase().includes("investment"))),i?(b(i),m(a=>({...a,goal_id:n.id||"",category_id:i?.id||""})),N(null),m(a=>({...a,budget_id:""}))):(m(a=>({...a,goal_id:n.id||"",category_id:t.type==="contribution"?"":a.category_id})),t.type==="contribution"&&b(null))}else m(i=>({...i,goal_id:n?.id||""}))},L=u.useCallback(n=>{const{name:i,value:a}=n.target;if(i==="type"){const c=a;m(o=>({...o,type:c,category_id:"",budget_id:"",goal_id:""})),N(null),b(null),w(null);return}if(m(c=>({...c,[i]:a})),i==="category_id"){const o=(t.type==="income"?l.incomeCategories:l.expenseCategories).find(x=>x.id===a);b(o||null),m(x=>({...x,budget_id:""})),N(null)}if(i==="goal_id")if(a){const c=l.goals.find(o=>o.id===a);w(c||null)}else w(null)},[t.type,l.incomeCategories,l.expenseCategories,l.goals]),oe=n=>{if(n.preventDefault(),!t.amount||t.amount<=0){p("Please enter a valid amount");return}if(!t.date){p("Please select a date");return}if(!t.account_id){p("Please select an account");return}if(!t.category_id&&t.type==="contribution"){let o=l.expenseCategories.find(x=>x.category_name.toLowerCase()==="contribution");o||(o=l.expenseCategories.find(x=>x.category_name.toLowerCase().includes("goal")||x.category_name.toLowerCase().includes("saving")||x.category_name.toLowerCase().includes("investment"))),o&&(b(o),m(x=>({...x,category_id:o?.id||""})))}const i=t.type==="income",a=t.type==="contribution";let c=!1;if(i?c=l.incomeCategories.some(o=>o.id===t.category_id):a?t.category_id?c=l.expenseCategories.some(o=>o.id===t.category_id):c=!0:c=l.expenseCategories.some(o=>o.id===t.category_id),!c&&t.category_id){p(`Selected category does not match transaction type. Please select a ${i?"income":a?"expense (for contributions)":"expense"} category.`);return}if(a&&!t.goal_id){p("Please select a goal for your contribution.");return}if(t.type==="expense"&&s){const o=t.amount,y=((s.spent||0)+o)/s.amount*100,E=(s.alert_threshold||.8)*100;if(y>=E&&y<100&&!window.confirm(`This transaction would put the budget "${s.budget_name}" at ${y.toFixed(1)}% utilization. Do you want to proceed?`))return}T("review"),window.scrollTo(0,0)},z=async()=>{if(!h||!d){p("Unable to update transaction. Missing data.");return}P(!0);try{const n=ye(t.amount),i=await W.updateTransactionWithMapping(g,h.id,{type:t.type,amount:n,date:t.date,account_id:t.account_id,category_id:t.category_id,goal_id:t.goal_id||void 0,notes:je(t.description)});if(!i.success)throw new Error(i.error||"Failed to update transaction");try{if(d){const a={};if(d.amount!==n&&(a.amount={old:d.amount,new:n}),d.date!==t.date&&(a.date={old:d.date,new:t.date}),d.description!==t.description&&(a.description={old:d.description,new:t.description}),d.type!==t.type&&(a.type={old:d.type,new:t.type}),d.account_id!==t.account_id&&(a.account_id={old:d.account_id,new:t.account_id}),d.category_id!==t.category_id&&(a.category_id={old:d.category_id,new:t.category_id}),d.goal_id!==t.goal_id&&(a.goal_id={old:d.goal_id,new:t.goal_id}),Object.keys(a).length>0){const c=$.extractTransactionAuditData(d),o=$.extractTransactionAuditData({...d,...t,amount:n},K,R,r),x={old_values:c,new_values:o,changes:a};$.logTransactionUpdated(h.id,g,x,navigator.userAgent).catch(y=>{console.error("Failed to log transaction update to audit:",y)})}}}catch(a){console.error("Error preparing transaction update audit log:",a)}S("Transaction updated successfully!"),f(`/transactions/${g}`)}catch(n){console.error("Error updating transaction:",n),p(n.message||"Failed to update transaction")}finally{P(!1)}},O=(n,i)=>{if(v===n)I(null),M(null);else if(I(n),i){const a=i.currentTarget.getBoundingClientRect();M({top:a.bottom+window.scrollY,left:a.left+a.width/2+window.scrollX})}},q={"transaction-details":{title:"Transaction Details",description:"Modify the details of your transaction including the amount, date, category, and account. All fields marked with * are required."},"transaction-tips":{title:"Transaction Tips",description:"Tips to help you categorize and track your spending effectively. Adding clear descriptions and choosing the right category helps with better financial analysis."}};if(H)return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"block md:hidden py-12 animate__animated animate__fadeIn",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 font-medium",children:"Loading transaction..."})]})}),e.jsxs("div",{className:"text-center my-5 hidden md:block",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"sr-only",children:"Loading..."})}),e.jsx("p",{className:"mt-3 text-gray-700",children:"Loading transaction data..."})]})]});if(X==="review"){const n=l.accounts.find(c=>c.id===t.account_id),i=t.type==="income"?l.incomeCategories.find(c=>c.id===t.category_id):l.expenseCategories.find(c=>c.id===t.category_id),a=t.goal_id?l.goals.find(c=>c.id===t.goal_id):null;return e.jsxs("div",{className:"container-fluid animate__animated animate__fadeIn",children:[e.jsx("div",{className:"block md:hidden mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-base font-bold text-gray-800",children:"Review Changes"}),e.jsx(C,{to:`/transactions/${g}`,className:"w-9 h-9 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 flex items-center justify-center shadow-sm transition-all active:scale-95","aria-label":"Cancel",children:e.jsx("i",{className:"fas fa-times text-xs"})})]})}),e.jsxs("div",{className:"d-none d-md-flex align-items-center justify-content-between mb-4",children:[e.jsx("h1",{className:"h3 mb-0 text-gray-800",children:"Review Transaction Changes"}),e.jsxs(C,{to:`/transactions/${g}`,className:"btn btn-sm btn-secondary shadow-sm",children:[e.jsx("i",{className:"fas fa-arrow-left fa-sm mr-2"})," Cancel"]})]}),e.jsxs("div",{className:"block md:hidden mb-4",children:[e.jsxs("div",{className:`bg-gradient-to-br ${t.type==="income"?"from-emerald-500 via-teal-500 to-cyan-500":t.type==="contribution"?"from-blue-500 via-indigo-500 to-purple-500":"from-rose-500 via-red-500 to-orange-500"} rounded-2xl p-4 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-white/80 text-xs font-medium",children:t.type==="income"?"Income":t.type==="contribution"?"Contribution":"Expense"}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx("i",{className:`fas fa-${t.type==="income"?"plus":t.type==="contribution"?"flag":"minus"} text-white text-sm`})})]}),e.jsx("div",{className:"text-white text-2xl font-bold mb-1",children:Y(t.amount)}),e.jsx("div",{className:"text-white/70 text-xs",children:new Date(t.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-blue-100 flex items-center justify-center mb-2",children:e.jsx("i",{className:"fas fa-university text-blue-500 text-xs"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Account"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:n?.account_name||"N/A"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-amber-100 flex items-center justify-center mb-2",children:e.jsx("i",{className:"fas fa-tag text-amber-500 text-xs"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Category"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:i?.category_name||"N/A"})]})]}),a&&e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-indigo-100 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-flag text-indigo-500 text-xs"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Goal"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:a.goal_name})]}),a.is_family_goal&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-blue-100 text-blue-600 text-[9px] font-semibold",children:"Family"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-1",children:e.jsx("div",{className:"bg-indigo-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${a.target_amount>0?Math.min(100,a.current_amount/a.target_amount*100):0}%`}})}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:[a.target_amount>0?(a.current_amount/a.target_amount*100).toFixed(1):0,"% complete"]})]}),s&&e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-emerald-100 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-wallet text-emerald-500 text-xs"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Budget"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:s.budget_name})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-1",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${((s.spent||0)+t.amount)/s.amount>=.9?"bg-rose-500":((s.spent||0)+t.amount)/s.amount>=.8?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(100,((s.spent||0)+t.amount)/s.amount*100)}%`}})}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:[(((s.spent||0)+t.amount)/s.amount*100).toFixed(1),"% after this transaction"]})]}),t.description&&e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 mt-2",children:[e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide mb-1",children:"Description"}),e.jsx("p",{className:"text-xs text-gray-700",children:t.description})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>T("form"),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium rounded-xl transition-colors flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-arrow-left text-xs"}),"Edit"]}),e.jsxs("button",{onClick:z,disabled:j,className:`flex-1 py-3 ${t.type==="income"?"bg-emerald-500 hover:bg-emerald-600":t.type==="contribution"?"bg-indigo-500 hover:bg-indigo-600":"bg-rose-500 hover:bg-rose-600"} text-white text-sm font-medium rounded-xl transition-colors flex items-center justify-center gap-2 disabled:opacity-50`,children:[e.jsx("i",{className:`${j?"fas fa-spinner fa-spin":"fas fa-check"} text-xs`}),j?"Saving...":"Save"]})]})]}),e.jsx("div",{className:"row d-none d-md-flex",children:e.jsx("div",{className:"col-lg-8 mx-auto",children:e.jsxs("div",{className:"card shadow mb-4",children:[e.jsxs("div",{className:"card-header py-3 d-flex align-items-center",children:[e.jsx("span",{className:`badge mr-2 ${t.type==="income"?"badge-success":t.type==="contribution"?"badge-info":"badge-danger"}`,children:t.type==="income"?"Income":t.type==="contribution"?"Contribute":"Expense"}),e.jsx("h6",{className:"m-0 font-weight-bold text-primary",children:"Transaction Details"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-6 mb-4 mb-md-0",children:e.jsx("div",{className:"card border-left-primary shadow h-100 py-2",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Amount"}),e.jsx("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:Y(t.amount)})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-solid fa-peso-sign fa-2x text-gray-300"})})]})})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"card border-left-info shadow h-100 py-2",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-info text-uppercase mb-1",children:"Date"}),e.jsx("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:new Date(t.date).toLocaleDateString()})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-calendar fa-2x text-gray-300"})})]})})})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-6 mb-4 mb-md-0",children:e.jsx("div",{className:"card border-left-success shadow h-100 py-2",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-success text-uppercase mb-1",children:"Account"}),e.jsx("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:n?.account_name})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-university fa-2x text-gray-300"})})]})})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"card border-left-warning shadow h-100 py-2",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-warning text-uppercase mb-1",children:"Category"}),e.jsx("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:i?.category_name})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-tag fa-2x text-gray-300"})})]})})})})]}),a&&e.jsx("div",{className:"card bg-white shadow mb-4",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Associated Goal"}),e.jsxs("div",{className:"h5 mb-0 font-weight-bold text-primary d-flex align-items-center",children:[a.goal_name,a.is_family_goal?e.jsxs("span",{className:"badge badge-info ml-2",children:[e.jsx("i",{className:"fas fa-users mr-1"})," Family"]}):e.jsxs("span",{className:"badge badge-secondary ml-2",children:[e.jsx("i",{className:"fas fa-user mr-1"})," Personal"]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"d-flex justify-content-between text-sm mb-1",children:[e.jsx("span",{children:"Goal Progress"}),e.jsxs("span",{children:[a.target_amount>0?(a.current_amount/a.target_amount*100).toFixed(1):0,"%"]})]}),e.jsx("div",{className:"progress",style:{height:"8px"},children:e.jsx("div",{className:`progress-bar ${a.target_amount>0&&a.current_amount/a.target_amount*100>=90?"bg-success":a.target_amount>0&&a.current_amount/a.target_amount*100>=75?"bg-info":a.target_amount>0&&a.current_amount/a.target_amount*100>=50?"bg-warning":"bg-danger"}`,role:"progressbar",style:{width:`${a.target_amount>0?Math.min(100,a.current_amount/a.target_amount*100):0}%`},"aria-valuenow":a.target_amount>0?Math.min(100,a.current_amount/a.target_amount*100):0,"aria-valuemin":0,"aria-valuemax":100})})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["â‚±",(a.target_amount-a.current_amount).toFixed(2)," remaining"]})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-flag fa-2x text-gray-300"})})]})})}),s&&e.jsx("div",{className:"card bg-white border-left-primary shadow mb-4",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsxs("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:["Assigned Budget",e.jsxs("span",{className:"badge badge-primary ml-2",children:[e.jsx("i",{className:"fas fa-wallet mr-1"})," Budget Tracking"]})]}),e.jsxs("div",{className:"h5 mb-0 font-weight-bold text-gray-800 d-flex align-items-center",children:[s.budget_name,s.category_name&&e.jsxs("span",{className:"badge badge-secondary ml-2",children:[e.jsx("i",{className:"fas fa-tag mr-1"})," ",s.category_name]})]}),e.jsxs("div",{className:"mt-3 mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-sm font-weight-medium text-gray-700",children:"Budget Utilization (After Transaction)"}),e.jsxs("span",{className:`font-weight-bold text-sm ${((s.spent||0)+t.amount)/s.amount>=.9?"text-danger":((s.spent||0)+t.amount)/s.amount>=.8?"text-warning":((s.spent||0)+t.amount)/s.amount>=.6?"text-info":"text-success"}`,children:[(((s.spent||0)+t.amount)/s.amount*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"position-relative",children:[e.jsxs("div",{className:"progress",style:{height:"12px",borderRadius:"6px",backgroundColor:"#f1f3f4",boxShadow:"inset 0 1px 2px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"progress-bar bg-secondary",style:{width:`${Math.min(100,(s.spent||0)/s.amount*100)}%`,borderRadius:"6px 0 0 6px"}}),e.jsx("div",{className:`progress-bar ${((s.spent||0)+t.amount)/s.amount>=.9?"bg-danger":((s.spent||0)+t.amount)/s.amount>=.8?"bg-warning":((s.spent||0)+t.amount)/s.amount>=.6?"bg-info":"bg-success"}`,role:"progressbar",style:{width:`${Math.min(100,t.amount/s.amount*100)}%`,borderRadius:"0 6px 6px 0",transition:"width 0.6s ease-in-out, background-color 0.3s ease",background:((s.spent||0)+t.amount)/s.amount>=.9?"linear-gradient(45deg, #dc3545, #c82333)":((s.spent||0)+t.amount)/s.amount>=.8?"linear-gradient(45deg, #ffc107, #e0a800)":((s.spent||0)+t.amount)/s.amount>=.6?"linear-gradient(45deg, #17a2b8, #138496)":"linear-gradient(45deg, #28a745, #218838)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"aria-valuenow":Math.min(100,((s.spent||0)+t.amount)/s.amount*100),"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Budget utilization after transaction: ${(((s.spent||0)+t.amount)/s.amount*100).toFixed(1)}% of ${s.budget_name}`,children:((s.spent||0)+t.amount)/s.amount>=.8&&e.jsx("div",{className:"progress-bar-striped progress-bar-animated",style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",background:"linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent)",backgroundSize:"1rem 1rem",animation:"progress-bar-stripes 1s linear infinite"}})})]}),e.jsxs("div",{className:"position-absolute d-flex justify-content-between w-100",style:{top:"-2px",fontSize:"10px"},children:[e.jsx("div",{className:"text-muted",style:{marginLeft:"60%"},children:"60%"}),e.jsx("div",{className:"text-muted",style:{marginRight:"20%"},children:"80%"})]})]}),e.jsxs("div",{className:"mt-2 d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:`fas fa-circle mr-2 ${((s.spent||0)+t.amount)/s.amount>=.9?"text-danger":((s.spent||0)+t.amount)/s.amount>=.8?"text-warning":((s.spent||0)+t.amount)/s.amount>=.6?"text-info":"text-success"}`,style:{fontSize:"8px"}}),e.jsx("span",{className:"text-xs text-muted",children:((s.spent||0)+t.amount)/s.amount>=.9?"Critical: Near budget limit":((s.spent||0)+t.amount)/s.amount>=.8?"Warning: Approaching budget limit":((s.spent||0)+t.amount)/s.amount>=.6?"Moderate: Good progress":"Healthy: Well within budget"})]}),e.jsxs("span",{className:"text-xs font-weight-bold text-primary",children:["+â‚±",t.amount.toFixed(2)," this transaction"]})]})]}),e.jsxs("div",{className:"row text-sm mt-3",children:[e.jsxs("div",{className:"col-4 text-center",children:[e.jsxs("div",{className:"font-weight-bold text-gray-800",children:["â‚±",s.amount.toFixed(2)]}),e.jsx("div",{className:"text-muted",children:"Total Budget"})]}),e.jsxs("div",{className:"col-4 text-center",children:[e.jsxs("div",{className:"font-weight-bold text-gray-600",children:["â‚±",(s.spent||0).toFixed(2)]}),e.jsx("div",{className:"text-muted",children:"Current Spent"})]}),e.jsxs("div",{className:"col-4 text-center",children:[e.jsxs("div",{className:`font-weight-bold ${s.amount-(s.spent||0)-t.amount<0?"text-danger":"text-success"}`,children:["â‚±",(s.amount-(s.spent||0)-t.amount).toFixed(2)]}),e.jsx("div",{className:"text-muted",children:"After Transaction"})]})]})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-wallet fa-2x text-gray-300"})})]})})}),e.jsx("div",{className:"card bg-light mb-4",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Description"}),e.jsx("p",{className:"mb-0",children:t.description})]})}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsxs("button",{onClick:()=>T("form"),className:"btn btn-light btn-icon-split mr-2",children:[e.jsx("span",{className:"icon text-gray-600",children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsx("span",{className:"text",children:"Back to Edit"})]}),e.jsxs("button",{onClick:z,disabled:j,className:"btn btn-success btn-icon-split",children:[e.jsx("span",{className:"icon text-white-50",children:e.jsx("i",{className:j?"fas fa-spinner fa-spin":"fas fa-check"})}),e.jsx("span",{className:"text",children:j?"Saving...":"Save Changes"})]})]})]})]})})})]})}return e.jsxs("div",{className:"container-fluid animate__animated animate__fadeIn",children:[e.jsx("div",{className:"block md:hidden mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-base font-bold text-gray-800",children:"Edit Transaction"}),e.jsx(C,{to:`/transactions/${g}`,className:"w-9 h-9 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 flex items-center justify-center shadow-sm transition-all active:scale-95","aria-label":"Back to details",children:e.jsx("i",{className:"fas fa-arrow-left text-xs"})})]})}),e.jsxs("div",{className:"d-none d-md-flex align-items-center justify-content-between mb-2 mb-md-4 flex-wrap",children:[e.jsxs("h1",{className:"h5 h-md-3 mb-1 mb-md-0 text-gray-800",style:{fontSize:"0.95rem"},children:[e.jsx("span",{className:"d-none d-md-inline",children:"Edit Transaction"}),e.jsx("span",{className:"d-inline d-md-none",children:"Edit"})]}),e.jsxs(C,{to:`/transactions/${g}`,className:"btn btn-sm btn-secondary shadow-sm",style:{fontSize:"0.65rem",padding:"0.2rem 0.4rem"},children:[e.jsx("i",{className:"fas fa-arrow-left fa-sm",style:{fontSize:"0.65rem"}}),e.jsx("span",{className:"d-none d-md-inline ml-1",children:"Back to Details"}),e.jsx("span",{className:"d-inline d-md-none ml-1",children:"Back"})]})]}),v&&A&&e.jsx("div",{className:"tip-box light",style:{position:"absolute",top:`${A.top}px`,left:`${A.left}px`,transform:"translateX(-50%)",zIndex:1e3,background:"white",padding:"12px 15px",borderRadius:"8px",boxShadow:"0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15)",maxWidth:"300px",border:"1px solid rgba(0, 0, 0, 0.05)"},children:v&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-weight-bold mb-2",children:q[v].title}),e.jsx("p",{className:"mb-0",children:q[v].description})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-8 mx-auto",children:e.jsxs("div",{className:"card shadow mb-4 transaction-form",children:[e.jsx("div",{className:"card-header py-3",children:e.jsxs("h6",{className:"m-0 font-weight-bold text-primary",children:[e.jsx("span",{className:"d-none d-md-inline",children:"Transaction Details"}),e.jsx("span",{className:"d-inline d-md-none",children:"Details"}),e.jsx("i",{className:"fas fa-info-circle ml-1 text-gray-400",style:{cursor:"pointer"},onClick:n=>O("transaction-details",n)})]})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:oe,children:[e.jsxs("div",{className:"form-group mb-4",children:[e.jsxs("label",{className:"font-weight-bold text-gray-800",children:["Transaction Type ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4 mb-3 mb-md-0",children:e.jsx("div",{className:`card ${t.type==="income"?"bg-success text-white":"bg-light"} py-3 text-center shadow-sm`,style:{cursor:"pointer"},onClick:()=>m(n=>({...n,type:"income",category_id:""})),children:e.jsxs("div",{className:"card-body transaction-type-card",children:[e.jsx("i",{className:"fas fa-plus-circle fa-2x mb-2"}),e.jsx("h5",{className:"mb-0",children:"Income"})]})})}),e.jsx("div",{className:"col-md-4 mb-3 mb-md-0",children:e.jsx("div",{className:`card ${t.type==="expense"?"bg-danger text-white":"bg-light"} py-3 text-center shadow-sm`,style:{cursor:"pointer"},onClick:()=>m(n=>({...n,type:"expense",category_id:""})),children:e.jsxs("div",{className:"card-body transaction-type-card",children:[e.jsx("i",{className:"fas fa-minus-circle fa-2x mb-2"}),e.jsx("h5",{className:"mb-0",children:"Expense"})]})})}),e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:`card ${t.type==="contribution"?"bg-info text-white":"bg-light"} py-3 text-center shadow-sm`,style:{cursor:"pointer"},onClick:()=>{m(n=>({...n,type:"contribution",category_id:""})),b(null),N(null),w(null),setTimeout(()=>{const n=l.expenseCategories.find(i=>i.category_name==="Contribution");n&&(b(n),m(i=>({...i,category_id:n.id})))},100)},children:e.jsxs("div",{className:"card-body transaction-type-card",children:[e.jsx("i",{className:"fas fa-flag fa-2x mb-2"}),e.jsx("h5",{className:"mb-0",children:"Contribute"})]})})})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(fe,{value:t.amount,onChange:te,currency:"PHP",label:"Amount",placeholder:"0.00",required:!0,min:.01,max:9999999999999e-2,className:"mb-3"})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"date",className:"font-weight-bold text-gray-800",children:["Date ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"date",id:"date",name:"date",value:t.date,onChange:L,className:"form-control form-control-user",required:!0}),e.jsx("small",{className:"form-text text-muted",children:"When did this transaction occur?"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(Ne,{selectedAccountId:t.account_id,onAccountSelect:ae,required:!0,label:"Account",showBalance:!0,showAccountType:!0,autoSelectDefault:!1,className:"mb-3"})}),e.jsxs("div",{className:"col-md-6",children:[t.type!=="contribution"?e.jsx(ve,{selectedCategoryId:t.category_id,onCategorySelect:se,transactionType:t.type,incomeCategories:l.incomeCategories,expenseCategories:l.expenseCategories,required:!0,label:"Category",showIcons:!0,className:"mb-3"}):e.jsxs("div",{className:"form-group mb-3",children:[e.jsxs("label",{className:"font-weight-bold text-gray-800",children:["Category ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("div",{className:"form-control d-flex align-items-center bg-contribute text-white",style:{border:"1px solid #17a2b8"},children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-flag mr-2"}),e.jsx("span",{className:"font-weight-bold",children:"Contribution"}),e.jsxs("span",{className:"badge badge-light text-contribute ml-2",children:[e.jsx("i",{className:"fas fa-magic mr-1"}),"Auto-selected"]})]})})]}),t.type==="contribution"&&e.jsx("div",{className:"card mt-3 border-left-contribute shadow-sm mb-4",children:e.jsx("div",{className:"card-body py-3",children:e.jsx("div",{className:"row no-gutters align-items-center",children:e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"d-flex align-items-center mb-2",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-weight-bold text-contribute",children:[e.jsx("i",{className:"fas fa-flag mr-2"}),"Contribution Transaction"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Category: Contribution â€¢ Goal Contribution"})]})}),r&&t.amount>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsx("span",{className:"text-xs font-weight-bold text-gray-600 text-uppercase",children:"Goal Progress Impact"}),e.jsxs("span",{className:"font-weight-bold text-contribute",children:["+â‚±",t.amount.toFixed(2)]})]}),e.jsx("div",{className:"mb-2",children:e.jsx("div",{className:"progress",style:{height:"6px"},children:e.jsx("div",{className:"progress-bar bg-contribute",role:"progressbar",style:{width:`${r.target_amount>0?Math.min(100,(r.current_amount+t.amount)/r.target_amount*100):0}%`}})})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:[r.target_amount>0?((r.current_amount+t.amount)/r.target_amount*100).toFixed(1):0,"% of ",r.goal_name]}),e.jsxs("span",{className:"text-xs text-gray-600",children:["â‚±",Math.max(0,r.target_amount-r.current_amount-t.amount).toFixed(2)," remaining"]})]})]}),(!r||t.amount<=0)&&e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"text-xs font-weight-bold text-gray-600 text-uppercase",children:"Category & Goal"}),e.jsx("span",{className:"text-xs text-contribute font-weight-bold",children:"Auto-assigned"})]})]})})})})]})]}),t.type==="expense"&&e.jsxs(e.Fragment,{children:[console.log("ðŸ“„ EditTransaction: Rendering BudgetSelector with props:",{selectedBudgetId:t.budget_id,selectedCategoryId:t.category_id,transactionAmount:t.amount||0,transactionType:t.type,selectedCategory:R}),e.jsx(be,{selectedBudgetId:t.budget_id,selectedCategoryId:t.category_id,transactionAmount:t.amount||0,transactionType:t.type,onBudgetSelect:ne,onCategoryAutoSelect:ie,className:"mb-4"})]}),Z===!1?e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"font-weight-bold text-gray-800",children:t.type==="contribution"?"Goal *":"Goal Assignment (Optional)"}),e.jsx("div",{className:"card border-dashed border-primary bg-light text-center py-4",children:e.jsxs("div",{className:"card-body",children:[e.jsx("i",{className:"fas fa-flag fa-3x text-primary mb-3"}),e.jsx("h5",{className:"text-primary mb-2",children:"No Goals Available"}),e.jsx("p",{className:"text-muted mb-3",children:t.type==="contribution"?"You need to create a goal before making a contribution transaction.":"Create your first financial goal to track your progress."}),e.jsxs("button",{type:"button",className:"btn btn-primary btn-lg",onClick:()=>f("/goals/create"),children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Create Your First Goal"]}),t.type==="contribution"&&e.jsx("div",{className:"mt-3",children:e.jsxs("small",{className:"text-danger",children:[e.jsx("i",{className:"fas fa-exclamation-triangle mr-1"}),"Goal creation is required for contribution transactions"]})})]})})]}):e.jsx(we,{selectedGoal:r,onGoalSelect:re,className:`mb-4 ${t.type==="contribution"&&!r?"is-invalid":""}`,required:t.type==="contribution",label:t.type==="contribution"?"Goal *":"Goal Assignment (Optional)",isContributionType:t.type==="contribution",showValidationError:t.type==="contribution"&&!r,onGoalsLoaded:ee,validateFamilyGoalAccess:!0}),r&&e.jsx("div",{className:"card bg-white shadow mb-4",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Associated Goal"}),e.jsxs("div",{className:"h5 mb-0 font-weight-bold text-primary d-flex align-items-center",children:[r.goal_name,r.is_family_goal?e.jsxs("span",{className:"badge badge-info ml-2",children:[e.jsx("i",{className:"fas fa-users mr-1"})," Family"]}):e.jsxs("span",{className:"badge badge-secondary ml-2",children:[e.jsx("i",{className:"fas fa-user mr-1"})," Personal"]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"d-flex justify-content-between text-sm mb-1",children:[e.jsx("span",{children:"Goal Progress"}),e.jsxs("span",{children:[r.target_amount>0?(r.current_amount/r.target_amount*100).toFixed(1):0,"%"]})]}),e.jsx("div",{className:"progress",style:{height:"8px"},children:e.jsx("div",{className:`progress-bar ${r.target_amount>0&&r.current_amount/r.target_amount*100>=90?"bg-success":r.target_amount>0&&r.current_amount/r.target_amount*100>=75?"bg-info":r.target_amount>0&&r.current_amount/r.target_amount*100>=50?"bg-warning":"bg-danger"}`,role:"progressbar",style:{width:`${r.target_amount>0?Math.min(100,r.current_amount/r.target_amount*100):0}%`},"aria-valuenow":r.target_amount>0?Math.min(100,r.current_amount/r.target_amount*100):0,"aria-valuemin":0,"aria-valuemax":100})})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["â‚±",(r.target_amount-r.current_amount).toFixed(2)," remaining"]})]}),e.jsx("div",{className:"col-auto",children:e.jsx("i",{className:"fas fa-flag fa-2x text-gray-300"})})]})})}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"description",className:"font-weight-bold text-gray-800",children:["Description ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("textarea",{id:"description",name:"description",value:t.description,onChange:L,className:"form-control",rows:3,placeholder:"Enter a description for this transaction",required:!0}),e.jsx("small",{className:"form-text text-muted",children:"Briefly describe this transaction"})]}),e.jsx("hr",{className:"my-4"}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{type:"submit",className:"btn btn-primary btn-icon-split",style:{fontSize:"0.65rem"},children:[e.jsx("span",{className:"icon text-white-50",children:e.jsx("i",{className:"fas fa-arrow-right",style:{fontSize:"0.65rem"}})}),e.jsxs("span",{className:"text",children:[e.jsx("span",{className:"d-none d-md-inline",children:"Continue to Review"}),e.jsx("span",{className:"d-inline d-md-none",children:"Review"})]})]})})]})})]})}),e.jsxs("div",{className:"col-lg-4 d-none d-lg-block",children:[e.jsxs("div",{className:"card shadow mb-4",children:[e.jsx("div",{className:"card-header py-3",children:e.jsxs("h6",{className:"m-0 font-weight-bold text-primary",children:["Transaction Tips",e.jsx("i",{className:"fas fa-info-circle ml-1 text-gray-400",style:{cursor:"pointer"},onClick:n=>O("transaction-tips",n)})]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"rounded-circle p-2 mr-3",style:{backgroundColor:"rgba(78, 115, 223, 0.2)"},children:e.jsx("i",{className:"fas fa-tag text-primary"})}),e.jsx("p",{className:"font-weight-bold mb-0",children:"Categorize Properly"})]}),e.jsx("p",{className:"text-sm text-muted ml-5",children:"Accurate categories help track your spending"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"rounded-circle p-2 mr-3",style:{backgroundColor:"rgba(28, 200, 138, 0.2)"},children:e.jsx("i",{className:"fas fa-calendar-alt text-success"})}),e.jsx("p",{className:"font-weight-bold mb-0",children:"Verify the Date"})]}),e.jsx("p",{className:"text-sm text-muted ml-5",children:"Ensure the transaction date is accurate"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"rounded-circle p-2 mr-3",style:{backgroundColor:"rgba(246, 194, 62, 0.2)"},children:e.jsx("i",{className:"fas fa-lightbulb text-warning"})}),e.jsx("p",{className:"font-weight-bold mb-0",children:"Be Specific"})]}),e.jsx("p",{className:"text-sm text-muted ml-5",children:"Add detailed descriptions for future reference"})]})]})]}),d&&e.jsxs("div",{className:"card shadow mb-4",children:[e.jsx("div",{className:"card-header py-3",children:e.jsx("h6",{className:"m-0 font-weight-bold text-primary",children:"Original Transaction Details"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs font-weight-bold text-gray-600 text-uppercase mb-1",children:"Type"}),e.jsx("p",{className:`font-weight-bold ${d.type==="income"?"text-success":"text-danger"}`,children:d.type==="income"?"Income":"Expense"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs font-weight-bold text-gray-600 text-uppercase mb-1",children:"Amount"}),e.jsxs("p",{className:"font-weight-bold",children:["$",d.amount.toFixed(2)]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs font-weight-bold text-gray-600 text-uppercase mb-1",children:"Date"}),e.jsx("p",{className:"font-weight-bold",children:new Date(d.date).toLocaleDateString()})]})]})]})]})]}),e.jsx(ge,{isOpen:_.isOpen,onClose:()=>k({isOpen:!1,title:"",message:""}),errorTitle:_.title,errorMessage:_.message,suggestedActions:_.suggestedActions,userRole:_.userRole})]})};function qe(){return e.jsx(_e,{children:e.jsx(Ce,{})})}export{qe as default};
