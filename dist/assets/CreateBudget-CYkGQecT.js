import{j as e}from"./ui-vendor-Cn1Vfl4w.js";import{u as W,r as i,L as m}from"./react-vendor-D4A9EtXC.js";import{u as U,b as X,s as A}from"./index-BbApZ7g3.js";import{B as T}from"./CentavoInput-HJGBXETA.js";import{f as I,r as Z,s as F}from"./currencyUtils-BZq_rNNs.js";import{C as q}from"./CategorySelector-DIi64-QW.js";import{P as R,D as L}from"./DateSelector-BNFdaKu9.js";/* empty css                       */import"./chart-vendor-B0c7K_uV.js";const G=()=>new Date().toISOString().split("T")[0],de=()=>{const u=W(),{user:x}=U(),{showSuccessToast:M,showErrorToast:l}=X(),[Y,N]=i.useState(!0),[h,$]=i.useState([]),[V,O]=i.useState(null),[d,p]=i.useState(!1),[f,H]=i.useState(null),[g,v]=i.useState(null),[b,w]=i.useState(null),[s,n]=i.useState({budget_name:"",category_id:"",amount:0,period:"month",startDate:G()}),[Q,j]=i.useState("form");i.useEffect(()=>{(async()=>{try{if(N(!0),!x){l("Please sign in to create a budget"),u("/login");return}const{data:t,error:r}=await A.from("expense_categories").select("id, category_name").eq("user_id",x.id).order("category_name",{ascending:!0});if(r)throw new Error(r.message);$(t||[])}catch(t){console.error("Error fetching categories:",t),l(`Failed to load categories: ${t.message}`),H(t.message)}finally{N(!1)}})()},[x,u,l]);const S=a=>{n(t=>({...t,amount:a}))},C=a=>{O(a),n(t=>({...t,category_id:a?.id||"",category_name:a?.category_name||""}))},_=a=>{const{name:t,value:r}=a.target;n(c=>({...c,[t]:r}))},k=a=>{n(t=>({...t,period:a}))},D=a=>{n(t=>({...t,startDate:a}))},y=()=>{const a=new Date(s.startDate);if(s.period==="day")return s.startDate;if(s.period==="week"){const t=new Date(a);return t.setDate(t.getDate()+6),t.toISOString().slice(0,10)}else if(s.period==="month"){const t=a.getFullYear(),r=a.getMonth();return new Date(t,r+1,0).toISOString().slice(0,10)}else if(s.period==="quarter"){const t=a.getFullYear(),r=a.getMonth();return new Date(t,r+3,0).toISOString().slice(0,10)}else if(s.period==="year"){const t=a.getFullYear(),r=a.getMonth();return new Date(t,r+12,0).toISOString().slice(0,10)}return s.startDate},B=a=>{if(a.preventDefault(),!s.budget_name.trim()){l("Please enter a budget name");return}const t=F(s.budget_name);if(t!==s.budget_name.trim()){if(!window.confirm(`Budget name contains special characters that will be cleaned up. Original: "${s.budget_name.trim()}" will become "${t}". Continue?`))return;n(o=>({...o,budget_name:t}))}if(!s.category_id){l("Please select a category");return}if(!h.find(c=>c.id===s.category_id)){l("Selected category is invalid. Please select a valid category.");return}if(!s.amount||s.amount<=0){l("Please enter a valid amount");return}j("review"),window.scrollTo(0,0)},P=async()=>{if(!x){l("Unable to create budget. Please log in.");return}p(!0);try{const a=s.startDate,t=y(),r={budget_name:F(s.budget_name.trim()),category_id:s.category_id,amount:Z(s.amount),period:s.period,start_date:a,end_date:t,user_id:x.id,spent:0,currency:"PHP",alert_enabled:!0,alert_threshold:.8,status:"active"},{data:c,error:o}=await A.from("budgets").insert(r).select().single();if(o)throw o.code==="23503"?new Error("Invalid category selected. Please choose a valid category."):o.code==="23505"?new Error("A budget with this name already exists. Please choose a different name."):new Error(`Database error: ${o.message}`);if(!c)throw new Error("Budget creation failed - no data returned");M("Budget created successfully!"),u("/budgets")}catch(a){console.error("Error creating budget:",a),l(`Failed to create budget: ${a.message}`)}finally{p(!1)}},z=(a,t)=>{if(g===a)v(null),w(null);else if(v(a),t){const r=t.currentTarget.getBoundingClientRect();w({top:r.bottom+window.scrollY,left:r.left+r.width/2+window.scrollX})}},E={"budget-details":{title:"Budget Details",description:"Set up your budget by selecting a category, amount, and time period. This helps you track spending against your goals."},"budget-tips":{title:"Budgeting Tips",description:"Follow proven budgeting strategies to manage your finances effectively and reach your financial goals."}};if(Y)return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"block md:hidden py-12 animate__animated animate__fadeIn",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 font-medium",children:"Loading categories..."})]})}),e.jsxs("div",{className:"text-center my-5 hidden md:block",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"sr-only",children:"Loading..."})}),e.jsx("p",{className:"mt-3 text-gray-700",children:"Loading categories..."})]})]});if(f)return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"block md:hidden py-12 animate__animated animate__fadeIn",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-rose-100 flex items-center justify-center mb-4",children:e.jsx("i",{className:"fas fa-exclamation-circle text-rose-500 text-2xl"})}),e.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Loading Error"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:f}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-4 py-2 bg-rose-500 text-white text-sm font-medium rounded-lg hover:bg-rose-600 transition-colors",children:[e.jsx("i",{className:"fas fa-refresh text-xs"}),"Retry"]})]})}),e.jsx("div",{className:"text-center my-5 hidden md:block",children:e.jsxs("div",{className:"alert alert-danger",role:"alert",children:[e.jsx("h4",{className:"alert-heading",children:"Loading Error"}),e.jsx("p",{children:f}),e.jsx("hr",{}),e.jsxs("button",{className:"btn btn-outline-danger",onClick:()=>window.location.reload(),children:[e.jsx("i",{className:"fas fa-refresh mr-2"}),"Retry"]})]})})]});if(h.length===0)return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"block md:hidden py-12 animate__animated animate__fadeIn",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center mb-4",children:e.jsx("i",{className:"fas fa-folder-open text-amber-500 text-2xl"})}),e.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"No Categories Found"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You need to create expense categories before you can create budgets."}),e.jsxs(m,{to:"/categories",className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-500 text-white text-sm font-medium rounded-lg hover:bg-amber-600 transition-colors",children:[e.jsx("i",{className:"fas fa-plus text-xs"}),"Create Categories"]})]})}),e.jsx("div",{className:"text-center my-5 hidden md:block",children:e.jsxs("div",{className:"alert alert-warning",role:"alert",children:[e.jsx("h4",{className:"alert-heading",children:"No Categories Found"}),e.jsx("p",{children:"You need to create expense categories before you can create budgets."}),e.jsx("hr",{}),e.jsxs(m,{to:"/categories",className:"btn btn-warning",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Create Categories"]})]})})]});if(Q==="review"){const a=h.find(t=>t.id===s.category_id);return e.jsxs("div",{className:"container-fluid animate__animated animate__fadeIn",children:[e.jsx("div",{className:"block md:hidden mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-base font-bold text-gray-800",children:"Review Budget"}),e.jsx(m,{to:"/budgets",className:"w-9 h-9 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 flex items-center justify-center shadow-sm transition-all active:scale-95","aria-label":"Cancel",children:e.jsx("i",{className:"fas fa-times text-xs"})})]})}),e.jsxs("div",{className:"block md:hidden mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl p-4 shadow-lg mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-white/20 text-white",children:"New Budget"}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-wallet text-white text-sm"})})]}),e.jsx("div",{className:"text-white text-2xl font-bold mb-1",children:I(s.amount)}),e.jsx("div",{className:"text-white/70 text-xs",children:s.budget_name||"Unnamed Budget"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-amber-100 flex items-center justify-center mb-2",children:e.jsx("i",{className:"fas fa-tag text-amber-500 text-xs"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Category"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:a?.category_name||"N/A"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-emerald-100 flex items-center justify-center mb-2",children:e.jsx("i",{className:"fas fa-calendar text-emerald-500 text-xs"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Period"}),e.jsxs("p",{className:"text-xs font-bold text-gray-800 truncate",children:[s.period==="day"&&"Daily",s.period==="week"&&"Weekly",s.period==="month"&&"Monthly",s.period==="quarter"&&"Quarterly",s.period==="year"&&"Yearly"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-blue-100 flex items-center justify-center mb-2",children:e.jsx("i",{className:"fas fa-calendar-day text-blue-500 text-xs"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"Start Date"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:new Date(s.startDate).toLocaleDateString()})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-gray-100 flex items-center justify-center mb-2",children:e.jsx("i",{className:"fas fa-calendar-check text-gray-500 text-xs"})}),e.jsx("p",{className:"text-[9px] text-gray-500 font-medium uppercase tracking-wide",children:"End Date"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:new Date(y()).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>j("form"),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-arrow-left text-xs"}),"Back"]}),e.jsx("button",{onClick:P,disabled:d,className:"flex-1 py-3 bg-emerald-500 hover:bg-emerald-600 text-white text-sm font-semibold rounded-xl transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:d?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin text-xs"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check text-xs"}),"Create"]})})]})]}),e.jsxs("div",{className:"d-none d-md-flex align-items-center justify-content-between mb-2 mb-md-4 flex-wrap",children:[e.jsx("h1",{className:"h5 h-md-3 mb-1 mb-md-0 text-gray-800",style:{fontSize:"1.1rem"},children:"Review Budget"}),e.jsxs(m,{to:"/budgets",className:"btn btn-sm btn-secondary shadow-sm d-flex align-items-center",style:{padding:"0.25rem 0.5rem"},children:[e.jsx("i",{className:"fas fa-arrow-left fa-sm",style:{fontSize:"0.7rem"}}),e.jsx("span",{className:"d-none d-md-inline ml-2",children:"Cancel"})]})]}),e.jsx("div",{className:"row d-none d-md-flex",children:e.jsx("div",{className:"col-lg-8 mx-auto",children:e.jsxs("div",{className:"card shadow mb-3 mb-md-4",children:[e.jsxs("div",{className:"card-header py-2 d-flex align-items-center",children:[e.jsx("span",{className:"badge badge-primary mr-2",children:"Budget"}),e.jsx("h6",{className:"m-0 font-weight-bold text-primary",style:{fontSize:"0.875rem"},children:"Budget Details"})]}),e.jsxs("div",{className:"card-body p-3",children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-12 col-md-6 mb-3 mb-md-4",children:e.jsx("div",{className:"card border-left-primary shadow h-100 py-2",children:e.jsx("div",{className:"card-body p-3",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",style:{fontSize:"0.65rem"},children:"Budget Name"}),e.jsx("div",{className:"h5 h6-mobile mb-0 font-weight-bold text-gray-800",children:s.budget_name||"N/A"})]}),e.jsx("div",{className:"col-auto d-none d-md-block",children:e.jsx("i",{className:"fas fa-file-alt fa-2x text-gray-300"})})]})})})}),e.jsx("div",{className:"col-12 col-md-6 mb-3 mb-md-4",children:e.jsx("div",{className:"card border-left-info shadow h-100 py-2",children:e.jsx("div",{className:"card-body p-3",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-info text-uppercase mb-1",style:{fontSize:"0.65rem"},children:"Amount"}),e.jsx("div",{className:"h5 h6-mobile mb-0 font-weight-bold text-gray-800",children:I(s.amount)})]}),e.jsx("div",{className:"col-auto d-none d-md-block",children:e.jsx("i",{className:"fas fa-solid fa-peso-sign fa-2x text-gray-300"})})]})})})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-6 mb-4 mb-md-0",children:e.jsx("div",{className:"card border-left-success shadow h-100 py-2",children:e.jsx("div",{className:"card-body p-3",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-success text-uppercase mb-1",style:{fontSize:"0.65rem"},children:"Period"}),e.jsxs("div",{className:"h5 h6-mobile mb-0 font-weight-bold text-gray-800",children:[s.period==="day"&&"Daily",s.period==="week"&&"Weekly",s.period==="month"&&"Monthly",s.period==="quarter"&&"Quarterly",s.period==="year"&&"Yearly"]})]}),e.jsxs("div",{className:"col-auto d-none d-md-block",children:[s.period==="day"&&e.jsx("i",{className:"fas fa-calendar-day fa-2x text-gray-300"}),s.period==="week"&&e.jsx("i",{className:"fas fa-calendar-week fa-2x text-gray-300"}),s.period==="month"&&e.jsx("i",{className:"fas fa-calendar fa-2x text-gray-300"}),s.period==="quarter"&&e.jsx("i",{className:"fas fa-calendar-alt fa-2x text-gray-300"}),s.period==="year"&&e.jsx("i",{className:"fas fa-calendar-check fa-2x text-gray-300"})]})]})})})}),e.jsx("div",{className:"col-12 col-md-6 mb-3 mb-md-4",children:e.jsx("div",{className:"card border-left-warning shadow h-100 py-2",children:e.jsx("div",{className:"card-body p-3",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-warning text-uppercase mb-1",style:{fontSize:"0.65rem"},children:"Category"}),e.jsx("div",{className:"h5 h6-mobile mb-0 font-weight-bold text-gray-800",children:a?.category_name||"N/A"})]}),e.jsx("div",{className:"col-auto d-none d-md-block",children:e.jsx("i",{className:"fas fa-tag fa-2x text-gray-300"})})]})})})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-6 mb-4 mb-md-0",children:e.jsx("div",{className:"card border-left-info shadow h-100 py-2",children:e.jsx("div",{className:"card-body p-3",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-info text-uppercase mb-1",style:{fontSize:"0.65rem"},children:"Start Date"}),e.jsx("div",{className:"h5 h6-mobile mb-0 font-weight-bold text-gray-800",children:new Date(s.startDate).toLocaleDateString()})]}),e.jsx("div",{className:"col-auto d-none d-md-block",children:e.jsx("i",{className:"fas fa-calendar-day fa-2x text-gray-300"})})]})})})}),e.jsx("div",{className:"col-12 col-md-6 mb-3 mb-md-4",children:e.jsx("div",{className:"card border-left-secondary shadow h-100 py-2",children:e.jsx("div",{className:"card-body p-3",children:e.jsxs("div",{className:"row no-gutters align-items-center",children:[e.jsxs("div",{className:"col mr-2",children:[e.jsx("div",{className:"text-xs font-weight-bold text-secondary text-uppercase mb-1",children:"End Date"}),e.jsx("div",{className:"h5 h6-mobile mb-0 font-weight-bold text-gray-800",children:new Date(y()).toLocaleDateString()})]}),e.jsx("div",{className:"col-auto d-none d-md-block",children:e.jsx("i",{className:"fas fa-calendar-check fa-2x text-gray-300"})})]})})})})]}),e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-center align-items-stretch gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>j("form"),className:"btn btn-sm btn-outline-secondary d-flex align-items-center justify-content-center",style:{padding:"0.5rem 1rem"},children:[e.jsx("i",{className:"fas fa-arrow-left fa-sm mr-2",style:{fontSize:"0.7rem"}}),e.jsx("span",{children:"Back to Edit"})]}),e.jsxs("button",{onClick:P,disabled:d,className:"btn btn-sm btn-success d-flex align-items-center justify-content-center",style:{padding:"0.5rem 1rem"},children:[e.jsx("i",{className:`${d?"fas fa-spinner fa-spin":"fas fa-check"} fa-sm text-white-50 mr-2`,style:{fontSize:"0.7rem"}}),e.jsx("span",{children:d?"Creating...":"Create Budget"})]})]})]})]})})})]})}return e.jsxs("div",{className:"container-fluid animate__animated animate__fadeIn",children:[e.jsx("div",{className:"block md:hidden mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-base font-bold text-gray-800",children:"Create Budget"}),e.jsx(m,{to:"/budgets",className:"w-9 h-9 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 flex items-center justify-center shadow-sm transition-all active:scale-95","aria-label":"Back to budgets",children:e.jsx("i",{className:"fas fa-arrow-left text-xs"})})]})}),e.jsxs("div",{className:"block md:hidden mb-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gradient-to-r from-indigo-500 to-purple-500",children:e.jsxs("h6",{className:"text-sm font-bold text-white flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-wallet text-white/80 text-xs"}),"Budget Details"]})}),e.jsx("div",{className:"p-4",children:e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"text-xs font-semibold text-gray-700 mb-1.5 block",children:["Budget Name ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",name:"budget_name",value:s.budget_name,onChange:_,className:"w-full px-3 py-2.5 text-sm border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"e.g., Monthly Food Budget",required:!0})]}),e.jsx("div",{className:"mb-4",children:e.jsx(q,{selectedCategoryId:s.category_id,onCategorySelect:C,transactionType:"expense",incomeCategories:[],expenseCategories:h,required:!0,label:"Category",showIcons:!0})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsx("div",{children:e.jsx(R,{selectedPeriod:s.period,onPeriodSelect:k,required:!0,label:"Period"})}),e.jsx("div",{children:e.jsx(L,{selectedDate:s.startDate,onDateSelect:D,required:!0,label:"Start Date"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx(T,{value:s.amount,onChange:S,currency:"PHP",label:"Amount",placeholder:"0.00",required:!0,suggestedAmounts:[1e3,2500,5e3,1e4,15e3,25e3]})}),e.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-500 hover:bg-indigo-600 text-white text-sm font-semibold rounded-xl transition-colors flex items-center justify-center gap-2 disabled:opacity-50",disabled:d,children:[e.jsx("i",{className:"fas fa-arrow-right text-xs"}),"Continue to Review"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden mt-3",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:e.jsxs("h6",{className:"text-xs font-bold text-gray-800 flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-lightbulb text-amber-500 text-[10px]"}),"Quick Tips"]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"fas fa-chart-pie text-blue-500 text-[10px]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-800",children:"50/30/20 Rule"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"50% needs, 30% wants, 20% savings"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"fas fa-bullseye text-emerald-500 text-[10px]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-800",children:"Zero-Based Budget"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Assign every peso a purpose"})]})]})]})]})]}),e.jsxs("div",{className:"d-none d-md-flex align-items-center justify-content-between mb-2 mb-md-4 flex-wrap",children:[e.jsx("h1",{className:"h5 h-md-3 mb-1 mb-md-0 text-gray-800",style:{fontSize:"1.1rem"},children:"Create Budget"}),e.jsxs(m,{to:"/budgets",className:"btn btn-sm btn-secondary shadow-sm d-flex align-items-center",style:{padding:"0.25rem 0.5rem"},children:[e.jsx("i",{className:"fas fa-arrow-left fa-sm",style:{fontSize:"0.7rem"}}),e.jsx("span",{className:"d-none d-md-inline ml-2",children:"Back to Budgets"})]})]}),g&&b&&e.jsx("div",{className:"tip-box light",style:{position:"absolute",top:`${b.top}px`,left:`${b.left}px`,transform:"translateX(-50%)",zIndex:1e3,background:"white",padding:"12px 15px",borderRadius:"8px",boxShadow:"0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15)",maxWidth:"300px",border:"1px solid rgba(0, 0, 0, 0.05)"},children:g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-weight-bold mb-2",children:E[g].title}),e.jsx("p",{className:"mb-0",children:E[g].description})]})}),e.jsxs("div",{className:"row d-none d-md-flex",children:[e.jsx("div",{className:"col-lg-8",children:e.jsxs("div",{className:"card shadow mb-3 mb-md-4",children:[e.jsx("div",{className:"card-header py-2",children:e.jsxs("h6",{className:"m-0 font-weight-bold text-primary",style:{fontSize:"0.875rem"},children:["Budget Details",e.jsx("i",{className:"fas fa-info-circle ml-1 text-gray-400",style:{cursor:"pointer"},onClick:a=>z("budget-details",a)})]})}),e.jsx("div",{className:"card-body p-3",children:e.jsxs("form",{onSubmit:B,children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 mb-3 mb-md-4",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"budget_name",className:"font-weight-bold text-gray-800",style:{fontSize:"0.875rem"},children:["Budget Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",id:"budget_name",name:"budget_name",value:s.budget_name,onChange:_,className:"form-control form-control-user",placeholder:"e.g., Monthly Food Budget",required:!0,style:{fontSize:"0.875rem"}}),e.jsx("small",{className:"form-text text-muted",style:{fontSize:"0.75rem"},children:"Give your budget a descriptive name (avoid special characters like %s, %, ?)"})]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12 mb-3",children:e.jsx(q,{selectedCategoryId:s.category_id,onCategorySelect:C,transactionType:"expense",incomeCategories:[],expenseCategories:h,required:!0,label:"Category",showIcons:!0})})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6 mb-3 mb-md-4",children:e.jsx(R,{selectedPeriod:s.period,onPeriodSelect:k,required:!0,label:"Period"})}),e.jsx("div",{className:"col-12 col-md-6 mb-3 mb-md-4",children:e.jsx(L,{selectedDate:s.startDate,onDateSelect:D,required:!0,label:"Start Date"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 col-md-6 mx-auto",children:e.jsx(T,{value:s.amount,onChange:S,currency:"PHP",label:"Amount",placeholder:"0.00",required:!0,suggestedAmounts:[1e3,2500,5e3,1e4,15e3,25e3]})})}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"submit",className:"btn btn-primary btn-user btn-block",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-arrow-right mr-2"}),"Continue to Review"]})})})]})})]})}),e.jsx("div",{className:"col-lg-4",children:e.jsxs("div",{className:"card shadow mb-3 mb-md-4",children:[e.jsx("div",{className:"card-header py-2",children:e.jsxs("h6",{className:"m-0 font-weight-bold text-primary",style:{fontSize:"0.875rem"},children:["Budgeting Tips",e.jsx("i",{className:"fas fa-info-circle ml-1 text-gray-400",style:{cursor:"pointer"},onClick:a=>z("budget-tips",a)})]})}),e.jsxs("div",{className:"card-body p-3",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"icon-circle bg-primary text-white mr-3",children:e.jsx("i",{className:"fas fa-chart-pie"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-weight-bold text-gray-800",children:"50/30/20 Rule"}),e.jsx("div",{className:"text-muted small",children:"Allocate 50% for needs, 30% for wants, and 20% for savings"})]})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"icon-circle bg-success text-white mr-3",children:e.jsx("i",{className:"fas fa-bullseye"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-weight-bold text-gray-800",children:"Zero-Based Budget"}),e.jsx("div",{className:"text-muted small",children:"Assign every dollar a purpose"})]})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"icon-circle bg-primary text-white mr-3",children:e.jsx("i",{className:"fas fa-balance-scale"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-weight-bold text-gray-800",children:"Be Realistic"}),e.jsx("div",{className:"text-muted small",children:"Set achievable budget goals based on your spending history"})]})]})}),e.jsx("div",{className:"mb-0",children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"icon-circle bg-warning text-white mr-3",children:e.jsx("i",{className:"fas fa-sync-alt"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-weight-bold text-gray-800",children:"Adjust As Needed"}),e.jsx("div",{className:"text-muted small",children:"Review and update your budget regularly"})]})]})})]})]})})]})]})};export{de as default};
